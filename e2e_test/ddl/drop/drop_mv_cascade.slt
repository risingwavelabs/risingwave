statement ok
create materialized view mv as select 1 a

statement ok
CREATE view v AS select * from mv;

statement ok
CREATE view mv2 AS select * from v;

statement ok
CREATE SINK my_sink AS select * from mv2 WITH (
    connector = 'blackhole'
);

statement ok
drop materialized view mv cascade;

query T
SELECT count(name) FROM rw_materialized_views WHERE name = 'mv';
----
0

query T
SELECT count(name) FROM rw_views WHERE name = 'v';
----
0

query T
SELECT count(name) FROM rw_materialized_views WHERE name = 'mv2';
----
0

query T
SELECT count(name) FROM rw_sinks WHERE name = 'my_sink';
----
0
