statement ok
create table non_append_only_table (id int primary key, name string, embedding vector(3));

statement error Invalid input syntax: "non_append_only_table" is not append-only but vector index must be append-only
create index i on non_append_only_table using flat (embedding) with (distance_type = 'inner_product');

statement ok
drop table non_append_only_table;

statement ok
create table items (id int primary key, name string, embedding vector(3)) append only;

statement error Invalid input syntax: vector index cannot specify order
create index i on items using flat (embedding desc) with (distance_type = 'inner_product');

statement error Invalid input syntax: vector index cannot specify order
create index i on items using flat (embedding asc nulls last) with (distance_type = 'inner_product');

statement error Invalid input syntax: vector index must be defined on exactly 1 column, but got 2
create index i on items using flat (embedding, name) with (distance_type = 'inner_product');

statement error Invalid input syntax: vector index must be defined on column of Vector type, but got Varchar
create index i on items using flat (name) with (distance_type = 'inner_product');

statement error Invalid input syntax: invalid index method unsupported
create index i on items using unsupported (name) with (distance_type = 'inner_product');

statement error Invalid input syntax: unsupported vector index distance type: invalid_distance
create index i on items using flat (embedding) with (distance_type = 'invalid_distance');

statement ok
create index i on items using flat (embedding) include (name) with (distance_type = 'inner_product');

statement ok
drop index i;

statement ok
drop table items;