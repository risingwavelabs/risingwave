(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56354,e=>{"use strict";let t;var n,o,r,a,i,l,c,u,s,d,f,g,p,m,v=e.i(91398),h=e.i(38254),b=e.i(37277),y=e.i(55374),w=e.i(91788);e.i(50461);let S="u"<typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?w.useEffect:w.useLayoutEffect;e.i(85446);var O=e.i(59266),O=O;function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function C(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||C(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n=c||(c={})).Strict="strict",n.Loose="loose",(o=u||(u={})).Lines="lines",o.Dots="dots",(r=s||(s={})).Free="free",r.Vertical="vertical",r.Horizontal="horizontal",(a=d||(d={})).Bezier="default",a.Straight="straight",a.Step="step",a.SmoothStep="smoothstep",a.SimpleBezier="simplebezier",(i=f||(f={})).Arrow="arrow",i.ArrowClosed="arrowclosed",(l=g||(g={})).Left="left",l.Top="top",l.Right="right",l.Bottom="bottom";var N=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},M=function(e,t){return{x:j(e.x,t[0][0],t[1][0]),y:j(e.y,t[0][1],t[1][1])}},_=function(e){var t,n;return(null==(t=e.getRootNode)?void 0:t.call(e))||(null==(n=window)?void 0:n.document)},k=function(e){var t=e.x,n=e.y;return{x:t,y:n,x2:t+e.width,y2:n+e.height}},D=function(e){var t=e.x,n=e.y;return{x:t,y:n,width:e.x2-t,height:e.y2-n}},I=function(e){return!isNaN(e)&&isFinite(e)},A=Symbol("internals");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L(e,t){var n=e.find(function(e){return e.id===t.parentNode});if(n){var o,r,a=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(a>0||i>0||t.position.x<0||t.position.y<0){if(n.style=z({},n.style)||{},n.style.width=null!=(o=n.style.width)?o:n.width,n.style.height=null!=(r=n.style.height)?r:n.height,a>0&&(n.style.width+=a),i>0&&(n.style.height+=i),t.position.x<0){var l=Math.abs(t.position.x);n.position.x=n.position.x-l,n.style.width+=l,t.position.x=0}if(t.position.y<0){var c=Math.abs(t.position.y);n.position.y=n.position.y-c,n.style.height+=c,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function R(e,t){if(e.some(function(e){return"reset"===e.type}))return e.filter(function(e){return"reset"===e.type}).map(function(e){return e.item});var n=e.filter(function(e){return"add"===e.type}).map(function(e){return e.item});return t.reduce(function(t,n){var o=e.find(function(e){return e.id===n.id});if(o)switch(o.type){case"select":return t.push(z(z({},n),{},{selected:o.selected})),t;case"position":var r=z({},n);return void 0!==o.position&&(r.position=o.position),void 0!==o.positionAbsolute&&(r.positionAbsolute=o.positionAbsolute),void 0!==o.dragging&&(r.dragging=o.dragging),r.expandParent&&L(t,r),t.push(r),t;case"dimensions":var a=z({},n);return void 0!==o.dimensions&&(a.width=o.dimensions.width,a.height=o.dimensions.height),a.expandParent&&L(t,a),t.push(a),t;case"remove":return t}return t.push(n),t},n)}function T(e,t){return R(e,t)}var X=function(e,t){return{id:e,type:"select",selected:t}};function Y(e,t){return e.reduce(function(e,n){var o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,e.push(X(n.id,!0))):n.selected&&!o&&(n.selected=!1,e.push(X(n.id,!1))),e},[])}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U=function(e,t,n){var o=t.querySelectorAll(e);if(!o||!o.length)return null;var r=Array.from(o),a=t.getBoundingClientRect();return r.map(function(e){var t=e.getBoundingClientRect();return Z({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left)/n,y:(t.top-a.top)/n},N(e))})};function V(e,t,n){return void 0===n?n:function(o){n(o,Z({},t().nodeInternals.get(e)))}}function K(e){var t=e.id,n=e.store,o=n.getState(),r=o.addSelectedNodes,a=o.unselectNodesAndEdges,i=o.multiSelectionActive,l=o.nodeInternals.get(t);n.setState({nodesSelectionActive:!1}),l.selected?l.selected&&i&&a({nodes:[l]}):r([t])}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G=function(e){var t=e.source,n=e.sourceHandle,o=e.target,r=e.targetHandle;return"reactflow__edge-".concat(t).concat(n||"","-").concat(o).concat(r||"")},Q=function(e,t){return void 0===e?"":"string"==typeof e?e:"".concat(t?"".concat(t,"__"):"").concat(Object.keys(e).sort().map(function(t){return"".concat(t,"=").concat(e[t])}).join("&"))},q=function(e,t){var n,o;return e.source&&e.target?(o=n="id"in e&&"source"in e&&"target"in e?F({},e):F(F({},e),{},{id:G(e)}),t.some(function(e){return e.source===o.source&&e.target===o.target&&(e.sourceHandle===o.sourceHandle||!e.sourceHandle&&!o.sourceHandle)&&(e.targetHandle===o.targetHandle||!e.targetHandle&&!o.targetHandle)}))?t:t.concat(n):t},$=function(e,t,n,o){var r=e.x,a=e.y,i=P(t,3),l=i[0],c=i[1],u=i[2],s=P(o,2),d=s[0],f=s[1],g={x:(r-l)/u,y:(a-c)/u};return n?{x:d*Math.round(g.x/d),y:f*Math.round(g.y/f)}:g},J=function(e){return 0===e.length?{x:0,y:0,width:0,height:0}:D(e.reduce(function(e,t){var n,o=t.positionAbsolute,r=t.position,a=t.width,i=t.height;return n=k({x:o?o.x:r.x,y:o?o.y:r.y,width:a||0,height:i||0}),{x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}},{x:1/0,y:1/0,x2:-1/0,y2:-1/0}))},ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],o=P(n,3),r=o[0],a=o[1],i=o[2],l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=k({x:(t.x-r)/i,y:(t.y-a)/i,width:t.width/i,height:t.height/i}),s=[];return e.forEach(function(e){var t=e.positionAbsolute,n=e.width,o=e.height,r=e.selectable;if(c&&!(void 0===r||r))return!1;var a=k(F(F({},t),{},{width:n||0,height:o||0})),i=Math.ceil(Math.max(0,Math.min(u.x2,a.x2)-Math.max(u.x,a.x))*Math.max(0,Math.min(u.y2,a.y2)-Math.max(u.y,a.y))),d=void 0===n||void 0===o||null===n||null===o,f=(n||0)*(o||0);(d||l&&i>0||i>=f)&&s.push(e)}),s},et=function(e,t){var n=e.map(function(e){return e.id});return t.filter(function(e){return n.includes(e.source)||n.includes(e.target)})},en=function(e,t,n,o,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1,i=j(Math.min(t/(e.width*(1+a)),n/(e.height*(1+a))),o,r);return[t/2-(e.x+e.width/2)*i,n/2-(e.y+e.height/2)*i,i]},eo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ei(e,t){var n=new Map,o={};return e.forEach(function(e){var r,a=I(e.zIndex)?e.zIndex:1e3*!!e.selected,i=t.get(e.id),l=ea(ea({width:null==i?void 0:i.width,height:null==i?void 0:i.height},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}});e.parentNode&&(l.parentNode=e.parentNode,o[e.parentNode]=!0),Object.defineProperty(l,A,{enumerable:!1,value:{handleBounds:null==i||null==(r=i[A])?void 0:r.handleBounds,z:a}}),n.set(e.id,l)}),n.forEach(function(e){if(e.parentNode&&!n.has(e.parentNode))throw Error("Parent node ".concat(e.parentNode," not found"));if(e.parentNode||o[e.id]){var t,r,a=function e(t,n,o,r){if(!t.parentNode)return r;var a,i,l,c,u,s,d,f,g,p,m,v,h=n.get(t.parentNode);return e(h,n,o,{x:(null!=(a=r.x)?a:0)+(null!=(i=null==(l=h.position)?void 0:l.x)?i:0),y:(null!=(c=r.y)?c:0)+(null!=(u=null==(s=h.position)?void 0:s.y)?u:0),z:(null!=(d=null==(f=h[A])?void 0:f.z)?d:0)>(null!=(g=r.z)?g:0)?null!=(p=null==(m=h[A])?void 0:m.z)?p:0:null!=(v=r.z)?v:0})}(e,n,o,ea(ea({},e.position),{},{z:null!=(t=null==(r=e[A])?void 0:r.z)?t:0})),i=a.x,l=a.y,c=a.z;e.positionAbsolute={x:i,y:l},e[A].z=c,o[e.id]&&(e[A].isParent=!0)}}),n}function el(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e(),o=n.nodeInternals,r=n.width,a=n.height,i=n.minZoom,l=n.maxZoom,c=n.d3Zoom,u=n.d3Selection,s=n.fitViewOnInitDone,d=n.fitViewOnInit;if((t.initial&&!s&&d||!t.initial)&&c&&u){var f=Array.from(o.values()).filter(function(e){return t.includeHiddenNodes?e.width&&e.height:!e.hidden}),g=f.every(function(e){return e.width&&e.height});if(f.length>0&&g){var p,m,v,h=P(en(J(f),r,a,null!=(p=t.minZoom)?p:i,null!=(m=t.maxZoom)?m:l,null!=(v=t.padding)?v:.1),3),b=h[0],y=h[1],w=h[2],S=O.identity.translate(b,y).scale(w);return"number"==typeof t.duration&&t.duration>0?c.transform(eo(u,t.duration),S):c.transform(u,S),!0}}return!1}function ec(e){var t=e.changedNodes,n=e.changedEdges,o=e.get,r=e.set,a=o(),i=a.nodeInternals,l=a.edges,c=a.onNodesChange,u=a.onEdgesChange,s=a.hasDefaultNodes,d=a.hasDefaultEdges;null!=t&&t.length&&(s&&r({nodeInternals:(t.forEach(function(e){var t,n=i.get(e.id);n&&i.set(n.id,ea(ea({},n),{},(E(t={},A,n[A]),E(t,"selected",e.selected),t)))}),new Map(i))}),null==c||c(t)),null!=n&&n.length&&(d&&r({edges:l.map(function(e){var t=n.find(function(t){return t.id===e.id});return t&&(e.selected=t.selected),e})}),null==u||u(n))}var eu=[[-1/0,-1/0],[1/0,1/0]],es={width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:eu,nodeExtent:eu,nodesSelectionActive:!1,userSelectionActive:!1,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:c.Strict,domNode:null,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,reactFlowVersion:"10.3.16",connectionStartHandle:null,connectOnClick:!0};function ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eg=(t=(0,w.createContext)(void 0),{Provider:({initialStore:e,createStore:n,children:o})=>{let r=(0,w.useRef)();return r.current||(e&&(console.warn("Provider initialStore is deprecated and will be removed in the next version."),n||(n=()=>e)),r.current=n()),(0,w.createElement)(t.Provider,{value:r.current},o)},useStore:(e,n=Object.is)=>{let o=(0,w.useContext)(t);if(!o)throw Error("Seems like you have not used zustand provider as an ancestor.");return o(e,n)},useStoreApi:()=>{let e=(0,w.useContext)(t);if(!e)throw Error("Seems like you have not used zustand provider as an ancestor.");return(0,w.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])}}),ep=eg.Provider,em=eg.useStore,ev=eg.useStoreApi,eh=function(){var e;let t,n,o,r,a,i,l;return i="function"==typeof(e=function(e,t){return ef(ef({},es),{},{setNodes:function(n){e({nodeInternals:ei(n,t().nodeInternals)})},setEdges:function(n){var o=t().defaultEdgeOptions,r=void 0===o?{}:o;e({edges:n.map(function(e){return ef(ef({},r),e)})})},setDefaultNodesAndEdges:function(t,n){var o=void 0!==t,r=void 0!==n;e({nodeInternals:o?ei(t,new Map):new Map,edges:r?n:[],hasDefaultNodes:o,hasDefaultEdges:r})},updateNodeDimensions:function(n){var o=t(),r=o.onNodesChange,a=o.nodeInternals,i=o.fitViewOnInit,l=o.fitViewOnInitDone,c=o.fitViewOnInitOptions,u=o.domNode,s=null==u?void 0:u.querySelector(".react-flow__viewport");if(s){var d=window.getComputedStyle(s),f=new window.DOMMatrixReadOnly(d.transform).m22,g=n.reduce(function(e,t){var n=a.get(t.id);if(n){var o=N(t.nodeElement);o.width&&o.height&&(n.width!==o.width||n.height!==o.height||t.forceUpdate)&&(a.set(n.id,ef(ef({},n),{},E({},A,ef(ef({},n[A]),{},{handleBounds:{source:U(".source",t.nodeElement,f),target:U(".target",t.nodeElement,f)}})),o)),e.push({id:n.id,type:"dimensions",dimensions:o}))}return e},[]),p=l||i&&!l&&el(t,ef({initial:!0},c));e({nodeInternals:new Map(a),fitViewOnInitDone:p}),(null==g?void 0:g.length)>0&&(null==r||r(g))}},updateNodePositions:function(n){var o=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t(),i=a.onNodesChange,l=a.nodeInternals,c=a.hasDefaultNodes;if(c||i){var u=n.map(function(e){var t={id:e.id,type:"position",dragging:r};return o&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t});null!=u&&u.length&&(c&&e({nodeInternals:ei(T(u,Array.from(l.values())),l)}),null==i||i(u))}},addSelectedNodes:function(n){var o,r=t(),a=r.multiSelectionActive,i=r.nodeInternals,l=r.edges,c=null;a?o=n.map(function(e){return X(e,!0)}):(o=Y(Array.from(i.values()),n),c=Y(l,[])),ec({changedNodes:o,changedEdges:c,get:t,set:e})},addSelectedEdges:function(n){var o,r=t(),a=r.multiSelectionActive,i=r.edges,l=r.nodeInternals,c=null;a?o=n.map(function(e){return X(e,!0)}):(o=Y(i,n),c=Y(Array.from(l.values()),[])),ec({changedNodes:c,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.nodes,r=n.edges,a=t(),i=a.nodeInternals,l=a.edges;ec({changedNodes:(o||Array.from(i.values())).map(function(e){return e.selected=!1,X(e.id,!1)}),changedEdges:(r||l).map(function(e){return X(e.id,!1)}),get:t,set:e})},setMinZoom:function(n){var o=t(),r=o.d3Zoom,a=o.maxZoom;null==r||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:function(n){var o=t(),r=o.d3Zoom,a=o.minZoom;null==r||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:function(n){var o=t().d3Zoom;null==o||o.translateExtent(n),e({translateExtent:n})},resetSelectedElements:function(){var n=t(),o=n.nodeInternals,r=n.edges;ec({changedNodes:Array.from(o.values()).filter(function(e){return e.selected}).map(function(e){return X(e.id,!1)}),changedEdges:r.filter(function(e){return e.selected}).map(function(e){return X(e.id,!1)}),get:t,set:e})},setNodeExtent:function(n){var o=t().nodeInternals;o.forEach(function(e){e.positionAbsolute=M(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(o)})},reset:function(){return e(ef({},es))}})})?(n=new Set,o=(e,o)=>{let r="function"==typeof e?e(t):e;if(r!==t){let e=t;t=o?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,a={setState:o,getState:r,subscribe:(e,o,a)=>o||a?((e,o=r,a=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let i=o(t);function l(){let n=o(t);if(!a(i,n)){let t=i;e(i=n,t)}}return n.add(l),()=>n.delete(l)})(e,o,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()},t=e(o,r,a),a):e,Object.assign(l=(e=i.getState,t=Object.is)=>{let n,[,o]=(0,w.useReducer)(e=>e+1,0),r=i.getState(),a=(0,w.useRef)(r),l=(0,w.useRef)(e),c=(0,w.useRef)(t),u=(0,w.useRef)(!1),s=(0,w.useRef)();void 0===s.current&&(s.current=e(r));let d=!1;(a.current!==r||l.current!==e||c.current!==t||u.current)&&(n=e(r),d=!t(s.current,n)),S(()=>{d&&(s.current=n),a.current=r,l.current=e,c.current=t,u.current=!1});let f=(0,w.useRef)(r);S(()=>{let e=()=>{try{let e=i.getState(),t=l.current(e);c.current(s.current,t)||(a.current=e,s.current=t,o())}catch(e){u.current=!0,o()}},t=i.subscribe(e);return i.getState()!==f.current&&e(),t},[]);let g=d?n:s.current;return(0,w.useDebugValue)(g),g},i),l[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[l,i];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},l};function eb(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)""!==(o=eb(e[n]))&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var O=O;function ey(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Object.is(e[n[o]],t[n[o]]))return!1;return!0}function ew(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var eS={zoomIn:function(){},zoomOut:function(){},zoomTo:function(e){},getZoom:function(){return 1},setViewport:function(e){},getViewport:function(){return{x:0,y:0,zoom:1}},fitView:function(){},setCenter:function(e,t){},fitBounds:function(e){},project:function(e){return e},viewportInitialized:!1},eO=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}},eE=function(){var e=ev(),t=em(eO,ey),n=t.d3Zoom,o=t.d3Selection;return(0,w.useMemo)(function(){return o&&n?{zoomIn:function(e){return n.scaleBy(eo(o,null==e?void 0:e.duration),1.2)},zoomOut:function(e){return n.scaleBy(eo(o,null==e?void 0:e.duration),1/1.2)},zoomTo:function(e,t){return n.scaleTo(eo(o,null==t?void 0:t.duration),e)},getZoom:function(){return e.getState().transform[2]},setViewport:function(t,r){var a,i,l,c=P(e.getState().transform,3),u=c[0],s=c[1],d=c[2],f=O.identity.translate(null!=(a=t.x)?a:u,null!=(i=t.y)?i:s).scale(null!=(l=t.zoom)?l:d);n.transform(eo(o,null==r?void 0:r.duration),f)},getViewport:function(){var t=P(e.getState().transform,3);return{x:t[0],y:t[1],zoom:t[2]}},fitView:function(t){return el(e.getState,t)},setCenter:function(t,r,a){var i=e.getState(),l=i.width,c=i.height,u=i.maxZoom,s=void 0!==(null==a?void 0:a.zoom)?a.zoom:u,d=l/2-t*s,f=c/2-r*s,g=O.identity.translate(d,f).scale(s);n.transform(eo(o,null==a?void 0:a.duration),g)},fitBounds:function(t,r){var a,i=e.getState(),l=P(en(t,i.width,i.height,i.minZoom,i.maxZoom,null!=(a=null==r?void 0:r.padding)?a:.1),3),c=l[0],u=l[1],s=l[2],d=O.identity.translate(c,u).scale(s);n.transform(eo(o,null==r?void 0:r.duration),d)},project:function(t){var n=e.getState();return $(t,n.transform,n.snapToGrid,n.snapGrid)},viewportInitialized:!0}:eS},[n,o])};function ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function eC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eP(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var eN=e.i(77449),eN=eN,O=O,ej=e.i(44588),eM=e.i(62930),e_=e.i(76355),ek=e.i(85108),eD=e.i(65302);let eI=e=>()=>e;function eA(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:a,x:i,y:l,dx:c,dy:u,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:s}})}function eB(e){return!e.ctrlKey&&!e.button}function ez(){return this.parentNode}function eL(e,t){return null==t?{x:e.x,y:e.y}:t}function eR(){return navigator.maxTouchPoints||"ontouchstart"in this}eA.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var eT=["paid-pro","paid-sponsor","paid-enterprise","paid-custom"];function eX(e){var t=e.proOptions,n=e.position;if(null!=t&&t.account&&eT.includes(null==t?void 0:t.account)&&null!=t&&t.hideAttribution)return null;var o="".concat(void 0===n?"bottom-right":n).split("-");return w.default.createElement("div",{className:eb(["react-flow__attribution"].concat(ew(o))),"data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing"},w.default.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer"},"React Flow"))}var eY=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function eH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var eZ=(0,w.memo)(function(e){var t=e.x,n=e.y,o=e.label,r=e.labelStyle,a=e.labelShowBg,i=e.labelBgStyle,l=e.labelBgPadding,c=void 0===l?[2,4]:l,u=e.labelBgBorderRadius,s=void 0===u?2:u,d=e.children,f=e.className,g=eP(e,eY),p=(0,w.useRef)(null),m=P((0,w.useState)({x:0,y:0,width:0,height:0}),2),v=m[0],h=m[1],b=eb(["react-flow__edge-textwrapper",f]);return((0,w.useEffect)(function(){if(p.current){var e=p.current.getBBox();h({x:e.x,y:e.y,width:e.width,height:e.height})}},[o]),void 0!==o&&o)?w.default.createElement("g",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({transform:"translate(".concat(t-v.width/2," ").concat(n-v.height/2,")"),className:b},g),(void 0===a||a)&&w.default.createElement("rect",{width:v.width+2*c[0],x:-c[0],y:-c[1],height:v.height+2*c[1],className:"react-flow__edge-textbg",style:void 0===i?{}:i,rx:s,ry:s}),w.default.createElement("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:p,style:void 0===r?{}:r},o),d):null}),eU=function(e){var t=e.path,n=e.centerX,o=e.centerY,r=e.label,a=e.labelStyle,i=e.labelShowBg,l=e.labelBgStyle,c=e.labelBgPadding,u=e.labelBgBorderRadius,s=e.style,d=e.markerEnd,f=e.markerStart,g=r?w.default.createElement(eZ,{x:n,y:o,label:r,labelStyle:a,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null;return w.default.createElement(w.default.Fragment,null,w.default.createElement("path",{style:s,d:t,className:"react-flow__edge-path",markerEnd:d,markerStart:f}),g)};function eV(e){var t,n,o=e.pos,r=e.x1,a=e.y1,i=e.x2,l=e.y2;switch(o){case g.Left:case g.Right:t=.5*(r+i),n=a;break;case g.Top:case g.Bottom:t=r,n=.5*(a+l)}return[t,n]}function eK(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=void 0===o?g.Bottom:o,a=e.targetX,i=e.targetY,l=e.targetPosition,c=void 0===l?g.Top:l,u=P(eV({pos:r,x1:t,y1:n,x2:a,y2:i}),2),s=u[0],d=u[1],f=P(eV({pos:c,x1:a,y1:i,x2:t,y2:n}),2),p=f[0],m=f[1];return"M".concat(t,",").concat(n," C").concat(s,",").concat(d," ").concat(p,",").concat(m," ").concat(a,",").concat(i)}var eW=(0,w.memo)(function(e){var t,n,o,r,a,i,l,c,u,s,d,f,p,m,v,h,b,y,S=e.sourceX,O=e.sourceY,E=e.targetX,x=e.targetY,C=e.sourcePosition,N=void 0===C?g.Bottom:C,j=e.targetPosition,M=void 0===j?g.Top:j,_=e.label,k=e.labelStyle,D=e.labelShowBg,I=e.labelBgStyle,A=e.labelBgPadding,B=e.labelBgBorderRadius,z=e.style,L=e.markerEnd,R=e.markerStart,T={sourceX:S,sourceY:O,sourcePosition:N,targetX:E,targetY:x,targetPosition:M},X=eK(T),Y=(t=T.sourceX,n=T.sourceY,r=void 0===(o=T.sourcePosition)?g.Bottom:o,a=T.targetX,i=T.targetY,c=void 0===(l=T.targetPosition)?g.Top:l,s=(u=P(eV({pos:r,x1:t,y1:n,x2:a,y2:i}),2))[0],d=u[1],p=(f=P(eV({pos:c,x1:a,y1:i,x2:t,y2:n}),2))[0],m=f[1],v=.125*t+.375*s+.375*p+.125*a,h=.125*n+.375*d+.375*m+.125*i,b=Math.abs(v-t),y=Math.abs(h-n),[v,h,b,y]),H=P(Y,2),Z=H[0],U=H[1];return w.default.createElement(eU,{path:X,centerX:Z,centerY:U,label:_,labelStyle:k,labelShowBg:D,labelBgStyle:I,labelBgPadding:A,labelBgBorderRadius:B,style:z,markerEnd:L,markerStart:R})});function eF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var eG=[g.Left,g.Right],eQ=function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=e.sourcePosition,i=void 0===a?g.Bottom:a,l=e.targetPosition,c=void 0===l?g.Top:l,u=eG.includes(i),s=eG.includes(c);if(u&&!s||s&&!u){var d=u?Math.abs(o-t):0,f=u?0:Math.abs(r-n);return[t>o?t-d:t+d,n<r?n+f:n-f,d,f]}var p=Math.abs(o-t)/2,m=Math.abs(r-n)/2;return[o<t?o+p:o-p,r<n?r+m:r-m,p,m]};function eq(e,t,n){return void 0===n?n:function(o){n(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eF(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t().edges.find(function(t){return t.id===e})))}}var e$=function(e,t,n){return"L ".concat(e,",").concat(t-n,"Q ").concat(e,",").concat(t," ").concat(e+n,",").concat(t)},eJ=function(e,t,n){return"L ".concat(e+n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t-n)},e0=function(e,t,n){return"L ".concat(e,",").concat(t-n,"Q ").concat(e,",").concat(t," ").concat(e-n,",").concat(t)},e1=function(e,t,n){return"L ".concat(e-n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t-n)},e2=function(e,t,n){return"L ".concat(e+n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t+n)},e5=function(e,t,n){return"L ".concat(e,",").concat(t+n,"Q ").concat(e,",").concat(t," ").concat(e+n,",").concat(t)},e3=function(e,t,n){return"L ".concat(e,",").concat(t+n,"Q ").concat(e,",").concat(t," ").concat(e-n,",").concat(t)},e4=function(e,t,n){return"L ".concat(e-n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t+n)};function e7(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=void 0===o?g.Bottom:o,a=e.targetX,i=e.targetY,l=e.targetPosition,c=void 0===l?g.Top:l,u=e.borderRadius,s=void 0===u?5:u,d=e.centerX,f=e.centerY,p=P(eQ({sourceX:t,sourceY:n,targetX:a,targetY:i}),4),m=p[0],v=p[1],h=Math.min(Math.min(s,Math.abs(a-t)),Math.min(s,Math.abs(i-n)),p[2],p[3]),b=[g.Left,g.Right],y=void 0!==d?d:m,w=void 0!==f?f:v,S=null,O=null;return t<=a?(S=n<=i?e$(t,w,h):e5(t,w,h),O=n<=i?e4(a,w,h):e1(a,w,h)):(S=n<i?e0(t,w,h):e3(t,w,h),O=n<i?e2(a,w,h):eJ(a,w,h)),b.includes(r)&&b.includes(c)?t<=a?(S=n<=i?e4(y,n,h):e1(y,n,h),O=n<=i?e$(y,i,h):e5(y,i,h)):(r===g.Right&&c===g.Left||r===g.Left&&c===g.Right||r===g.Left&&c===g.Left)&&(S=n<=i?e2(y,n,h):eJ(y,n,h),O=n<=i?e0(y,i,h):e3(y,i,h)):b.includes(r)&&!b.includes(c)?(S=t<=a?n<=i?e4(a,n,h):e1(a,n,h):n<=i?e2(a,n,h):eJ(a,n,h),O=""):!b.includes(r)&&b.includes(c)&&(S=t<=a?n<=i?e$(t,i,h):e5(t,i,h):n<=i?e0(t,i,h):e3(t,i,h),O=""),"M ".concat(t,",").concat(n).concat(S).concat(O,"L ").concat(a,",").concat(i)}var e8=(0,w.memo)(function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=e.label,i=e.labelStyle,l=e.labelShowBg,c=e.labelBgStyle,u=e.labelBgPadding,s=e.labelBgBorderRadius,d=e.style,f=e.sourcePosition,p=void 0===f?g.Bottom:f,m=e.targetPosition,v=void 0===m?g.Top:m,h=e.markerEnd,b=e.markerStart,y=e.borderRadius,S=P(eQ({sourceX:t,sourceY:n,targetX:o,targetY:r,sourcePosition:p,targetPosition:v}),2),O=S[0],E=S[1],x=e7({sourceX:t,sourceY:n,sourcePosition:p,targetX:o,targetY:r,targetPosition:v,borderRadius:void 0===y?5:y});return w.default.createElement(eU,{path:x,centerX:O,centerY:E,label:a,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:s,style:d,markerEnd:h,markerStart:b})});function e9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function e6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e9(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var te=(0,w.memo)(function(e){return w.default.createElement(e8,e6(e6({},e),{},{borderRadius:0}))}),tt=(0,w.memo)(function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=e.label,i=e.labelStyle,l=e.labelShowBg,c=e.labelBgStyle,u=e.labelBgPadding,s=e.labelBgBorderRadius,d=e.style,f=e.markerEnd,g=e.markerStart,p=Math.abs(r-n)/2,m=r<n?r+p:r-p,v=Math.abs(o-t)/2,h="M ".concat(t,",").concat(n,"L ").concat(o,",").concat(r);return w.default.createElement(eU,{path:h,centerX:o<t?o+v:o-v,centerY:m,label:a,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:s,style:d,markerEnd:f,markerStart:g})});function tn(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function to(e){var t,n,o=e.pos,r=e.x1,a=e.y1,i=e.x2,l=e.y2,c=e.c;switch(o){case g.Left:t=r-tn(r-i,c),n=a;break;case g.Right:t=r+tn(i-r,c),n=a;break;case g.Top:t=r,n=a-tn(a-l,c);break;case g.Bottom:t=r,n=a+tn(l-a,c)}return[t,n]}function tr(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=void 0===o?g.Bottom:o,a=e.targetX,i=e.targetY,l=e.targetPosition,c=void 0===l?g.Top:l,u=e.curvature,s=void 0===u?.25:u,d=P(to({pos:r,x1:t,y1:n,x2:a,y2:i,c:s}),2),f=d[0],p=d[1],m=P(to({pos:c,x1:a,y1:i,x2:t,y2:n,c:s}),2),v=m[0],h=m[1];return"M".concat(t,",").concat(n," C").concat(f,",").concat(p," ").concat(v,",").concat(h," ").concat(a,",").concat(i)}var ta=(0,w.memo)(function(e){var t,n,o,r,a,i,l,c,u,s,d,f,p,m,v,h,b,y,S,O,E=e.sourceX,x=e.sourceY,C=e.targetX,N=e.targetY,j=e.sourcePosition,M=void 0===j?g.Bottom:j,_=e.targetPosition,k=void 0===_?g.Top:_,D=e.label,I=e.labelStyle,A=e.labelShowBg,B=e.labelBgStyle,z=e.labelBgPadding,L=e.labelBgBorderRadius,R=e.style,T=e.markerEnd,X=e.markerStart,Y={sourceX:E,sourceY:x,sourcePosition:M,targetX:C,targetY:N,targetPosition:k,curvature:e.curvature},H=tr(Y),Z=(t=Y.sourceX,n=Y.sourceY,r=void 0===(o=Y.sourcePosition)?g.Bottom:o,a=Y.targetX,i=Y.targetY,c=void 0===(l=Y.targetPosition)?g.Top:l,f=(d=P(to({pos:r,x1:t,y1:n,x2:a,y2:i,c:s=void 0===(u=Y.curvature)?.25:u}),2))[0],p=d[1],v=(m=P(to({pos:c,x1:a,y1:i,x2:t,y2:n,c:s}),2))[0],h=m[1],b=.125*t+.375*f+.375*v+.125*a,y=.125*n+.375*p+.375*h+.125*i,S=Math.abs(b-t),O=Math.abs(y-n),[b,y,S,O]),U=P(Z,2),V=U[0],K=U[1];return w.default.createElement(eU,{path:H,centerX:V,centerY:K,label:D,labelStyle:I,labelShowBg:A,labelBgStyle:B,labelBgPadding:z,labelBgBorderRadius:L,style:R,markerEnd:T,markerStart:X})}),ti=(0,w.createContext)(null),tl=ti.Provider;function tc(e,t,n,o,r,a,i){var l=i.elementFromPoint(e.clientX,e.clientY),u=(null==l?void 0:l.classList.contains("target"))||!1,s=(null==l?void 0:l.classList.contains("source"))||!1,d={elementBelow:l,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(l&&(u||s)){d.isHoveringHandle=!0;var f=l.getAttribute("data-nodeid"),g=l.getAttribute("data-handleid"),p=n?{source:f,sourceHandle:g,target:o,targetHandle:r}:{source:o,sourceHandle:r,target:f,targetHandle:g};d.connection=p,(t!==c.Strict||n&&s||!n&&u)&&(d.isValid=a(p))}return d}function tu(e){null==e||e.classList.remove("react-flow__handle-valid"),null==e||e.classList.remove("react-flow__handle-connecting")}function ts(e){var t,n=e.event,o=e.handleId,r=e.nodeId,a=e.onConnect,i=e.isTarget,l=e.getState,c=e.setState,u=e.isValidConnection,s=e.elementEdgeUpdaterType,d=e.onEdgeUpdateEnd,f=n.target.closest(".react-flow"),g=_(n.target);if(g){var p=g.elementFromPoint(n.clientX,n.clientY),m=null==p?void 0:p.classList.contains("target"),v=null==p?void 0:p.classList.contains("source");if(f&&(m||v||s)){var h=l(),b=h.onConnectStart,y=h.connectionMode,w=s||(m?"target":"source"),S=f.getBoundingClientRect();c({connectionPosition:{x:n.clientX-S.left,y:n.clientY-S.top},connectionNodeId:r,connectionHandleId:o,connectionHandleType:w}),null==b||b(n,{nodeId:r,handleId:o,handleType:w}),g.addEventListener("mousemove",O),g.addEventListener("mouseup",function e(n){var f=l(),p=f.onConnectStop,m=f.onConnectEnd,v=tc(n,y,i,r,o,u,g),h=v.connection,b=v.isValid;null==p||p(n),b&&(null==a||a(h)),null==m||m(n),s&&d&&d(n),tu(t),c({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),g.removeEventListener("mousemove",O),g.removeEventListener("mouseup",e)})}}function O(e){c({connectionPosition:{x:e.clientX-S.left,y:e.clientY-S.top}});var n=tc(e,y,i,r,o,u,g),a=n.connection,l=n.elementBelow,s=n.isValid;if(!n.isHoveringHandle)return tu(t);a.source!==a.target&&l&&(tu(t),t=l,l.classList.add("react-flow__handle-connecting"),l.classList.toggle("react-flow__handle-valid",s))}}ti.Consumer;var td=["type","position","isValidConnection","isConnectable","id","onConnect","children","className","onMouseDown"];function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tp=function(){return!0},tm=function(e){return{connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick}},tv=(0,w.forwardRef)(function(e,t){var n=e.type,o=void 0===n?"source":n,r=e.position,a=void 0===r?g.Top:r,i=e.isValidConnection,l=void 0===i?tp:i,c=e.isConnectable,u=e.id,s=e.onConnect,d=e.children,f=e.className,p=e.onMouseDown,m=eP(e,td),v=ev(),h=(0,w.useContext)(ti),b=em(tm,ey),y=b.connectionStartHandle,S=b.connectOnClick,O=u||null,E="target"===o,x=function(e){var t=v.getState(),n=t.defaultEdgeOptions,o=t.onConnect,r=t.hasDefaultEdges,a=tg(tg({},n),e);if(r){var i=v.getState().edges;v.setState({edges:q(a,i)})}null==o||o(a),null==s||s(a)};return w.default.createElement("div",tg({"data-handleid":O,"data-nodeid":h,"data-handlepos":a,className:eb(["react-flow__handle","react-flow__handle-".concat(a),"nodrag",f,{source:!E,target:E,connectable:void 0===c||c,connecting:(null==y?void 0:y.nodeId)===h&&(null==y?void 0:y.handleId)===O&&(null==y?void 0:y.type)===o}]),onMouseDown:function(e){0===e.button&&ts({event:e,handleId:O,nodeId:h,onConnect:x,isTarget:E,getState:v.getState,setState:v.setState,isValidConnection:l}),null==p||p(e)},onClick:S?function(e){var t=v.getState(),n=t.onClickConnectStart,r=t.onClickConnectStop,a=t.onClickConnectEnd,i=t.connectionMode;if(!y){null==n||n(e,{nodeId:h,handleId:O,handleType:o}),v.setState({connectionStartHandle:{nodeId:h,type:o,handleId:O}});return}var c=_(e.target),u=tc(e,i,"target"===y.type,y.nodeId,y.handleId||null,l,c),s=u.connection,d=u.isValid;null==r||r(e),d&&x(s),null==a||a(e),v.setState({connectionStartHandle:null})}:void 0,ref:t},m),d)});tv.displayName="Handle";var th=(0,w.memo)(tv),tb=function(e){var t=e.data,n=e.isConnectable,o=e.targetPosition,r=void 0===o?g.Top:o,a=e.sourcePosition,i=void 0===a?g.Bottom:a;return w.default.createElement(w.default.Fragment,null,w.default.createElement(th,{type:"target",position:r,isConnectable:n}),null==t?void 0:t.label,w.default.createElement(th,{type:"source",position:i,isConnectable:n}))};tb.displayName="DefaultNode";var ty=(0,w.memo)(tb),tw=function(e){var t=e.data,n=e.isConnectable,o=e.sourcePosition,r=void 0===o?g.Bottom:o;return w.default.createElement(w.default.Fragment,null,null==t?void 0:t.label,w.default.createElement(th,{type:"source",position:r,isConnectable:n}))};tw.displayName="InputNode";var tS=(0,w.memo)(tw),tO=function(e){var t=e.data,n=e.isConnectable,o=e.targetPosition,r=void 0===o?g.Top:o;return w.default.createElement(w.default.Fragment,null,w.default.createElement(th,{type:"target",position:r,isConnectable:n}),null==t?void 0:t.label)};tO.displayName="OutputNode";var tE=(0,w.memo)(tO),tx=function(e){return{selectedNodes:Array.from(e.nodeInternals.values()).filter(function(e){return e.selected}),selectedEdges:e.edges.filter(function(e){return e.selected})}},tC=function(e,t){var n=e.selectedNodes.map(function(e){return e.id}),o=t.selectedNodes.map(function(e){return e.id}),r=e.selectedEdges.map(function(e){return e.id}),a=t.selectedEdges.map(function(e){return e.id});return ey(n,o)&&ey(r,a)},tP=(0,w.memo)(function(e){var t=e.onSelectionChange,n=em(tx,tC),o=n.selectedNodes,r=n.selectedEdges;return(0,w.useEffect)(function(){t({nodes:o,edges:r})},[o,r]),null}),tN=function(e){return{setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset}};function tj(e,t){(0,w.useEffect)(function(){void 0!==e&&t(e)},[e])}function tM(e,t,n){(0,w.useEffect)(function(){void 0!==t&&n(E({},e,t))},[t])}var t_=function(e){var t=e.nodes,n=e.edges,o=e.defaultNodes,r=e.defaultEdges,a=e.onConnect,i=e.onConnectStart,l=e.onConnectStop,c=e.onConnectEnd,u=e.onClickConnectStart,s=e.onClickConnectStop,d=e.onClickConnectEnd,f=e.nodesDraggable,g=e.nodesConnectable,p=e.minZoom,m=e.maxZoom,v=e.nodeExtent,h=e.onNodesChange,b=e.onEdgesChange,y=e.elementsSelectable,S=e.connectionMode,O=e.snapGrid,E=e.snapToGrid,x=e.translateExtent,C=e.connectOnClick,P=e.defaultEdgeOptions,N=e.fitView,j=e.fitViewOptions,M=e.onNodesDelete,_=e.onEdgesDelete,k=e.onNodeDrag,D=e.onNodeDragStart,I=e.onNodeDragStop,A=e.onSelectionDrag,B=e.onSelectionDragStart,z=e.onSelectionDragStop,L=em(tN,ey),R=L.setNodes,T=L.setEdges,X=L.setDefaultNodesAndEdges,Y=L.setMinZoom,H=L.setMaxZoom,Z=L.setTranslateExtent,U=L.setNodeExtent,V=L.reset,K=ev();return(0,w.useEffect)(function(){return X(o,r),function(){V()}},[]),tM("defaultEdgeOptions",P,K.setState),tM("connectionMode",S,K.setState),tM("onConnect",a,K.setState),tM("onConnectStart",i,K.setState),tM("onConnectStop",l,K.setState),tM("onConnectEnd",c,K.setState),tM("onClickConnectStart",u,K.setState),tM("onClickConnectStop",s,K.setState),tM("onClickConnectEnd",d,K.setState),tM("nodesDraggable",f,K.setState),tM("nodesConnectable",g,K.setState),tM("elementsSelectable",y,K.setState),tM("snapToGrid",E,K.setState),tM("snapGrid",O,K.setState),tM("onNodesChange",h,K.setState),tM("onEdgesChange",b,K.setState),tM("connectOnClick",C,K.setState),tM("fitViewOnInit",N,K.setState),tM("fitViewOnInitOptions",j,K.setState),tM("onNodesDelete",M,K.setState),tM("onEdgesDelete",_,K.setState),tM("onNodeDrag",k,K.setState),tM("onNodeDragStart",D,K.setState),tM("onNodeDragStop",I,K.setState),tM("onSelectionDrag",A,K.setState),tM("onSelectionDragStart",B,K.setState),tM("onSelectionDragStop",z,K.setState),tj(t,R),tj(n,T),tj(o,R),tj(r,T),tj(p,Y),tj(m,H),tj(x,Z),tj(v,U),null},tk=function(e){var t=e.className,n=e.position,o=e.centerX,r=e.centerY,a=e.radius,i=void 0===a?10:a;return w.default.createElement("circle",{className:eb(["react-flow__edgeupdater",t]),cx:n===g.Left?o-i:n===g.Right?o+i:o,cy:n===g.Top?r-i:n===g.Bottom?r+i:r,r:i,stroke:"transparent",fill:"transparent"})},tD=function(e){var t=function(t){var n=t.id,o=t.className,r=t.type,a=t.data,i=t.onClick,l=t.onEdgeDoubleClick,c=t.selected,u=t.animated,s=t.label,d=t.labelStyle,f=t.labelShowBg,g=t.labelBgStyle,p=t.labelBgPadding,m=t.labelBgBorderRadius,v=t.style,h=t.source,b=t.target,y=t.sourceX,S=t.sourceY,O=t.targetX,E=t.targetY,x=t.sourcePosition,C=t.targetPosition,N=t.elementsSelectable,j=t.hidden,M=t.sourceHandleId,_=t.targetHandleId,k=t.onContextMenu,D=t.onMouseEnter,I=t.onMouseMove,A=t.onMouseLeave,B=t.edgeUpdaterRadius,z=t.onEdgeUpdate,L=t.onEdgeUpdateStart,R=t.onEdgeUpdateEnd,T=t.markerEnd,X=t.markerStart,Y=t.rfId,H=P((0,w.useState)(!1),2),Z=H[0],U=H[1],V=ev(),K=eq(n,V.getState,l),W=eq(n,V.getState,k),F=eq(n,V.getState,D),G=eq(n,V.getState,I),q=eq(n,V.getState,A),$=function(e,t){var o=t?b:h,r=(t?_:M)||null,a=t?"target":"source",i=V.getState().edges.find(function(e){return e.id===n});null==L||L(e,i,a);var l=R?function(e){return R(e,i,a)}:void 0;ts({event:e,handleId:r,nodeId:o,onConnect:function(e){return null==z?void 0:z(i,e)},isTarget:t,getState:V.getState,setState:V.setState,isValidConnection:function(){return!0},elementEdgeUpdaterType:a,onEdgeUpdateEnd:l})},J=function(){return U(!0)},ee=function(){return U(!1)},et=(0,w.useMemo)(function(){return"url(#".concat(Q(X,Y),")")},[X,Y]),en=(0,w.useMemo)(function(){return"url(#".concat(Q(T,Y),")")},[T,Y]);if(j)return null;var eo=void 0!==z,er=eb(["react-flow__edge","react-flow__edge-".concat(r),o,{selected:c,animated:u,inactive:!N&&!i,updating:Z}]);return w.default.createElement("g",{className:er,onClick:function(e){var t=V.getState(),o=t.edges,r=t.addSelectedEdges,a=o.find(function(e){return e.id===n});N&&(V.setState({nodesSelectionActive:!1}),r([n])),null==i||i(e,a)},onDoubleClick:K,onContextMenu:W,onMouseEnter:F,onMouseMove:G,onMouseLeave:q},w.default.createElement(e,{id:n,source:h,target:b,selected:c,animated:u,label:s,labelStyle:d,labelShowBg:f,labelBgStyle:g,labelBgPadding:p,labelBgBorderRadius:m,data:a,style:v,sourceX:y,sourceY:S,targetX:O,targetY:E,sourcePosition:x,targetPosition:C,sourceHandleId:M,targetHandleId:_,markerStart:et,markerEnd:en}),eo&&w.default.createElement("g",{onMouseDown:function(e){return $(e,!0)},onMouseEnter:J,onMouseOut:ee},w.default.createElement(tk,{position:x,centerX:y,centerY:S,radius:B})),eo&&w.default.createElement("g",{onMouseDown:function(e){return $(e,!1)},onMouseEnter:J,onMouseOut:ee},w.default.createElement(tk,{position:C,centerX:O,centerY:E,radius:B})))};return t.displayName="EdgeWrapper",(0,w.memo)(t)};function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tB(e){var t={default:tD(e.default||ta),straight:tD(e.bezier||tt),step:tD(e.step||te),smoothstep:tD(e.step||e8),simplebezier:tD(e.simplebezier||eW)},n=Object.keys(e).filter(function(e){return!["default","bezier"].includes(e)}).reduce(function(t,n){return t[n]=tD(e[n]||ta),t},{});return tA(tA({},t),n)}function tz(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=((null==n?void 0:n.x)||0)+t.x,r=((null==n?void 0:n.y)||0)+t.y,a=(null==n?void 0:n.width)||t.width,i=(null==n?void 0:n.height)||t.height;switch(e){case g.Top:return{x:o+a/2,y:r};case g.Right:return{x:o+a,y:r+i/2};case g.Bottom:return{x:o+a/2,y:r+i};case g.Left:return{x:o,y:r+i/2}}}function tL(e,t){if(!e)return null;var n=null;return 1!==e.length&&t?t&&(n=e.find(function(e){return e.id===t})):n=e[0],void 0===n?null:n}var tR=function(e,t,n,o,r,a){var i=tz(n,e,t),l=tz(a,o,r);return{sourceX:i.x,sourceY:i.y,targetX:l.x,targetY:l.y}};function tT(e,t){var n,o,r,a,i,l=e.get(t),c=(null==l||null==(n=l[A])?void 0:n.handleBounds)||null,u=!l||!c||!l.width||!l.height||void 0===(null==(o=l.positionAbsolute)?void 0:o.x)||void 0===(null==(r=l.positionAbsolute)?void 0:r.y);return[{x:(null==l||null==(a=l.positionAbsolute)?void 0:a.x)||0,y:(null==l||null==(i=l.positionAbsolute)?void 0:i.y)||0,width:(null==l?void 0:l.width)||0,height:(null==l?void 0:l.height)||0},c,!u]}var tX="u">typeof document?document:null,tY=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:tX},n=P((0,w.useState)(!1),2),o=n[0],r=n[1],a=(0,w.useRef)(new Set([])),i=P((0,w.useMemo)(function(){if(null!==e){var t=(Array.isArray(e)?e:[e]).filter(function(e){return"string"==typeof e}).map(function(e){return e.split("+")}),n=t.reduce(function(e,t){return e.concat.apply(e,ew(t))},[]);return[t,n]}return[[],[]]},[e]),2),l=i[0],c=i[1];return(0,w.useEffect)(function(){if(null!==e){var n,o,i=function(e){if(tU(e))return!1;var t=tZ(e.code,c);a.current.add(e[t]),tH(l,a.current,!1)&&(e.preventDefault(),r(!0))},u=function(e){if(tU(e))return!1;var t=tZ(e.code,c);tH(l,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(e[t])},s=function(){a.current.clear(),r(!1)};return null==t||null==(n=t.target)||n.addEventListener("keydown",i),null==t||null==(o=t.target)||o.addEventListener("keyup",u),window.addEventListener("blur",s),function(){var e,n;null==t||null==(e=t.target)||e.removeEventListener("keydown",i),null==t||null==(n=t.target)||n.removeEventListener("keyup",u),window.removeEventListener("blur",s)}}},[e,r]),o};function tH(e,t,n){return e.filter(function(e){return n||e.length===t.size}).some(function(e){return e.every(function(e){return t.has(e)})})}function tZ(e,t){return t.includes(e)?"code":"key"}function tU(e){var t=e.target;return["INPUT","SELECT","TEXTAREA"].includes(null==t?void 0:t.nodeName)||(null==t?void 0:t.hasAttribute("contenteditable"))}var tV=function(e){return{onNodesChange:e.onNodesChange,onEdgesChange:e.onEdgesChange}},tK=function(e){var t=e.deleteKeyCode,n=e.multiSelectionKeyCode,o=ev(),r=em(tV,ey),a=r.onNodesChange,i=r.onEdgesChange,l=tY(t),c=tY(n);(0,w.useEffect)(function(){var e=o.getState(),t=e.nodeInternals,n=e.edges,r=e.hasDefaultNodes,c=e.hasDefaultEdges,u=e.onNodesDelete,s=e.onEdgesDelete,d=Array.from(t.values()).reduce(function(e,t){return!t.selected&&t.parentNode&&e.find(function(e){return e.id===t.parentNode})?e.push(t):t.selected&&e.push(t),e},[]),f=n.filter(function(e){return e.selected});if(l&&(d||f)){var g=et(d,n),p=[].concat(ew(f),ew(g)),m=p.reduce(function(e,t){return e.includes(t.id)||e.push(t.id),e},[]);(c||r)&&(c&&o.setState({edges:n.filter(function(e){return!m.includes(e.id)})}),r&&(d.forEach(function(e){t.delete(e.id)}),o.setState({nodeInternals:new Map(t)}))),m.length>0&&(null==s||s(p),i&&i(m.map(function(e){return{id:e,type:"remove"}}))),d.length>0&&(null==u||u(d),a&&a(d.map(function(e){return{id:e.id,type:"remove"}}))),o.setState({nodesSelectionActive:!1})}},[l,a,i]),(0,w.useEffect)(function(){o.setState({multiSelectionActive:c})},[c])},tW=function(e){return{x:e.x,y:e.y,zoom:e.k}},tF=function(e,t){return e.target.closest(".".concat(t))},tG=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler}},tQ=function(e){var t,n=e.onMove,o=e.onMoveStart,r=e.onMoveEnd,a=e.zoomOnScroll,i=void 0===a||a,l=e.zoomOnPinch,c=void 0===l||l,u=e.panOnScroll,d=void 0!==u&&u,f=e.panOnScrollSpeed,g=void 0===f?.5:f,p=e.panOnScrollMode,m=void 0===p?s.Free:p,v=e.zoomOnDoubleClick,h=void 0===v||v,b=e.selectionKeyPressed,y=e.elementsSelectable,S=e.panOnDrag,E=void 0===S||S,x=e.translateExtent,C=e.minZoom,P=e.maxZoom,M=e.defaultZoom,_=void 0===M?1:M,k=e.defaultPosition,D=void 0===k?[0,0]:k,I=e.zoomActivationKeyCode,A=e.preventScrolling,B=void 0===A||A,z=e.children,L=e.noWheelClassName,R=e.noPanClassName,T=ev(),X=(0,w.useRef)(!1),Y=(0,w.useRef)(null),H=(0,w.useRef)({x:0,y:0,zoom:0}),Z=em(tG,ey),U=Z.d3Zoom,V=Z.d3Selection,K=Z.d3ZoomHandler,W=tY(I);return t=ev(),(0,w.useEffect)(function(){var e,n=function(){if(Y.current){var e=N(Y.current);t.setState({width:e.width||500,height:e.height||500})}};return n(),window.onresize=n,Y.current&&(e=new ResizeObserver(function(){return n()})).observe(Y.current),function(){window.onresize=null,e&&Y.current&&e.unobserve(Y.current)}},[]),(0,w.useEffect)(function(){if(Y.current){var e,t=(0,eN.default)().scaleExtent([C,P]).translateExtent(x),n=(0,ej.select)(Y.current).call(t),o=j(D[0],x[0][0],x[1][0]),r=j(D[1],x[0][1],x[1][1]),a=j(_,C,P),i=O.identity.translate(o,r).scale(a);t.transform(n,i),T.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[o,r,a],domNode:null==(e=n.node())?void 0:e.closest(".react-flow")})}},[]),(0,w.useEffect)(function(){V&&U&&(d&&!W?V.on("wheel",function(e){if(tF(e,L))return!1;e.preventDefault(),e.stopImmediatePropagation();var t=V.property("__zoom").k||1;if(e.ctrlKey&&c){var n=(0,eM.pointer)(e),o=t*Math.pow(2,-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*10);U.scaleTo(V,o,n);return}var r=1===e.deltaMode?20:1,a=m===s.Vertical?0:e.deltaX*r,i=m===s.Horizontal?0:e.deltaY*r;U.translateBy(V,-(a/t)*g,-(i/t)*g)}).on("wheel.zoom",null):void 0!==K&&V.on("wheel",function(e){if(!B||tF(e,L))return null;e.preventDefault()}).on("wheel.zoom",K))},[d,m,V,U,K,W,c,B,L]),(0,w.useEffect)(function(){U&&(b&&!X.current?U.on("zoom",null):b||U.on("zoom",function(e){if(T.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),n){var t=tW(e.transform);n(e.sourceEvent,t)}}))},[b,U,n]),(0,w.useEffect)(function(){U&&U.on("start",function(e){if(X.current=!0,o){var t=tW(e.transform);H.current=t,o(e.sourceEvent,t)}})},[U,o]),(0,w.useEffect)(function(){U&&U.on("end",function(e){var t,n;if(X.current=!1,r&&(t=H.current,n=e.transform,t.x!==n.x||t.y!==n.y||t.zoom!==n.k)){var o=tW(e.transform);H.current=o,r(e.sourceEvent,o)}})},[U,r]),(0,w.useEffect)(function(){U&&U.filter(function(e){var t=W||i,n=c&&e.ctrlKey;return!(!E&&!t&&!d&&!h&&!c||b||!h&&"dblclick"===e.type||tF(e,L)&&"wheel"===e.type||tF(e,R)&&"wheel"!==e.type)&&(!!c||!e.ctrlKey||"wheel"!==e.type)&&(!!t||!!d||!!n||"wheel"!==e.type)&&(!!E||"mousedown"!==e.type&&"touchstart"!==e.type)&&(!e.ctrlKey||"wheel"===e.type)&&!e.button})},[U,i,c,d,h,E,b,y,W]),w.default.createElement("div",{className:"react-flow__renderer react-flow__container",ref:Y},z)};function tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function t$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tq(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tJ(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}var t0=function(e){return{userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable}},t1={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},t2=(0,w.memo)(function(e){var t=e.selectionKeyPressed,n=ev(),o=(0,w.useRef)(0),r=(0,w.useRef)(0),a=(0,w.useRef)(),i=P((0,w.useState)(t1),2),l=i[0],c=i[1],u=em(t0,ey),s=u.userSelectionActive;if(!u.elementsSelectable||!(s||t))return null;var d=function(){c(t1),n.setState({userSelectionActive:!1}),o.current=0,r.current=0};return w.default.createElement("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:function(e){a.current=e.target.closest(".react-flow").getBoundingClientRect();var t=tJ(e,a.current);c({width:0,height:0,startX:t.x,startY:t.y,x:t.x,y:t.y,draw:!0}),n.setState({userSelectionActive:!0,nodesSelectionActive:!1})},onMouseMove:function(e){if(t&&l.draw&&a.current){var i,u,s=tJ(e,a.current),d=null!=(i=l.startX)?i:0,f=null!=(u=l.startY)?u:0,g=t$(t$({},l),{},{x:s.x<d?s.x:d,y:s.y<f?s.y:f,width:Math.abs(s.x-d),height:Math.abs(s.y-f)}),p=n.getState(),m=p.nodeInternals,v=p.edges,h=p.transform,b=p.onNodesChange,y=p.onEdgesChange,w=Array.from(m.values()),S=ee(m,g,h,!1,!0),O=et(S,v).map(function(e){return e.id}),E=S.map(function(e){return e.id});if(o.current!==E.length){o.current=E.length;var x=Y(w,E);x.length&&(null==b||b(x))}if(r.current!==O.length){r.current=O.length;var C=Y(v,O);C.length&&(null==y||y(C))}c(g)}},onMouseUp:function(){n.setState({nodesSelectionActive:o.current>0}),d()},onMouseLeave:function(){n.setState({nodesSelectionActive:!1}),d()}},l.draw&&w.default.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:l.width,height:l.height,transform:"translate(".concat(l.x,"px, ").concat(l.y,"px)")}}))});function t5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function t3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t5(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function t4(e,t,n){var o,r=e;do{if(null!=(o=r)&&o.matches(t))return!0;if(r===n.current)break;r=r.parentElement}while(r)return!1}function t7(e){var t=e.nodeId,n=e.dragItems,o=e.nodeInternals,r=n.map(function(e){return t3(t3({},o.get(e.id)),{},{position:e.position,positionAbsolute:e.positionAbsolute})});return[t?r.find(function(e){return e.id===t}):r[0],r]}function t8(e){return function(t,n,o){return null==e?void 0:e(t,o)}}function t9(e){var t=e.nodeRef,n=e.disabled,o=void 0!==n&&n,r=e.noDragClassName,a=e.handleSelector,i=e.nodeId,l=e.isSelectable,c=e.selectNodesOnDrag,u=P((0,w.useState)(!1),2),s=u[0],d=u[1],f=ev(),g=(0,w.useRef)(),p=(0,w.useRef)({x:null,y:null}),m=(0,w.useCallback)(function(e){var t=e.sourceEvent,n=f.getState(),o=n.transform,r=n.snapGrid,a=n.snapToGrid;return $({x:t.touches?t.touches[0].clientX:t.clientX,y:t.touches?t.touches[0].clientY:t.clientY},o,a,r)},[]);return(0,w.useEffect)(function(){if(null!=t&&t.current){var e=(0,ej.select)(t.current);if(o)e.on(".drag",null);else{var n=(function(){var e,t,n,o,r=eB,a=ez,i=eL,l=eR,c={},u=(0,e_.dispatch)("start","drag","end"),s=0,d=0;function f(e){e.on("mousedown.drag",g).filter(l).on("touchstart.drag",v).on("touchmove.drag",h,eD.nonpassive).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(i,l){if(!o&&r.call(this,i,l)){var c=y(this,a.call(this,i,l),i,l,"mouse");c&&((0,ej.select)(i.view).on("mousemove.drag",p,eD.nonpassivecapture).on("mouseup.drag",m,eD.nonpassivecapture),(0,ek.default)(i.view),(0,eD.nopropagation)(i),n=!1,e=i.clientX,t=i.clientY,c("start",i))}}function p(o){if((0,eD.default)(o),!n){var r=o.clientX-e,a=o.clientY-t;n=r*r+a*a>d}c.mouse("drag",o)}function m(e){(0,ej.select)(e.view).on("mousemove.drag mouseup.drag",null),(0,ek.yesdrag)(e.view,n),(0,eD.default)(e),c.mouse("end",e)}function v(e,t){if(r.call(this,e,t)){var n,o,i=e.changedTouches,l=a.call(this,e,t),c=i.length;for(n=0;n<c;++n)(o=y(this,l,e,t,i[n].identifier,i[n]))&&((0,eD.nopropagation)(e),o("start",e,i[n]))}}function h(e){var t,n,o=e.changedTouches,r=o.length;for(t=0;t<r;++t)(n=c[o[t].identifier])&&((0,eD.default)(e),n("drag",e,o[t]))}function b(e){var t,n,r=e.changedTouches,a=r.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<a;++t)(n=c[r[t].identifier])&&((0,eD.nopropagation)(e),n("end",e,r[t]))}function y(e,t,n,o,r,a){var l,d,g,p=u.copy(),m=(0,eM.pointer)(a||n,t);if(null!=(g=i.call(e,new eA("beforestart",{sourceEvent:n,target:f,identifier:r,active:s,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),o)))return l=g.x-m[0]||0,d=g.y-m[1]||0,function n(a,i,u){var v,h=m;switch(a){case"start":c[r]=n,v=s++;break;case"end":delete c[r],--s;case"drag":m=(0,eM.pointer)(u||i,t),v=s}p.call(a,e,new eA(a,{sourceEvent:i,subject:g,target:f,identifier:r,active:v,x:m[0]+l,y:m[1]+d,dx:m[0]-h[0],dy:m[1]-h[1],dispatch:p}),o)}}return f.filter=function(e){return arguments.length?(r="function"==typeof e?e:eI(!!e),f):r},f.container=function(e){return arguments.length?(a="function"==typeof e?e:eI(e),f):a},f.subject=function(e){return arguments.length?(i="function"==typeof e?e:eI(e),f):i},f.touchable=function(e){return arguments.length?(l="function"==typeof e?e:eI(!!e),f):l},f.on=function(){var e=u.on.apply(u,arguments);return e===u?f:e},f.clickDistance=function(e){return arguments.length?(d=(e*=1)*e,f):Math.sqrt(d)},f})().on("start",function(e){var t,n=f.getState(),o=n.nodeInternals,r=n.multiSelectionActive,a=n.unselectNodesAndEdges,u=n.onNodeDragStart,s=n.onSelectionDragStart,d=i?u:t8(s);!c&&!r&&i&&(null!=(t=o.get(i))&&t.selected||a()),i&&l&&c&&K({id:i,store:f});var v=m(e);if(p.current=v,g.current=Array.from(o.values()).filter(function(e){return(e.selected||e.id===i)&&(!e.parentNode||!function e(t,n){if(!t.parentNode)return!1;var o=n.get(t.parentNode);return!!o&&(!!o.selected||e(o,n))}(e,o))}).map(function(e){var t,n,o,r;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:v.x-(null!=(t=null==(n=e.positionAbsolute)?void 0:n.x)?t:0),y:v.y-(null!=(o=null==(r=e.positionAbsolute)?void 0:r.y)?o:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode,width:e.width,height:e.height}}),d&&g.current){var h=P(t7({nodeId:i,dragItems:g.current,nodeInternals:o}),2),b=h[0],y=h[1];d(e.sourceEvent,b,y)}}).on("drag",function(e){var t=f.getState(),n=t.updateNodePositions,o=t.nodeInternals,r=t.nodeExtent,a=t.onNodeDrag,l=t.onSelectionDrag,c=m(e);if((p.current.x!==c.x||p.current.y!==c.y)&&g.current){p.current=c,g.current=g.current.map(function(e){return function(e,t,n,o){var r=e.extent||o,a={x:t.x-e.distance.x,y:t.y-e.distance.y};if("parent"===e.extent)if(e.parentNode&&e.width&&e.height){var i=n.get(e.parentNode);r=null!=i&&i.positionAbsolute&&null!=i&&i.width&&null!=i&&i.height?[[i.positionAbsolute.x,i.positionAbsolute.y],[i.positionAbsolute.x+i.width-e.width,i.positionAbsolute.y+i.height-e.height]]:r}else r=o;else if(e.extent&&e.parentNode){var l,c,u,s,d=n.get(e.parentNode),f=null!=(l=null==d||null==(c=d.positionAbsolute)?void 0:c.x)?l:0,g=null!=(u=null==d||null==(s=d.positionAbsolute)?void 0:s.y)?u:0;r=[[e.extent[0][0]+f,e.extent[0][1]+g],[e.extent[1][0]+f,e.extent[1][1]+g]]}var p={x:0,y:0};if(e.parentNode){var m,v,h,b,y=n.get(e.parentNode);p={x:null!=(m=null==y||null==(v=y.positionAbsolute)?void 0:v.x)?m:0,y:null!=(h=null==y||null==(b=y.positionAbsolute)?void 0:b.y)?h:0}}return e.positionAbsolute=r?M(a,r):a,e.position={x:e.positionAbsolute.x-p.x,y:e.positionAbsolute.y-p.y},e}(e,c,o,r)});var u=i?a:t8(l);if(n(g.current,!0,!0),d(!0),u){var s=P(t7({nodeId:i,dragItems:g.current,nodeInternals:o}),2),v=s[0],h=s[1];u(e.sourceEvent,v,h)}}e.on("end",function(e){if(d(!1),g.current){var t=f.getState(),n=t.updateNodePositions,o=t.nodeInternals,r=t.onNodeDragStop,a=t.onSelectionDragStop,l=i?r:t8(a);if(n(g.current,!1,!1),l){var c=P(t7({nodeId:i,dragItems:g.current,nodeInternals:o}),2),u=c[0],s=c[1];l(e.sourceEvent,u,s)}}})}).filter(function(e){var n=e.target;return!e.button&&(!r||!t4(n,".".concat(r),t))&&(!a||t4(n,a,t))});return e.call(n),function(){e.on(".drag",null)}}}},[t,o,r,a,l,f,i,c,m]),s}function t6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var ne=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t6(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive},J(Array.from(e.nodeInternals.values()).filter(function(e){return e.selected})))},nt=function(e){return J(Array.from(e.nodeInternals.values()).filter(function(e){return e.selected}))},nn=(0,w.memo)(function(e){var t=e.onSelectionContextMenu,n=e.noPanClassName,o=ev(),r=em(ne,ey),a=r.transformString,i=r.userSelectionActive,l=em(nt,ey),c=l.width,u=l.height,s=l.x,d=l.y,f=(0,w.useRef)(null);if(t9({nodeRef:f}),i||!c||!u)return null;var g=t?function(e){t(e,Array.from(o.getState().nodeInternals.values()).filter(function(e){return e.selected}))}:void 0;return w.default.createElement("div",{className:eb(["react-flow__nodesselection","react-flow__container",n]),style:{transform:a}},w.default.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:g,style:{width:c,height:u,top:d,left:s}}))}),no=function(e){return e.nodesSelectionActive},nr=function(e){var t=e.children,n=e.onPaneClick,o=e.onPaneContextMenu,r=e.onPaneScroll,a=e.deleteKeyCode,i=e.onMove,l=e.onMoveStart,c=e.onMoveEnd,u=e.selectionKeyCode,s=e.multiSelectionKeyCode,d=e.zoomActivationKeyCode,f=e.elementsSelectable,g=e.zoomOnScroll,p=e.zoomOnPinch,m=e.panOnScroll,v=e.panOnScrollSpeed,h=e.panOnScrollMode,b=e.zoomOnDoubleClick,y=e.panOnDrag,S=e.translateExtent,O=e.minZoom,E=e.maxZoom,x=e.defaultZoom,C=e.defaultPosition,P=e.preventScrolling,N=e.onSelectionContextMenu,j=e.noWheelClassName,M=e.noPanClassName,_=ev(),k=em(no),D=tY(u);return tK({deleteKeyCode:a,multiSelectionKeyCode:s}),w.default.createElement(tQ,{onMove:i,onMoveStart:l,onMoveEnd:c,selectionKeyPressed:D,elementsSelectable:f,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:m,panOnScrollSpeed:v,panOnScrollMode:h,zoomOnDoubleClick:b,panOnDrag:y,translateExtent:S,minZoom:O,maxZoom:E,defaultZoom:x,defaultPosition:C,zoomActivationKeyCode:d,preventScrolling:P,noWheelClassName:j,noPanClassName:M},t,w.default.createElement(t2,{selectionKeyPressed:D}),k&&w.default.createElement(nn,{onSelectionContextMenu:N,noPanClassName:M}),w.default.createElement("div",{className:"react-flow__pane react-flow__container",onClick:function(e){null==n||n(e),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},onContextMenu:o?function(e){return o(e)}:void 0,onWheel:r?function(e){return r(e)}:void 0}))};nr.displayName="FlowRenderer";var na=(0,w.memo)(nr),ni=function(e){return{nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions}},nl=function(e){var t,n=em(ni,ey),o=n.nodesDraggable,r=n.nodesConnectable,a=n.elementsSelectable,i=n.updateNodeDimensions,l=(t=e.onlyRenderVisibleElements,em((0,w.useCallback)(function(e){return t?ee(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):Array.from(e.nodeInternals.values())},[t]))),c=(0,w.useRef)(),u=(0,w.useMemo)(function(){if("u"<typeof ResizeObserver)return null;var e=new ResizeObserver(function(e){i(e.map(function(e){return{id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}}))});return c.current=e,e},[]);return(0,w.useEffect)(function(){return function(){var e;null==c||null==(e=c.current)||e.disconnect()}},[]),w.default.createElement("div",{className:"react-flow__nodes react-flow__container"},l.map(function(t){var n,i,l,c,s,d,f,p=t.type||"default";e.nodeTypes[p]||(p="default");var m=e.nodeTypes[p]||e.nodeTypes.default,v=!!(t.draggable||o&&void 0===t.draggable),h=!!(t.selectable||a&&void 0===t.selectable),b=!!(t.connectable||r&&void 0===t.connectable);return w.default.createElement(m,{key:t.id,id:t.id,className:t.className,style:t.style,type:p,data:t.data,sourcePosition:t.sourcePosition||g.Bottom,targetPosition:t.targetPosition||g.Top,hidden:t.hidden,xPos:null!=(n=null==(i=t.positionAbsolute)?void 0:i.x)?n:0,yPos:null!=(l=null==(c=t.positionAbsolute)?void 0:c.y)?l:0,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!t.selected,isDraggable:v,isSelectable:h,isConnectable:b,resizeObserver:u,dragHandle:t.dragHandle,zIndex:null!=(s=null==(d=t[A])?void 0:d.z)?s:0,isParent:!!(null!=(f=t[A])&&f.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!t.width&&!!t.height})}))};nl.displayName="NodeRenderer";var nc=(0,w.memo)(nl);function nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nd=(E(p={},g.Left,g.Right),E(p,g.Right,g.Left),E(p,g.Top,g.Bottom),E(p,g.Bottom,g.Top),p),nf=function(e){var t,n,o,r,a,i,l,c,u,s,f,g=e.connectionNodeId,p=e.connectionHandleType,m=e.connectionLineStyle,v=e.connectionLineType,h=void 0===v?d.Bezier:v,b=e.isConnectable,y=e.CustomConnectionLineComponent,S=em((0,w.useCallback)(function(e){return{fromNode:e.nodeInternals.get(g),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2]}},[g]),ey),O=S.fromNode,E=S.handleId,x=S.toX,C=S.toY,P=null==O||null==(t=O[A])?void 0:t.handleBounds;if(!O||!b||!(null!=P&&P[p]))return null;var N=P[p],j=E?N.find(function(e){return e.id===E}):N[0],M=j?j.x+j.width/2:(null!=(n=null==O?void 0:O.width)?n:0)/2,_=j?j.y+j.height/2:null!=(o=null==O?void 0:O.height)?o:0,k=((null==O||null==(r=O.positionAbsolute)?void 0:r.x)||0)+M,D=((null==O||null==(a=O.positionAbsolute)?void 0:a.y)||0)+_,I=null==j?void 0:j.position;if(!I)return null;var B=nd[I];switch(p){case"source":i=k,l=D,c=I,u=x,s=C,f=B;break;case"target":i=x,l=C,c=B,u=k,s=D,f=I}if(y)return w.default.createElement("g",{className:"react-flow__connection"},w.default.createElement(y,{connectionLineType:h,connectionLineStyle:m,fromNode:O,fromHandle:j,fromX:k,fromY:D,toX:x,toY:C,fromPosition:I,toPosition:B,sourcePosition:c,targetPosition:f,sourceNode:O,sourceHandle:j,targetX:u,targetY:s,sourceX:i,sourceY:l}));var z="",L={sourceX:i,sourceY:l,sourcePosition:c,targetX:u,targetY:s,targetPosition:f};return z=h===d.Bezier?tr(L):h===d.Step?e7(ns(ns({},L),{},{borderRadius:0})):h===d.SmoothStep?e7(L):h===d.SimpleBezier?eK(L):"M".concat(i,",").concat(l," ").concat(u,",").concat(s),w.default.createElement("g",{className:"react-flow__connection"},w.default.createElement("path",{d:z,className:"react-flow__connection-path",style:m}))};function ng(e){return(ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var np=(E(m={},f.Arrow,function(e){var t=e.color,n=e.strokeWidth;return w.default.createElement("polyline",{stroke:void 0===t?"none":t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:void 0===n?1:n,fill:"none",points:"-5,-4 0,0 -5,4"})}),E(m,f.ArrowClosed,function(e){var t=e.color,n=void 0===t?"none":t,o=e.strokeWidth;return w.default.createElement("polyline",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:void 0===o?1:o,fill:n,points:"-5,-4 0,0 -5,4 -5,-4"})}),m);function nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var nv=function(e){var t=e.id,n=e.type,o=e.color,r=e.width,a=e.height,i=e.markerUnits,l=e.strokeWidth,c=e.orient,u=(0,w.useMemo)(function(){return np.hasOwnProperty(n)?np[n]:function(){return null}},[n]);return w.default.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(void 0===r?12.5:r),markerHeight:"".concat(void 0===a?12.5:a),viewBox:"-10 -10 20 20",markerUnits:void 0===i?"strokeWidth":i,orient:void 0===c?"auto":c,refX:"0",refY:"0"},w.default.createElement(u,{color:o,strokeWidth:l}))},nh=function(e){var t=e.defaultColor,n=e.rfId;return function(e){var o=[];return e.edges.reduce(function(e,r){return[r.markerStart,r.markerEnd].forEach(function(r){if(r&&"object"===ng(r)){var a=Q(r,n);o.includes(a)||(e.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nm(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:a,color:r.color||t},r)),o.push(a))}}),e},[]).sort(function(e,t){return e.id.localeCompare(t.id)})}},nb=function(e){var t=e.defaultColor,n=e.rfId,o=em((0,w.useCallback)(nh({defaultColor:t,rfId:n}),[t,n]),function(e,t){return!(e.length!==t.length||e.some(function(e,n){return e.id!==t[n].id}))});return w.default.createElement("defs",null,o.map(function(e){return w.default.createElement(nv,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})}))};nb.displayName="MarkerDefinitions";var ny=(0,w.memo)(nb),nw=[{level:0,isMaxLevel:!0,edges:[]}],nS=function(e){return{connectionNodeId:e.connectionNodeId,connectionHandleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals}},nO=function(e){var t,n,o=em(nS,ey),r=o.connectionNodeId,a=o.connectionHandleType,i=o.nodesConnectable,l=o.elementsSelectable,u=o.width,s=o.height,d=o.connectionMode,f=o.nodeInternals,p=(t=e.onlyRenderVisibleElements,n=e.elevateEdgesOnSelect,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1,r=Object.entries(e.reduce(function(e,r){var a,i,l,c,u=I(r.zIndex),s=u?r.zIndex:0;return n&&(s=u?r.zIndex:Math.max((null==(a=t.get(r.source))||null==(i=a[A])?void 0:i.z)||0,(null==(l=t.get(r.target))||null==(c=l[A])?void 0:c.z)||0)),e[s]?e[s].push(r):e[s]=[r],o=s>o?s:o,e},{})).map(function(e){var t=P(e,2),n=t[0],r=t[1],a=+n;return{edges:r,level:a,isMaxLevel:a===o}});return 0===r.length?nw:r}(em((0,w.useCallback)(function(e){return t?e.edges.filter(function(t){var n,o,r,a,i,l,c,u,s,d,g,p,m=f.get(t.source),v=f.get(t.target);return(null==m?void 0:m.width)&&(null==m?void 0:m.height)&&(null==v?void 0:v.width)&&(null==v?void 0:v.height)&&(o=(n={sourcePos:m.positionAbsolute||{x:0,y:0},targetPos:v.positionAbsolute||{x:0,y:0},sourceWidth:m.width,sourceHeight:m.height,targetWidth:v.width,targetHeight:v.height,width:e.width,height:e.height,transform:e.transform}).sourcePos,r=n.targetPos,a=n.sourceWidth,i=n.sourceHeight,l=n.targetWidth,c=n.targetHeight,u=n.width,s=n.height,d=n.transform,(g={x:Math.min(o.x,r.x),y:Math.min(o.y,r.y),x2:Math.max(o.x+a,r.x+l),y2:Math.max(o.y+i,r.y+c)}).x===g.x2&&(g.x2+=1),g.y===g.y2&&(g.y2+=1),Math.ceil(Math.max(0,Math.min((p=k({x:(0-d[0])/d[2],y:(0-d[1])/d[2],width:u/d[2],height:s/d[2]})).x2,g.x2)-Math.max(p.x,g.x))*Math.max(0,Math.min(p.y2,g.y2)-Math.max(p.y,g.y)))>0)}):e.edges},[t,f])),f,n));if(!u)return null;var m=e.connectionLineType,v=e.defaultMarkerColor,h=e.connectionLineStyle,b=e.connectionLineComponent,y=e.connectionLineContainerStyle,S=r&&a;return w.default.createElement(w.default.Fragment,null,p.map(function(t){var n=t.level,o=t.edges,r=t.isMaxLevel;return w.default.createElement("svg",{key:n,style:{zIndex:n},width:u,height:s,className:"react-flow__edges react-flow__container"},r&&w.default.createElement(ny,{defaultColor:v,rfId:e.rfId}),w.default.createElement("g",null,o.map(function(t){var n=P(tT(f,t.source),3),o=n[0],r=n[1],a=n[2],i=P(tT(f,t.target),3),u=i[0],s=i[1],p=i[2];if(!a||!p)return null;var m=t.type||"default",v=e.edgeTypes[m]||e.edgeTypes.default,h=d===c.Strict?s.target:s.target||s.source,b=tL(r.source,t.sourceHandle||null),y=tL(h,t.targetHandle||null),S=(null==b?void 0:b.position)||g.Bottom,O=(null==y?void 0:y.position)||g.Top;if(!b||!y)return null;var E=tR(o,b,S,u,y,O),x=E.sourceX,C=E.sourceY,N=E.targetX,j=E.targetY;return w.default.createElement(v,{key:t.id,id:t.id,className:eb([t.className,e.noPanClassName]),type:m,data:t.data,selected:!!t.selected,animated:!!t.animated,hidden:!!t.hidden,label:t.label,labelStyle:t.labelStyle,labelShowBg:t.labelShowBg,labelBgStyle:t.labelBgStyle,labelBgPadding:t.labelBgPadding,labelBgBorderRadius:t.labelBgBorderRadius,style:t.style,source:t.source,target:t.target,sourceHandleId:t.sourceHandle,targetHandleId:t.targetHandle,markerEnd:t.markerEnd,markerStart:t.markerStart,sourceX:x,sourceY:C,targetX:N,targetY:j,sourcePosition:S,targetPosition:O,elementsSelectable:l,onEdgeUpdate:e.onEdgeUpdate,onContextMenu:e.onEdgeContextMenu,onMouseEnter:e.onEdgeMouseEnter,onMouseMove:e.onEdgeMouseMove,onMouseLeave:e.onEdgeMouseLeave,onClick:e.onEdgeClick,edgeUpdaterRadius:e.edgeUpdaterRadius,onEdgeDoubleClick:e.onEdgeDoubleClick,onEdgeUpdateStart:e.onEdgeUpdateStart,onEdgeUpdateEnd:e.onEdgeUpdateEnd,rfId:e.rfId})})))}),S&&w.default.createElement("svg",{style:y,width:u,height:s,className:"react-flow__edges react-flow__connectionline react-flow__container"},w.default.createElement(nf,{connectionNodeId:r,connectionHandleType:a,connectionLineStyle:h,connectionLineType:m,isConnectable:i,CustomConnectionLineComponent:b})))};nO.displayName="EdgeRenderer";var nE=(0,w.memo)(nO),nx=function(e){return"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")")};function nC(e){var t=e.children,n=em(nx);return w.default.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}var nP=function(e){var t,n,o,r,a,i,l,c,u,s,d,f,g,p=e.nodeTypes,m=e.edgeTypes,v=e.onMove,h=e.onMoveStart,b=e.onMoveEnd,y=e.onInit,S=e.onNodeClick,O=e.onEdgeClick,E=e.onNodeDoubleClick,x=e.onEdgeDoubleClick,C=e.onNodeMouseEnter,N=e.onNodeMouseMove,j=e.onNodeMouseLeave,M=e.onNodeContextMenu,_=e.onSelectionContextMenu,k=e.connectionLineType,D=e.connectionLineStyle,I=e.connectionLineComponent,A=e.connectionLineContainerStyle,B=e.selectionKeyCode,z=e.multiSelectionKeyCode,L=e.zoomActivationKeyCode,R=e.deleteKeyCode,T=e.onlyRenderVisibleElements,X=e.elementsSelectable,Y=e.selectNodesOnDrag,H=e.translateExtent,Z=e.minZoom,U=e.maxZoom,V=e.defaultZoom,K=e.defaultPosition,W=e.preventScrolling,F=e.defaultMarkerColor,G=e.zoomOnScroll,Q=e.zoomOnPinch,q=e.panOnScroll,$=e.panOnScrollSpeed,J=e.panOnScrollMode,ee=e.zoomOnDoubleClick,et=e.panOnDrag,en=e.onPaneClick,eo=e.onPaneScroll,er=e.onPaneContextMenu,ea=e.onEdgeUpdate,ei=e.onEdgeContextMenu,el=e.onEdgeMouseEnter,ec=e.onEdgeMouseMove,eu=e.onEdgeMouseLeave,es=e.edgeUpdaterRadius,ed=e.onEdgeUpdateStart,ef=e.onEdgeUpdateEnd,eg=e.noDragClassName,ep=e.noWheelClassName,em=e.noPanClassName,eh=e.elevateEdgesOnSelect,eb=e.id;return t=eE(),n=ev(),o=(0,w.useCallback)(function(){return Array.from(n.getState().nodeInternals.values()).map(function(e){return eC({},e)})},[]),r=(0,w.useCallback)(function(e){return n.getState().nodeInternals.get(e)},[]),a=(0,w.useCallback)(function(){var e=n.getState().edges;return(void 0===e?[]:e).map(function(e){return eC({},e)})},[]),i=(0,w.useCallback)(function(e){var t=n.getState().edges;return(void 0===t?[]:t).find(function(t){return t.id===e})},[]),l=(0,w.useCallback)(function(e){var t=n.getState(),o=t.nodeInternals,r=t.setNodes,a=t.hasDefaultNodes,i=t.onNodesChange,l=Array.from(o.values()),c="function"==typeof e?e(l):e;a?r(c):i&&i(0===c.length?l.map(function(e){return{type:"remove",id:e.id}}):c.map(function(e){return{item:e,type:"reset"}}))},[]),c=(0,w.useCallback)(function(e){var t=n.getState(),o=t.edges,r=void 0===o?[]:o,a=t.setEdges,i=t.hasDefaultEdges,l=t.onEdgesChange,c="function"==typeof e?e(r):e;i?a(c):l&&l(0===c.length?r.map(function(e){return{type:"remove",id:e.id}}):c.map(function(e){return{item:e,type:"reset"}}))},[]),u=(0,w.useCallback)(function(e){var t=Array.isArray(e)?e:[e],o=n.getState(),r=o.nodeInternals,a=o.setNodes,i=o.hasDefaultNodes,l=o.onNodesChange;i?a([].concat(Array.from(r.values()),ew(t))):l&&l(t.map(function(e){return{item:e,type:"add"}}))},[]),s=(0,w.useCallback)(function(e){var t=Array.isArray(e)?e:[e],o=n.getState(),r=o.edges,a=o.setEdges,i=o.hasDefaultEdges,l=o.onEdgesChange;i?a([].concat(ew(void 0===r?[]:r),ew(t))):l&&l(t.map(function(e){return{item:e,type:"add"}}))},[]),d=(0,w.useCallback)(function(){var e=n.getState(),t=e.nodeInternals,o=e.edges,r=e.transform,a=Array.from(t.values()),i=P(r,3),l=i[0],c=i[1],u=i[2];return{nodes:a.map(function(e){return eC({},e)}),edges:(void 0===o?[]:o).map(function(e){return eC({},e)}),viewport:{x:l,y:c,zoom:u}}},[]),f=(0,w.useMemo)(function(){return eC(eC({},t),{},{getNodes:o,getNode:r,getEdges:a,getEdge:i,setNodes:l,setEdges:c,addNodes:u,addEdges:s,toObject:d})},[t,o,r,a,i,l,c,u,s,d]),g=(0,w.useRef)(!1),(0,w.useEffect)(function(){!g.current&&f.viewportInitialized&&y&&(setTimeout(function(){return y(f)},1),g.current=!0)},[y,f.viewportInitialized]),w.default.createElement(na,{onPaneClick:en,onPaneContextMenu:er,onPaneScroll:eo,deleteKeyCode:R,selectionKeyCode:B,multiSelectionKeyCode:z,zoomActivationKeyCode:L,elementsSelectable:X,onMove:v,onMoveStart:h,onMoveEnd:b,zoomOnScroll:G,zoomOnPinch:Q,zoomOnDoubleClick:ee,panOnScroll:q,panOnScrollSpeed:$,panOnScrollMode:J,panOnDrag:et,translateExtent:H,minZoom:Z,maxZoom:U,defaultZoom:V,defaultPosition:K,onSelectionContextMenu:_,preventScrolling:W,noDragClassName:eg,noWheelClassName:ep,noPanClassName:em},w.default.createElement(nC,null,w.default.createElement(nE,{edgeTypes:m,onEdgeClick:O,onEdgeDoubleClick:x,connectionLineType:k,connectionLineStyle:D,connectionLineComponent:I,connectionLineContainerStyle:A,onEdgeUpdate:ea,onlyRenderVisibleElements:T,onEdgeContextMenu:ei,onEdgeMouseEnter:el,onEdgeMouseMove:ec,onEdgeMouseLeave:eu,onEdgeUpdateStart:ed,onEdgeUpdateEnd:ef,edgeUpdaterRadius:es,defaultMarkerColor:F,noPanClassName:em,elevateEdgesOnSelect:!!eh,rfId:eb}),w.default.createElement(nc,{nodeTypes:p,onNodeClick:S,onNodeDoubleClick:E,onNodeMouseEnter:C,onNodeMouseMove:N,onNodeMouseLeave:j,onNodeContextMenu:M,selectNodesOnDrag:Y,onlyRenderVisibleElements:T,noPanClassName:em,noDragClassName:eg})))};nP.displayName="GraphView";var nN=(0,w.memo)(nP),nj=function(){return null};function nM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function n_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nM(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}nj.displayName="GroupNode";var nk=function(e){var t=function(t){var n=t.id,o=t.type,r=t.data,a=t.xPos,i=t.yPos,l=t.selected,c=t.onClick,u=t.onMouseEnter,s=t.onMouseMove,d=t.onMouseLeave,f=t.onContextMenu,g=t.onDoubleClick,p=t.style,m=t.className,v=t.isDraggable,h=t.isSelectable,b=t.isConnectable,y=t.selectNodesOnDrag,S=t.sourcePosition,O=t.targetPosition,E=t.hidden,x=t.resizeObserver,C=t.dragHandle,P=t.zIndex,N=t.isParent,j=t.noPanClassName,M=t.noDragClassName,_=t.initialized,k=ev(),D=(0,w.useRef)(null),I=(0,w.useRef)(S),A=(0,w.useRef)(O),B=(0,w.useRef)(o),z=h||v||c||u||s||d,L=V(n,k.getState,u),R=V(n,k.getState,s),T=V(n,k.getState,d),X=V(n,k.getState,f),Y=V(n,k.getState,g);(0,w.useEffect)(function(){if(D.current&&!E){var e=D.current;return null==x||x.observe(e),function(){return null==x?void 0:x.unobserve(e)}}},[E]),(0,w.useEffect)(function(){var e=B.current!==o,t=I.current!==S,r=A.current!==O;D.current&&(e||t||r)&&(e&&(B.current=o),t&&(I.current=S),r&&(A.current=O),k.getState().updateNodeDimensions([{id:n,nodeElement:D.current,forceUpdate:!0}]))},[n,o,S,O]);var H=t9({nodeRef:D,disabled:E||!v,noDragClassName:M,handleSelector:C,nodeId:n,isSelectable:h,selectNodesOnDrag:y});return E?null:w.default.createElement("div",{className:eb(["react-flow__node","react-flow__node-".concat(o),j,m,{selected:l,selectable:h,parent:N}]),ref:D,style:n_({zIndex:P,transform:"translate(".concat(a,"px,").concat(i,"px)"),pointerEvents:z?"all":"none",visibility:_?"visible":"hidden"},p),onMouseEnter:L,onMouseMove:R,onMouseLeave:T,onContextMenu:X,onClick:function(e){!h||y&&v||K({id:n,store:k}),c&&c(e,n_({},k.getState().nodeInternals.get(n)))},onDoubleClick:Y,"data-id":n},w.default.createElement(tl,{value:n},w.default.createElement(e,{id:n,data:r,type:o,xPos:a,yPos:i,selected:l,isConnectable:b,sourcePosition:S,targetPosition:O,dragging:H,dragHandle:C,zIndex:P})))};return t.displayName="NodeWrapper",(0,w.memo)(t)};function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function nI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nD(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nA(e){var t={input:nk(e.input||tS),default:nk(e.default||ty),output:nk(e.output||tE),group:nk(e.group||nj)},n=Object.keys(e).filter(function(e){return!["input","default","output","group"].includes(e)}).reduce(function(t,n){return t[n]=nk(e[n]||ty),t},{});return nI(nI({},t),n)}function nB(e,t){return(0,w.useRef)(null),(0,w.useMemo)(function(){return t(e)},[e])}function nz(e){if(e&&"u">typeof document){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");t.appendChild(n),n.appendChild(document.createTextNode(e))}}var nL=function(e){var t=e.children,n=!0;try{ev()}catch(e){n=!1}return n?w.default.createElement(w.default.Fragment,null,t):w.default.createElement(ep,{createStore:eh},t)};nL.displayName="ReactFlowWrapper";var nR=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectStop","onConnectEnd","onClickConnectStart","onClickConnectStop","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateEdgesOnSelect"];function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function nX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nT(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}nz(".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}"),nz(".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}");var nY={input:tS,default:ty,output:tE},nH={default:ta,straight:tt,step:te,smoothstep:e8,simplebezier:eW},nZ=[15,15],nU=[0,0];function nV(e){return function(t){var n=P((0,w.useState)(t),2),o=n[0],r=n[1],a=(0,w.useCallback)(function(t){return r(function(n){return e(t,n)})},[]);return[o,r,a]}}(0,w.forwardRef)(function(e,t){var n=e.nodes,o=e.edges,r=e.defaultNodes,a=e.defaultEdges,i=e.className,l=e.nodeTypes,u=e.edgeTypes,f=e.onNodeClick,g=e.onEdgeClick,p=e.onInit,m=e.onMove,v=e.onMoveStart,h=e.onMoveEnd,b=e.onConnect,y=e.onConnectStart,S=e.onConnectStop,O=e.onConnectEnd,E=e.onClickConnectStart,x=e.onClickConnectStop,C=e.onClickConnectEnd,P=e.onNodeMouseEnter,N=e.onNodeMouseMove,j=e.onNodeMouseLeave,M=e.onNodeContextMenu,_=e.onNodeDoubleClick,k=e.onNodeDragStart,D=e.onNodeDrag,I=e.onNodeDragStop,A=e.onNodesDelete,B=e.onEdgesDelete,z=e.onSelectionChange,L=e.onSelectionDragStart,R=e.onSelectionDrag,T=e.onSelectionDragStop,X=e.onSelectionContextMenu,Y=e.connectionMode,H=void 0===Y?c.Strict:Y,Z=e.connectionLineType,U=void 0===Z?d.Bezier:Z,V=e.connectionLineStyle,K=e.connectionLineComponent,W=e.connectionLineContainerStyle,F=e.deleteKeyCode,G=e.selectionKeyCode,Q=e.multiSelectionKeyCode,q=e.zoomActivationKeyCode,$=e.snapToGrid,J=e.snapGrid,ee=e.onlyRenderVisibleElements,et=e.selectNodesOnDrag,en=e.nodesDraggable,eo=e.nodesConnectable,er=e.elementsSelectable,ea=e.minZoom,ei=void 0===ea?.5:ea,el=e.maxZoom,ec=void 0===el?2:el,es=e.defaultZoom,ed=e.defaultPosition,ef=e.translateExtent,eg=void 0===ef?eu:ef,ep=e.preventScrolling,em=e.nodeExtent,ev=e.defaultMarkerColor,eh=e.zoomOnScroll,ey=e.zoomOnPinch,ew=e.panOnScroll,eS=e.panOnScrollSpeed,eO=e.panOnScrollMode,eE=void 0===eO?s.Free:eO,ex=e.zoomOnDoubleClick,eC=e.panOnDrag,eN=e.onPaneClick,ej=e.onPaneScroll,eM=e.onPaneContextMenu,e_=e.children,ek=e.onEdgeUpdate,eD=e.onEdgeContextMenu,eI=e.onEdgeDoubleClick,eA=e.onEdgeMouseEnter,eB=e.onEdgeMouseMove,ez=e.onEdgeMouseLeave,eL=e.onEdgeUpdateStart,eR=e.onEdgeUpdateEnd,eT=e.edgeUpdaterRadius,eY=e.onNodesChange,eH=e.onEdgesChange,eZ=e.noDragClassName,eU=e.noWheelClassName,eV=e.noPanClassName,eK=e.fitView,eW=e.fitViewOptions,eF=e.connectOnClick,eG=e.attributionPosition,eQ=e.proOptions,eq=e.defaultEdgeOptions,e$=e.elevateEdgesOnSelect,eJ=eP(e,nR),e0=nB(void 0===l?nY:l,nA),e1=nB(void 0===u?nH:u,tB);return w.default.createElement("div",nX(nX({},eJ),{},{ref:t,className:eb(["react-flow",i])}),w.default.createElement(nL,null,w.default.createElement(nN,{onInit:p,onMove:m,onMoveStart:v,onMoveEnd:h,onNodeClick:f,onEdgeClick:g,onNodeMouseEnter:P,onNodeMouseMove:N,onNodeMouseLeave:j,onNodeContextMenu:M,onNodeDoubleClick:_,nodeTypes:e0,edgeTypes:e1,connectionLineType:U,connectionLineStyle:V,connectionLineComponent:K,connectionLineContainerStyle:W,selectionKeyCode:void 0===G?"Shift":G,deleteKeyCode:void 0===F?"Backspace":F,multiSelectionKeyCode:void 0===Q?"Meta":Q,zoomActivationKeyCode:void 0===q?"Meta":q,onlyRenderVisibleElements:void 0!==ee&&ee,selectNodesOnDrag:void 0===et||et,translateExtent:eg,minZoom:ei,maxZoom:ec,defaultZoom:void 0===es?1:es,defaultPosition:void 0===ed?nU:ed,preventScrolling:void 0===ep||ep,zoomOnScroll:void 0===eh||eh,zoomOnPinch:void 0===ey||ey,zoomOnDoubleClick:void 0===ex||ex,panOnScroll:void 0!==ew&&ew,panOnScrollSpeed:void 0===eS?.5:eS,panOnScrollMode:eE,panOnDrag:void 0===eC||eC,onPaneClick:eN,onPaneScroll:ej,onPaneContextMenu:eM,onSelectionContextMenu:X,onEdgeUpdate:ek,onEdgeContextMenu:eD,onEdgeDoubleClick:eI,onEdgeMouseEnter:eA,onEdgeMouseMove:eB,onEdgeMouseLeave:ez,onEdgeUpdateStart:eL,onEdgeUpdateEnd:eR,edgeUpdaterRadius:void 0===eT?10:eT,defaultMarkerColor:void 0===ev?"#b1b1b7":ev,noDragClassName:void 0===eZ?"nodrag":eZ,noWheelClassName:void 0===eU?"nowheel":eU,noPanClassName:void 0===eV?"nopan":eV,elevateEdgesOnSelect:void 0!==e$&&e$,id:null==eJ?void 0:eJ.id}),w.default.createElement(t_,{nodes:n,edges:o,defaultNodes:r,defaultEdges:a,onConnect:b,onConnectStart:y,onConnectStop:S,onConnectEnd:O,onClickConnectStart:E,onClickConnectStop:x,onClickConnectEnd:C,nodesDraggable:en,nodesConnectable:eo,elementsSelectable:er,minZoom:ei,maxZoom:ec,nodeExtent:em,onNodesChange:eY,onEdgesChange:eH,snapToGrid:void 0!==$&&$,snapGrid:void 0===J?nZ:J,connectionMode:H,translateExtent:eg,connectOnClick:void 0===eF||eF,defaultEdgeOptions:eq,fitView:void 0!==eK&&eK,fitViewOptions:eW,onNodesDelete:A,onEdgesDelete:B,onNodeDragStart:k,onNodeDrag:D,onNodeDragStop:I,onSelectionDrag:R,onSelectionDragStart:L,onSelectionDragStop:T}),z&&w.default.createElement(tP,{onSelectionChange:z}),e_,w.default.createElement(eX,{proOptions:eQ,position:eG})))}).displayName="ReactFlow",nV(T),nV(function(e,t){return R(e,t)});let nK=(0,y.default)(()=>e.A(30875)),nW={background:"#FFFFFF"};e.s(["default",0,function({data:e}){return void 0===e||void 0===e.label?(0,v.jsx)(w.Fragment,{}):(0,v.jsxs)(h.Box,{children:[(0,v.jsxs)(b.Popover,{isLazy:!0,placement:"top",children:[(0,v.jsx)(b.PopoverTrigger,{contentStyle:nW,children:(0,v.jsxs)(h.Box,{zIndex:"0",children:[(0,v.jsx)(h.Text,{fontSize:"8px",textAlign:"right",color:"LightSlateGray",children:e.stage}),(0,v.jsxs)(h.Text,{fontSize:"14px",textAlign:"center",children:[e.label," "]})]})}),(0,v.jsx)(h.Box,{zIndex:"popover",children:(0,v.jsxs)(b.PopoverContent,{children:[(0,v.jsx)(b.PopoverArrow,{}),(0,v.jsx)(h.Box,{sx:{"&::-webkit-scrollbar":{width:"16px",borderRadius:"8px",backgroundColor:"rgba(0, 0, 0, 0.05)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0, 0, 0, 0.05)"}},overflowX:"auto",maxHeight:"400px",children:(0,v.jsx)(nK,{src:e.content,name:!1,displayDataTypes:!1})})]})})]}),(0,v.jsx)(th,{type:"target",position:g.Left}),(0,v.jsx)(th,{type:"source",position:g.Right})]})}],56354)}]);