(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[273],{83234:function(e,t,r){"use strict";r.d(t,{NI:function(){return m},Yp:function(){return y},lX:function(){return w}});var n=r(67294),i=r(28387),o=r(76734),a=r(32067),s=r(54520),h=r(52494),u=(...e)=>e.filter(Boolean).join(" "),l=e=>e?"":void 0,c=e=>!!e||void 0;function d(...e){return function(t){e.some(e=>(null==e||e(t),null==t?void 0:t.defaultPrevented))}}var[f,p]=(0,i.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[v,g]=(0,i.k)({strict:!1,name:"FormControlContext"}),m=(0,a.Gp)(function(e,t){let r=(0,a.jC)("Form",e),{getRootProps:i,htmlProps:h,...c}=function(e){let{id:t,isRequired:r,isInvalid:i,isDisabled:a,isReadOnly:s,...h}=e,u=(0,n.useId)(),c=t||`field-${u}`,d=`${c}-label`,f=`${c}-feedback`,p=`${c}-helptext`,[v,g]=(0,n.useState)(!1),[m,y]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!1),w=(0,n.useCallback)((e={},t=null)=>({id:p,...e,ref:(0,o.lq)(t,e=>{e&&y(!0)})}),[p]),E=(0,n.useCallback)((e={},t=null)=>({...e,ref:t,"data-focus":l(x),"data-disabled":l(a),"data-invalid":l(i),"data-readonly":l(s),id:e.id??d,htmlFor:e.htmlFor??c}),[c,a,x,i,s,d]),_=(0,n.useCallback)((e={},t=null)=>({id:f,...e,ref:(0,o.lq)(t,e=>{e&&g(!0)}),"aria-live":"polite"}),[f]),I=(0,n.useCallback)((e={},t=null)=>({...e,...h,ref:t,role:"group"}),[h]);return{isRequired:!!r,isInvalid:!!i,isReadOnly:!!s,isDisabled:!!a,isFocused:!!x,onFocus:()=>b(!0),onBlur:()=>b(!1),hasFeedbackText:v,setHasFeedbackText:g,hasHelpText:m,setHasHelpText:y,id:c,labelId:d,feedbackId:f,helpTextId:p,htmlProps:h,getHelpTextProps:w,getErrorMessageProps:_,getRootProps:I,getLabelProps:E,getRequiredIndicatorProps:(0,n.useCallback)((e={},t=null)=>({...e,ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[])}}((0,s.Lr)(e)),d=u("chakra-form-control",e.className);return n.createElement(v,{value:c},n.createElement(f,{value:r},n.createElement(a.m$.div,{...i({},t),className:d,__css:r.container})))});function y(e){let{isDisabled:t,isInvalid:r,isReadOnly:n,isRequired:i,...o}=function(e){let t=g(),{id:r,disabled:n,readOnly:i,required:o,isRequired:a,isInvalid:s,isReadOnly:h,isDisabled:u,onFocus:l,onBlur:c,...f}=e,p=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==t?void 0:t.hasFeedbackText)&&(null==t?void 0:t.isInvalid)&&p.push(t.feedbackId),(null==t?void 0:t.hasHelpText)&&p.push(t.helpTextId),{...f,"aria-describedby":p.join(" ")||void 0,id:r??(null==t?void 0:t.id),isDisabled:n??u??(null==t?void 0:t.isDisabled),isReadOnly:i??h??(null==t?void 0:t.isReadOnly),isRequired:o??a??(null==t?void 0:t.isRequired),isInvalid:s??(null==t?void 0:t.isInvalid),onFocus:d(null==t?void 0:t.onFocus,l),onBlur:d(null==t?void 0:t.onBlur,c)}}(e);return{...o,disabled:t,readOnly:n,required:i,"aria-invalid":c(r),"aria-required":c(i),"aria-readonly":c(n)}}m.displayName="FormControl",(0,a.Gp)(function(e,t){let r=g(),i=p(),o=u("chakra-form__helper-text",e.className);return n.createElement(a.m$.div,{...null==r?void 0:r.getHelpTextProps(e,t),__css:i.helperText,className:o})}).displayName="FormHelperText";var[x,b]=(0,i.k)({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "});(0,a.Gp)((e,t)=>{let r=(0,a.jC)("FormError",e),i=(0,s.Lr)(e),o=g();return(null==o?void 0:o.isInvalid)?n.createElement(x,{value:r},n.createElement(a.m$.div,{...null==o?void 0:o.getErrorMessageProps(i,t),className:u("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...r.text}})):null}).displayName="FormErrorMessage",(0,a.Gp)((e,t)=>{let r=b(),i=g();if(!(null==i?void 0:i.isInvalid))return null;let o=u("chakra-form__error-icon",e.className);return n.createElement(h.JO,{ref:t,"aria-hidden":!0,...e,__css:r.icon,className:o},n.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}).displayName="FormErrorIcon";var w=(0,a.Gp)(function(e,t){let r=(0,a.mq)("FormLabel",e),i=(0,s.Lr)(e),{className:o,children:h,requiredIndicator:l=n.createElement(E,null),optionalIndicator:c=null,...d}=i,f=g(),p=(null==f?void 0:f.getLabelProps(d,t))??{ref:t,...d};return n.createElement(a.m$.label,{...p,className:u("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...r}},h,(null==f?void 0:f.isRequired)?l:c)});w.displayName="FormLabel";var E=(0,a.Gp)(function(e,t){let r=g(),i=p();if(!(null==r?void 0:r.isRequired))return null;let o=u("chakra-form__required-indicator",e.className);return n.createElement(a.m$.span,{...null==r?void 0:r.getRequiredIndicatorProps(e,t),__css:i.requiredIndicator,className:o})});E.displayName="RequiredIndicator"},20979:function(e,t,r){"use strict";r.d(t,{II:function(){return c}});var n=r(67294),i=r(83234),o=r(32067),a=r(54520),s=r(95336),h=r(28387),u=r(34031),l=r(46076),c=(0,o.Gp)(function(e,t){let{htmlSize:r,...h}=e,u=(0,o.jC)("Input",h),l=(0,a.Lr)(h),c=(0,i.Yp)(l),d=(0,s.cx)("chakra-input",e.className);return n.createElement(o.m$.input,{size:r,...c,__css:u.field,ref:t,className:d})});c.displayName="Input",c.id="Input";var[d,f]=(0,h.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "});(0,o.Gp)(function(e,t){let r=(0,o.jC)("Input",e),{children:i,className:h,...c}=(0,a.Lr)(e),f=(0,s.cx)("chakra-input__group",h),p={},v=(0,u.W)(i),g=r.field;v.forEach(e=>{r&&(g&&"InputLeftElement"===e.type.id&&(p.paddingStart=g.height??g.h),g&&"InputRightElement"===e.type.id&&(p.paddingEnd=g.height??g.h),"InputRightAddon"===e.type.id&&(p.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(p.borderStartRadius=0))});let m=v.map(t=>{var r,i;let o=(0,l.oA)({size:(null==(r=t.props)?void 0:r.size)||e.size,variant:(null==(i=t.props)?void 0:i.variant)||e.variant});return"Input"!==t.type.id?(0,n.cloneElement)(t,o):(0,n.cloneElement)(t,Object.assign(o,p,t.props))});return n.createElement(o.m$.div,{className:f,ref:t,__css:{width:"100%",display:"flex",position:"relative"},...c},n.createElement(d,{value:r},m))}).displayName="InputGroup";var p={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},v=(0,o.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),g=(0,o.Gp)(function(e,t){let{placement:r="left",...i}=e,o=p[r]??{},a=f();return n.createElement(v,{ref:t,...i,__css:{...a.addon,...o}})});g.displayName="InputAddon";var m=(0,o.Gp)(function(e,t){return n.createElement(g,{ref:t,placement:"left",...e,className:(0,s.cx)("chakra-input__left-addon",e.className)})});m.displayName="InputLeftAddon",m.id="InputLeftAddon";var y=(0,o.Gp)(function(e,t){return n.createElement(g,{ref:t,placement:"right",...e,className:(0,s.cx)("chakra-input__right-addon",e.className)})});y.displayName="InputRightAddon",y.id="InputRightAddon";var x=(0,o.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),b=(0,o.Gp)(function(e,t){let{placement:r="left",...i}=e,o=f(),a=o.field,s={["left"===r?"insetStart":"insetEnd"]:"0",width:(null==a?void 0:a.height)??(null==a?void 0:a.h),height:(null==a?void 0:a.height)??(null==a?void 0:a.h),fontSize:null==a?void 0:a.fontSize,...o.element};return n.createElement(x,{ref:t,__css:s,...i})});b.id="InputElement",b.displayName="InputElement";var w=(0,o.Gp)(function(e,t){let{className:r,...i}=e,o=(0,s.cx)("chakra-input__left-element",r);return n.createElement(b,{ref:t,placement:"left",className:o,...i})});w.id="InputLeftElement",w.displayName="InputLeftElement";var E=(0,o.Gp)(function(e,t){let{className:r,...i}=e,o=(0,s.cx)("chakra-input__right-element",r);return n.createElement(b,{ref:t,placement:"right",className:o,...i})});E.id="InputRightElement",E.displayName="InputRightElement"},57026:function(e,t,r){"use strict";r.d(t,{Ph:function(){return l}});var n=r(67294),i=r(83234),o=r(32067),a=r(54520),s=(...e)=>e.filter(Boolean).join(" "),h=e=>e?"":void 0,u=(0,o.Gp)(function(e,t){let{children:r,placeholder:i,className:a,...h}=e;return n.createElement(o.m$.select,{...h,ref:t,className:s("chakra-select",a)},i&&n.createElement("option",{value:""},i),r)});u.displayName="SelectField";var l=(0,o.Gp)((e,t)=>{var r;let s=(0,o.jC)("Select",e),{rootProps:l,placeholder:c,icon:d,color:p,height:v,h:g,minH:m,minHeight:y,iconColor:x,iconSize:b,...w}=(0,a.Lr)(e),[E,_]=function(e,t){let r={},n={};for(let[i,o]of Object.entries(e))t.includes(i)?r[i]=o:n[i]=o;return[r,n]}(w,a.oE),I=(0,i.Yp)(_),C={paddingEnd:"2rem",...s.field,_focus:{zIndex:"unset",...null==(r=s.field)?void 0:r._focus}};return n.createElement(o.m$.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:p},...E,...l},n.createElement(u,{ref:t,height:g??v,minH:m??y,placeholder:c,...I,__css:C},e.children),n.createElement(f,{"data-disabled":h(I.disabled),...(x||p)&&{color:x||p},__css:s.icon,...b&&{fontSize:b}},d))});l.displayName="Select";var c=e=>n.createElement("svg",{viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})),d=(0,o.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),f=e=>{let{children:t=n.createElement(c,null),...r}=e,i=(0,n.cloneElement)(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return n.createElement(d,{...r,className:"chakra-select__icon-wrapper"},(0,n.isValidElement)(t)?i:null)};f.displayName="SelectIcon"},97098:function(e,t,r){"use strict";r.d(t,{lu:function(){return eo},zx:function(){return ef}});var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))h.call(e,s)||s===r||i(e,s,{get:()=>t[s],enumerable:!(n=o(t,s))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(s(e)):{},l(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),d=u((e,t)=>{var r=function(e,t){return e<t};function n(e){if(!(this instanceof n))return new n(e);this.array=[],this.size=0,this.compare=e||r}n.prototype.clone=function(){var e=new n(this.compare);return e.size=this.size,e.array=this.array.slice(0,this.size),e},n.prototype.add=function(e){var t,r,n=this.size;for(this.array[this.size]=e,this.size+=1;n>0&&(t=n-1>>1,r=this.array[t],this.compare(e,r));)this.array[n]=r,n=t;this.array[n]=e},n.prototype.heapify=function(e){var t;for(this.array=e,this.size=e.length,t=this.size>>1;t>=0;t--)this._percolateDown(t)},n.prototype._percolateUp=function(e,t){for(var r,n,i=this.array[e];e>0&&(r=e-1>>1,n=this.array[r],!(!t&&!this.compare(i,n)));)this.array[e]=n,e=r;this.array[e]=i},n.prototype._percolateDown=function(e){for(var t,r,n,i=this.size,o=this.size>>>1,a=this.array[e];e<o&&(r=(t=(e<<1)+1)+1,n=this.array[t],r<i&&this.compare(this.array[r],n)&&(t=r,n=this.array[r]),this.compare(n,a));)this.array[e]=n,e=t;this.array[e]=a},n.prototype._removeAt=function(e){if(!(e>this.size-1||e<0))return this._percolateUp(e,!0),this.poll()},n.prototype.remove=function(e){for(var t=0;t<this.size;t++)if(!this.compare(this.array[t],e)&&!this.compare(e,this.array[t]))return this._removeAt(t),!0;return!1},n.prototype.removeOne=function(e){if("function"==typeof e){for(var t=0;t<this.size;t++)if(e(this.array[t]))return this._removeAt(t)}},n.prototype.removeMany=function(e,t){if("function"!=typeof e||this.size<1)return[];t=t?Math.min(t,this.size):this.size;for(var r=0,n=Array(t),i=0,o=Array(this.size);r<t&&!this.isEmpty();){var a=this.poll();e(a)?n[r++]=a:o[i++]=a}n.length=r;for(var s=0;s<i;)this.add(o[s++]);return n},n.prototype.peek=function(){if(0!=this.size)return this.array[0]},n.prototype.poll=function(){if(0!=this.size){var e=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,e}},n.prototype.replaceTop=function(e){if(0!=this.size){var t=this.array[0];return this.array[0]=e,this._percolateDown(0),t}},n.prototype.trim=function(){this.array=this.array.slice(0,this.size)},n.prototype.isEmpty=function(){return 0===this.size},n.prototype.forEach=function(e){if(!(this.isEmpty()||"function"!=typeof e))for(var t=0,r=this.clone();!r.isEmpty();)e(r.poll(),t++)},n.prototype.kSmallest=function(e){if(0==this.size)return[];e=Math.min(this.size,e);var t=new n(this.compare);let r=Math.min((e>0?Math.pow(2,e-1):0)+1,this.size);t.size=r,t.array=this.array.slice(0,r);for(var i=Array(e),o=0;o<e;o++)i[o]=t.poll();return i},t.exports=n}),f=u((e,t)=>{function r(e,t,r,n){this.feasible=r,this.evaluation=t,this.bounded=n,this._tableau=e}t.exports=r,r.prototype.generateSolutionSet=function(){for(var e={},t=this._tableau,r=t.varIndexByRow,n=t.variablesPerIndex,i=t.matrix,o=t.rhsColumn,a=t.height-1,s=Math.round(1/t.precision),h=1;h<=a;h+=1){var u=n[r[h]];if(!(void 0===u||!0===u.isSlack)){var l=i[h][o];e[u.id]=Math.round((Number.EPSILON+l)*s)/s}}return e}}),p=u((e,t)=>{var r=f();function n(e,t,n,i,o){r.call(this,e,t,n,i),this.iter=o}t.exports=n,n.prototype=Object.create(r.prototype),n.constructor=n}),v=u((e,t)=>{var r=f(),n=p();function i(e){this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=e||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}function o(e,t){this.priority=e,this.reducedCosts=Array(t);for(var r=0;r<t;r+=1)this.reducedCosts[r]=0}t.exports=i,i.prototype.solve=function(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()},o.prototype.copy=function(){var e=new o(this.priority,this.reducedCosts.length);return e.reducedCosts=this.reducedCosts.slice(),e},i.prototype.setOptionalObjective=function(e,t,r){var n=this.objectivesByPriority[e];void 0===n&&(n=new o(e,Math.max(this.width,t+1)),this.objectivesByPriority[e]=n,this.optionalObjectives.push(n),this.optionalObjectives.sort(function(e,t){return e.priority-t.priority})),n.reducedCosts[t]=r},i.prototype.initialize=function(e,t,r,n){this.variables=r,this.unrestrictedVars=n,this.width=e,this.height=t;for(var i=Array(e),o=0;o<e;o++)i[o]=0;this.matrix=Array(t);for(var a=0;a<t;a++)this.matrix[a]=i.slice();this.varIndexByRow=Array(this.height),this.varIndexByCol=Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=e+t-2,this.rowByVarIndex=Array(this.nVars),this.colByVarIndex=Array(this.nVars),this.lastElementIndex=this.nVars},i.prototype._resetMatrix=function(){var e,t,r=this.model.variables,n=this.model.constraints,i=r.length,o=n.length,a=this.matrix[0],s=!0===this.model.isMinimization?-1:1;for(e=0;e<i;e+=1){var h=r[e],u=h.priority,l=s*h.cost;0===u?a[e+1]=l:this.setOptionalObjective(u,e+1,l),t=r[e].index,this.rowByVarIndex[t]=-1,this.colByVarIndex[t]=e+1,this.varIndexByCol[e+1]=t}for(var c=1,d=0;d<o;d+=1){var f=n[d],p=f.index;this.rowByVarIndex[p]=c,this.colByVarIndex[p]=-1,this.varIndexByRow[c]=p;var v,g,m=f.terms,y=m.length,x=this.matrix[c++];if(f.isUpperBound){for(v=0;v<y;v+=1)g=m[v],x[this.colByVarIndex[g.variable.index]]=g.coefficient;x[0]=f.rhs}else{for(v=0;v<y;v+=1)g=m[v],x[this.colByVarIndex[g.variable.index]]=-g.coefficient;x[0]=-f.rhs}}},i.prototype.setModel=function(e){this.model=e;var t=e.nVariables+1,r=e.nConstraints+1;return this.initialize(t,r,e.variables,e.unrestrictedVariables),this._resetMatrix(),this},i.prototype.getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var e=this.lastElementIndex;return this.lastElementIndex+=1,e},i.prototype.density=function(){for(var e=0,t=this.matrix,r=0;r<this.height;r++)for(var n=t[r],i=0;i<this.width;i++)0!==n[i]&&(e+=1);return e/(this.height*this.width)},i.prototype.setEvaluation=function(){var e=Math.round(1/this.precision),t=Math.round((Number.EPSILON+this.matrix[this.costRowIndex][this.rhsColumn])*e)/e;this.evaluation=t,0===this.simplexIters&&(this.bestPossibleEval=t)},i.prototype.getSolution=function(){var e=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new n(this,e,this.feasible,this.bounded,this.branchAndCutIterations):new r(this,e,this.feasible,this.bounded)}}),g=u(()=>{var e=v();e.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},e.prototype.phase1=function(){for(var e=this.model.checkForCycles,t=[],r=this.matrix,n=this.rhsColumn,i=this.width-1,o=this.height-1,a=0;;){for(var s=0,h=-this.precision,u=1;u<=o;u++){this.unrestrictedVars[this.varIndexByRow[u]];var l=r[u][n];l<h&&(h=l,s=u)}if(0===s)return this.feasible=!0,a;for(var c=0,d=-1/0,f=r[0],p=r[s],v=1;v<=i;v++){var g=p[v];if(!0===this.unrestrictedVars[this.varIndexByCol[v]]||g<-this.precision){var m=-f[v]/g;d<m&&(d=m,c=v)}}if(0===c)return this.feasible=!1,a;if(e){t.push([this.varIndexByRow[s],this.varIndexByCol[c]]);var y=this.checkForCycles(t);if(y.length>0)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+y[0]),this.model.messages.push("Length :"+y[1]),this.feasible=!1,a}this.pivot(s,c),a+=1}},e.prototype.phase2=function(){for(var e,t,r=this.model.checkForCycles,n=[],i=this.matrix,o=this.rhsColumn,a=this.width-1,s=this.height-1,h=this.precision,u=this.optionalObjectives.length,l=null,c=0;;){var d=i[this.costRowIndex];u>0&&(l=[]);for(var f=0,p=h,v=!1,g=1;g<=a;g++){if(e=d[g],t=!0===this.unrestrictedVars[this.varIndexByCol[g]],u>0&&-h<e&&e<h){l.push(g);continue}if(t&&e<0){-e>p&&(p=-e,f=g,v=!0);continue}e>p&&(p=e,f=g,v=!1)}if(u>0)for(var m=0;0===f&&l.length>0&&m<u;){var y=[],x=this.optionalObjectives[m].reducedCosts;p=h;for(var b=0;b<l.length;b++){if(e=x[g=l[b]],t=!0===this.unrestrictedVars[this.varIndexByCol[g]],-h<e&&e<h){y.push(g);continue}if(t&&e<0){-e>p&&(p=-e,f=g,v=!0);continue}e>p&&(p=e,f=g,v=!1)}l=y,m+=1}if(0===f)return this.setEvaluation(),this.simplexIters+=1,c;for(var w=0,E=1/0,_=(this.varIndexByRow,1);_<=s;_++){var I=i[_],C=I[o],k=I[f];if(!(-h<k&&k<h)){if(k>0&&h>C&&C>-h){E=0,w=_;break}var N=v?-C/k:C/k;N>h&&E>N&&(E=N,w=_)}}if(E===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[f],c;if(r){n.push([this.varIndexByRow[w],this.varIndexByCol[f]]);var B=this.checkForCycles(n);if(B.length>0)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+B[0]),this.model.messages.push("Length :"+B[1]),this.feasible=!1,c}this.pivot(w,f,!0),c+=1}};var t=[];e.prototype.pivot=function(e,r){var n=this.matrix,i=n[e][r],o=this.height-1,a=this.width-1,s=this.varIndexByRow[e],h=this.varIndexByCol[r];this.varIndexByRow[e]=h,this.varIndexByCol[r]=s,this.rowByVarIndex[h]=e,this.rowByVarIndex[s]=-1,this.colByVarIndex[h]=-1,this.colByVarIndex[s]=r;for(var u=n[e],l=0,c=0;c<=a;c++)u[c]>=-.0000000000000001&&u[c]<=1e-16?u[c]=0:(u[c]/=i,t[l]=c,l+=1);u[r]=1/i,this.precision;for(var d,f,p,v=0;v<=o;v++)if(v!==e&&!(n[v][r]>=-.0000000000000001&&n[v][r]<=1e-16)){var g=n[v];if((d=g[r])>=-.0000000000000001&&d<=1e-16)0!==d&&(g[r]=0);else{for(f=0;f<l;f++)(p=u[c=t[f]])>=-.0000000000000001&&p<=1e-16?0!==p&&(u[c]=0):g[c]=g[c]-d*p;g[r]=-d/i}}var m=this.optionalObjectives.length;if(m>0)for(var y=0;y<m;y+=1){var x=this.optionalObjectives[y].reducedCosts;if(0!==(d=x[r])){for(f=0;f<l;f++)0!==(p=u[c=t[f]])&&(x[c]=x[c]-d*p);x[r]=-d/i}}},e.prototype.checkForCycles=function(e){for(var t=0;t<e.length-1;t++)for(var r=t+1;r<e.length;r++){var n=e[t],i=e[r];if(n[0]===i[0]&&n[1]===i[1]){if(r-t>e.length-r)break;for(var o=!0,a=1;a<r-t;a++){var s=e[t+a],h=e[r+a];if(s[0]!==h[0]||s[1]!==h[1]){o=!1;break}}if(o)return[t,r-t]}}return[]}}),m=u((e,t)=>{function r(e,t,r,n){this.id=e,this.cost=t,this.index=r,this.value=0,this.priority=n}function n(e,t,n,i){r.call(this,e,t,n,i)}function i(e,t){r.call(this,e,0,t,0)}function o(e,t){this.variable=e,this.coefficient=t}function a(e,t,r){return 0===r||"required"===r?null:(t=t||1,r=r||1,!1===e.isMinimization&&(t=-t),e.addVariable(t,"r"+e.relaxationIndex++,!1,!1,r))}function s(e,t,r,n){this.slack=new i("s"+r,r),this.index=r,this.model=n,this.rhs=e,this.isUpperBound=t,this.terms=[],this.termsByVarIndex={},this.relaxation=null}function h(e,t){this.upperBound=e,this.lowerBound=t,this.model=e.model,this.rhs=e.rhs,this.relaxation=null}n.prototype.isInteger=!0,i.prototype.isSlack=!0,s.prototype.addTerm=function(e,t){var r=t.index,n=this.termsByVarIndex[r];if(void 0===n)n=new o(t,e),this.termsByVarIndex[r]=n,this.terms.push(n),!0===this.isUpperBound&&(e=-e),this.model.updateConstraintCoefficient(this,t,e);else{var i=n.coefficient+e;this.setVariableCoefficient(i,t)}return this},s.prototype.removeTerm=function(e){return this},s.prototype.setRightHandSide=function(e){if(e!==this.rhs){var t=e-this.rhs;!0===this.isUpperBound&&(t=-t),this.rhs=e,this.model.updateRightHandSide(this,t)}return this},s.prototype.setVariableCoefficient=function(e,t){var r=t.index;if(-1===r){console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.");return}var n=this.termsByVarIndex[r];if(void 0===n)this.addTerm(e,t);else if(e!==n.coefficient){var i=e-n.coefficient;!0===this.isUpperBound&&(i=-i),n.coefficient=e,this.model.updateConstraintCoefficient(this,t,i)}return this},s.prototype.relax=function(e,t){this.relaxation=a(this.model,e,t),this._relax(this.relaxation)},s.prototype._relax=function(e){null!==e&&(this.isUpperBound?this.setVariableCoefficient(-1,e):this.setVariableCoefficient(1,e))},h.prototype.isEquality=!0,h.prototype.addTerm=function(e,t){return this.upperBound.addTerm(e,t),this.lowerBound.addTerm(e,t),this},h.prototype.removeTerm=function(e){return this.upperBound.removeTerm(e),this.lowerBound.removeTerm(e),this},h.prototype.setRightHandSide=function(e){this.upperBound.setRightHandSide(e),this.lowerBound.setRightHandSide(e),this.rhs=e},h.prototype.relax=function(e,t){this.relaxation=a(this.model,e,t),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)},t.exports={Constraint:s,Variable:r,IntegerVariable:n,SlackVariable:i,Equality:h,Term:o}}),y=u(()=>{var e=v(),t=m().SlackVariable;e.prototype.addCutConstraints=function(e){for(var r=e.length,n=this.height,i=n+r,o=n;o<i;o+=1)void 0===this.matrix[o]&&(this.matrix[o]=this.matrix[o-1].slice());this.height=i,this.nVars=this.width+this.height-2;for(var a,s=this.width-1,h=0;h<r;h+=1){var u=e[h],l=n+h,c="min"===u.type?-1:1,d=u.varIndex,f=this.rowByVarIndex[d],p=this.matrix[l];if(-1===f){for(p[this.rhsColumn]=c*u.value,a=1;a<=s;a+=1)p[a]=0;p[this.colByVarIndex[d]]=c}else{var v=this.matrix[f],g=v[this.rhsColumn];for(p[this.rhsColumn]=c*(u.value-g),a=1;a<=s;a+=1)p[a]=-c*v[a]}var m=this.getNewElementIndex();this.varIndexByRow[l]=m,this.rowByVarIndex[m]=l,this.colByVarIndex[m]=-1,this.variablesPerIndex[m]=new t("s"+m,m),this.nVars+=1}},e.prototype._addLowerBoundMIRCut=function(e){if(e===this.costRowIndex)return!1;this.model;var r=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[e]].isInteger)return!1;var n=r[e][this.rhsColumn],i=n-Math.floor(n);if(i<this.precision||1-this.precision<i)return!1;var o=this.height;r[o]=r[o-1].slice(),this.height+=1,this.nVars+=1;var a=this.getNewElementIndex();this.varIndexByRow[o]=a,this.rowByVarIndex[a]=o,this.colByVarIndex[a]=-1,this.variablesPerIndex[a]=new t("s"+a,a),r[o][this.rhsColumn]=Math.floor(n);for(var s=1;s<this.varIndexByCol.length;s+=1)if(this.variablesPerIndex[this.varIndexByCol[s]].isInteger){var h=r[e][s],u=Math.floor(h)+Math.max(0,h-Math.floor(h)-i)/(1-i);r[o][s]=u}else r[o][s]=Math.min(0,r[e][s]/(1-i));for(var l=0;l<this.width;l+=1)r[o][l]-=r[e][l];return!0},e.prototype._addUpperBoundMIRCut=function(e){if(e===this.costRowIndex)return!1;this.model;var r=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[e]].isInteger)return!1;var n=r[e][this.rhsColumn],i=n-Math.floor(n);if(i<this.precision||1-this.precision<i)return!1;var o=this.height;r[o]=r[o-1].slice(),this.height+=1,this.nVars+=1;var a=this.getNewElementIndex();this.varIndexByRow[o]=a,this.rowByVarIndex[a]=o,this.colByVarIndex[a]=-1,this.variablesPerIndex[a]=new t("s"+a,a),r[o][this.rhsColumn]=-i;for(var s=1;s<this.varIndexByCol.length;s+=1){var h=this.variablesPerIndex[this.varIndexByCol[s]],u=r[e][s],l=u-Math.floor(u);h.isInteger?l<=i?r[o][s]=-l:r[o][s]=-(1-l)*i/l:u>=0?r[o][s]=-u:r[o][s]=u*i/(1-i)}return!0},e.prototype.applyMIRCuts=function(){}}),x=u(()=>{var e=v();e.prototype._putInBase=function(e){var t=this.rowByVarIndex[e];if(-1===t){for(var r=this.colByVarIndex[e],n=1;n<this.height;n+=1){var i=this.matrix[n][r];if(i<-this.precision||this.precision<i){t=n;break}}this.pivot(t,r)}return t},e.prototype._takeOutOfBase=function(e){var t=this.colByVarIndex[e];if(-1===t){for(var r=this.rowByVarIndex[e],n=this.matrix[r],i=1;i<this.height;i+=1){var o=n[i];if(o<-this.precision||this.precision<o){t=i;break}}this.pivot(r,t)}return t},e.prototype.updateVariableValues=function(){for(var e=this.variables.length,t=Math.round(1/this.precision),r=0;r<e;r+=1){var n=this.variables[r],i=n.index,o=this.rowByVarIndex[i];if(-1===o)n.value=0;else{var a=this.matrix[o][this.rhsColumn];n.value=Math.round((a+Number.EPSILON)*t)/t}}},e.prototype.updateRightHandSide=function(e,t){var r=this.height-1,n=this.rowByVarIndex[e.index];if(-1===n){for(var i=this.colByVarIndex[e.index],o=0;o<=r;o+=1){var a=this.matrix[o];a[this.rhsColumn]-=t*a[i]}var s=this.optionalObjectives.length;if(s>0)for(var h=0;h<s;h+=1){var u=this.optionalObjectives[h].reducedCosts;u[this.rhsColumn]-=t*u[i]}}else this.matrix[n][this.rhsColumn]-=t},e.prototype.updateConstraintCoefficient=function(e,t,r){if(e.index===t.index)throw Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var n=this._putInBase(e.index),i=this.colByVarIndex[t.index];if(-1===i)for(var o=this.rowByVarIndex[t.index],a=0;a<this.width;a+=1)this.matrix[n][a]+=r*this.matrix[o][a];else this.matrix[n][i]-=r},e.prototype.updateCost=function(e,t){var r=e.index,n=this.width-1,i=this.colByVarIndex[r];if(-1===i){var o,a=this.matrix[this.rowByVarIndex[r]];if(0===e.priority){var s=this.matrix[0];for(o=0;o<=n;o+=1)s[o]+=t*a[o]}else{var h=this.objectivesByPriority[e.priority].reducedCosts;for(o=0;o<=n;o+=1)h[o]+=t*a[o]}}else this.matrix[0][i]-=t},e.prototype.addConstraint=function(e){var t=e.isUpperBound?1:-1,r=this.height,n=this.matrix[r];void 0===n&&(n=this.matrix[0].slice(),this.matrix[r]=n);for(var i=this.width-1,o=0;o<=i;o+=1)n[o]=0;n[this.rhsColumn]=t*e.rhs;for(var a=e.terms,s=a.length,h=0;h<s;h+=1){var u=a[h],l=u.coefficient,c=u.variable.index,d=this.rowByVarIndex[c];if(-1===d)n[this.colByVarIndex[c]]+=t*l;else{var f=this.matrix[d];for(f[this.rhsColumn],o=0;o<=i;o+=1)n[o]-=t*l*f[o]}}var p=e.index;this.varIndexByRow[r]=p,this.rowByVarIndex[p]=r,this.colByVarIndex[p]=-1,this.height+=1},e.prototype.removeConstraint=function(e){var t=e.index,r=this.height-1,n=this._putInBase(t),i=this.matrix[r];this.matrix[r]=this.matrix[n],this.matrix[n]=i,this.varIndexByRow[n]=this.varIndexByRow[r],this.varIndexByRow[r]=-1,this.rowByVarIndex[t]=-1,this.availableIndexes[this.availableIndexes.length]=t,e.slack.index=-1,this.height-=1},e.prototype.addVariable=function(e){var t=this.height-1,r=this.width,n=!0===this.model.isMinimization?-e.cost:e.cost,i=e.priority,o=this.optionalObjectives.length;if(o>0)for(var a=0;a<o;a+=1)this.optionalObjectives[a].reducedCosts[r]=0;0===i?this.matrix[0][r]=n:(this.setOptionalObjective(i,r,n),this.matrix[0][r]=0);for(var s=1;s<=t;s+=1)this.matrix[s][r]=0;var h=e.index;this.varIndexByCol[r]=h,this.rowByVarIndex[h]=-1,this.colByVarIndex[h]=r,this.width+=1},e.prototype.removeVariable=function(e){var t=e.index,r=this._takeOutOfBase(t),n=this.width-1;if(r!==n){for(var i=this.height-1,o=0;o<=i;o+=1){var a=this.matrix[o];a[r]=a[n]}var s=this.optionalObjectives.length;if(s>0)for(var h=0;h<s;h+=1){var u=this.optionalObjectives[h].reducedCosts;u[r]=u[n]}var l=this.varIndexByCol[n];this.varIndexByCol[r]=l,this.colByVarIndex[l]=r}this.varIndexByCol[n]=-1,this.colByVarIndex[t]=-1,this.availableIndexes[this.availableIndexes.length]=t,e.index=-1,this.width-=1}}),b=u(()=>{v().prototype.log=function(e,t){console.log("****",e,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);var r,n,i,o,a,s,h,u,l,c,d,f="",p=[" "];for(n=1;n<this.width;n+=1)a=this.varIndexByCol[n],h=(s=void 0===(o=this.variablesPerIndex[a])?"c"+a:o.id).length,u=" ",l="	",h>5?u+=" ":l+="	",p[n]=u,f+=l+s;console.log(f);var v=this.matrix[this.costRowIndex],g="	";for(r=1;r<this.width;r+=1)g+="	"+p[r]+v[r].toFixed(5);for(console.log((g+="	"+p[0]+v[0].toFixed(5))+"	Z"),i=1;i<this.height;i+=1){for(c=this.matrix[i],d="	",n=1;n<this.width;n+=1)d+="	"+p[n]+c[n].toFixed(5);d+="	"+p[0]+c[0].toFixed(5),a=this.varIndexByRow[i],console.log(d+"	"+(s=void 0===(o=this.variablesPerIndex[a])?"c"+a:o.id))}console.log("");var m=this.optionalObjectives.length;if(m>0){console.log("    Optional objectives:");for(var y=0;y<m;y+=1){var x=this.optionalObjectives[y].reducedCosts,b="";for(r=1;r<this.width;r+=1)b+=(x[r]<0?"":" ")+p[r]+x[r].toFixed(5);console.log((b+=(x[0]<0?"":" ")+p[0]+x[0].toFixed(5))+" z"+y)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this}}),w=u(()=>{var e=v();e.prototype.copy=function(){var t=new e(this.precision);t.width=this.width,t.height=this.height,t.nVars=this.nVars,t.model=this.model,t.variables=this.variables,t.variablesPerIndex=this.variablesPerIndex,t.unrestrictedVars=this.unrestrictedVars,t.lastElementIndex=this.lastElementIndex,t.varIndexByRow=this.varIndexByRow.slice(),t.varIndexByCol=this.varIndexByCol.slice(),t.rowByVarIndex=this.rowByVarIndex.slice(),t.colByVarIndex=this.colByVarIndex.slice(),t.availableIndexes=this.availableIndexes.slice();for(var r=[],n=0;n<this.optionalObjectives.length;n++)r[n]=this.optionalObjectives[n].copy();t.optionalObjectives=r;for(var i=this.matrix,o=Array(this.height),a=0;a<this.height;a++)o[a]=i[a].slice();return t.matrix=o,t},e.prototype.save=function(){this.savedState=this.copy()},e.prototype.restore=function(){if(null!==this.savedState){var e,t,r=this.savedState,n=r.matrix;for(this.nVars=r.nVars,this.model=r.model,this.variables=r.variables,this.variablesPerIndex=r.variablesPerIndex,this.unrestrictedVars=r.unrestrictedVars,this.lastElementIndex=r.lastElementIndex,this.width=r.width,this.height=r.height,e=0;e<this.height;e+=1){var i=n[e],o=this.matrix[e];for(t=0;t<this.width;t+=1)o[t]=i[t]}var a=r.varIndexByRow;for(t=0;t<this.height;t+=1)this.varIndexByRow[t]=a[t];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var s=r.varIndexByCol;for(e=0;e<this.width;e+=1)this.varIndexByCol[e]=s[e];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();for(var h=r.rowByVarIndex,u=r.colByVarIndex,l=0;l<this.nVars;l+=1)this.rowByVarIndex[l]=h[l],this.colByVarIndex[l]=u[l];if(r.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var c=0;c<r.optionalObjectives.length;c++){var d=r.optionalObjectives[c].copy();this.optionalObjectives[c]=d,this.optionalObjectivePerPriority[d.priority]=d}}}}}),E=u(()=>{var e=v();function t(e,t){this.index=e,this.value=t}e.prototype.getMostFractionalVar=function(){for(var e=0,r=null,n=null,i=this.model.integerVariables,o=i.length,a=0;a<o;a++){var s=i[a].index,h=this.rowByVarIndex[s];if(-1!==h){var u=this.matrix[h][this.rhsColumn],l=Math.abs(u-Math.round(u));e<l&&(e=l,r=s,n=u)}}return new t(r,n)},e.prototype.getFractionalVarWithLowestCost=function(){for(var e=1/0,r=null,n=null,i=this.model.integerVariables,o=i.length,a=0;a<o;a++){var s=i[a],h=s.index,u=this.rowByVarIndex[h];if(-1!==u){var l=this.matrix[u][this.rhsColumn];if(Math.abs(l-Math.round(l))>this.precision){var c=s.cost;e>c&&(e=c,r=h,n=l)}}}return new t(r,n)}}),_=u(()=>{var e=v();e.prototype.countIntegerValues=function(){for(var e=0,t=1;t<this.height;t+=1)if(this.variablesPerIndex[this.varIndexByRow[t]].isInteger){var r=this.matrix[t][this.rhsColumn];(r-=Math.floor(r))<this.precision&&-r<this.precision&&(e+=1)}return e},e.prototype.isIntegral=function(){for(var e=this.model.integerVariables,t=e.length,r=0;r<t;r++){var n=this.rowByVarIndex[e[r].index];if(-1!==n){var i=this.matrix[n][this.rhsColumn];if(Math.abs(i-Math.round(i))>this.precision)return!1}}return!0},e.prototype.computeFractionalVolume=function(e){for(var t=-1,r=1;r<this.height;r+=1)if(this.variablesPerIndex[this.varIndexByRow[r]].isInteger){var n=this.matrix[r][this.rhsColumn];if(Math.min((n=Math.abs(n))-Math.floor(n),Math.floor(n+1))<this.precision){if(!e)return 0}else -1===t?t=n:t*=n}return -1===t?0:t}}),I=u((e,t)=>{g(),y(),x(),b(),w(),E(),_(),t.exports=v()}),C=u(()=>{var e=v();function t(e,t,r){this.type=e,this.varIndex=t,this.value=r}function r(e,t){this.relaxedEvaluation=e,this.cuts=t}function n(e,t){return t.relaxedEvaluation-e.relaxedEvaluation}e.prototype.applyCuts=function(e){if(this.restore(),this.addCutConstraints(e),this.simplex(),this.model.useMIRCuts)for(var t=!0;t;){var r=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*r&&(t=!1)}},e.prototype.branchAndCut=function(){var e=[],i=0,o=this.model.tolerance,a=!0,s=1e99;this.model.timeout&&(s=Date.now()+this.model.timeout);for(var h=1/0,u=null,l=[],c=0;c<this.optionalObjectives.length;c+=1)l.push(1/0);var d,f=new r(-1/0,[]);for(e.push(f);e.length>0&&!0===a&&Date.now()<s;)if(d=this.model.isMinimization?this.bestPossibleEval*(1+o):this.bestPossibleEval*(1-o),o>0&&h<d&&(a=!1),!((f=e.pop()).relaxedEvaluation>h)){var p=f.cuts;if(this.applyCuts(p),i++,!1!==this.feasible){var v=this.evaluation;if(!(v>h)){if(v===h){for(var g=!0,m=0;m<this.optionalObjectives.length&&!(this.optionalObjectives[m].reducedCosts[0]>l[m]);m+=1)if(this.optionalObjectives[m].reducedCosts[0]<l[m]){g=!1;break}if(g)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===i){this.branchAndCutIterations=i;return}u=f,h=v;for(var y=0;y<this.optionalObjectives.length;y+=1)l[y]=this.optionalObjectives[y].reducedCosts[0]}else{1===i&&this.save();for(var x=this.getMostFractionalVar(),b=x.index,w=[],E=[],_=p.length,I=0;I<_;I+=1){var C=p[I];C.varIndex===b?"min"===C.type?E.push(C):w.push(C):(w.push(C),E.push(C))}var k=Math.ceil(x.value),N=Math.floor(x.value),B=new t("min",b,k);w.push(B);var M=new t("max",b,N);E.push(M),e.push(new r(v,w)),e.push(new r(v,E)),e.sort(n)}}}}null!==u&&this.applyCuts(u.cuts),this.branchAndCutIterations=i}}),k=u((e,t)=>{var r=v(),n=(C(),m()),i=n.Constraint,o=n.Equality,a=n.Variable,s=n.IntegerVariable;function h(e,t){this.tableau=new r(e),this.name=t,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[]}n.Term,t.exports=h,h.prototype.minimize=function(){return this.isMinimization=!0,this},h.prototype.maximize=function(){return this.isMinimization=!1,this},h.prototype._getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var e=this.lastElementIndex;return this.lastElementIndex+=1,e},h.prototype._addConstraint=function(e){var t=e.slack;this.tableau.variablesPerIndex[t.index]=t,this.constraints.push(e),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(e)},h.prototype.smallerThan=function(e){var t=new i(e,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(t),t},h.prototype.greaterThan=function(e){var t=new i(e,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(t),t},h.prototype.equal=function(e){var t=new i(e,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(t);var r=new i(e,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(r),new o(t,r)},h.prototype.addVariable=function(e,t,r,n,i){if("string"==typeof i)switch(i){case"required":default:i=0;break;case"strong":i=1;break;case"medium":i=2;break;case"weak":i=3}var o,h=this.tableau.getNewElementIndex();return null==t&&(t="v"+h),null==e&&(e=0),null==i&&(i=0),r?(o=new s(t,e,h,i),this.integerVariables.push(o)):o=new a(t,e,h,i),this.variables.push(o),this.tableau.variablesPerIndex[h]=o,n&&(this.unrestrictedVariables[h]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(o),o},h.prototype._removeConstraint=function(e){var t=this.constraints.indexOf(e);if(-1===t){console.warn("[Model.removeConstraint] Constraint not present in model");return}this.constraints.splice(t,1),this.nConstraints-=1,!0===this.tableauInitialized&&this.tableau.removeConstraint(e),e.relaxation&&this.removeVariable(e.relaxation)},h.prototype.removeConstraint=function(e){return e.isEquality?(this._removeConstraint(e.upperBound),this._removeConstraint(e.lowerBound)):this._removeConstraint(e),this},h.prototype.removeVariable=function(e){var t=this.variables.indexOf(e);if(-1===t){console.warn("[Model.removeVariable] Variable not present in model");return}return this.variables.splice(t,1),!0===this.tableauInitialized&&this.tableau.removeVariable(e),this},h.prototype.updateRightHandSide=function(e,t){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(e,t),this},h.prototype.updateConstraintCoefficient=function(e,t,r){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(e,t,r),this},h.prototype.setCost=function(e,t){var r=e-t.cost;return!1===this.isMinimization&&(r=-r),t.cost=e,this.tableau.updateCost(t,r),this},h.prototype.loadJson=function(e){this.isMinimization="max"!==e.opType;for(var t=e.variables,r=e.constraints,n={},i={},a=Object.keys(r),s=a.length,h=0;h<s;h+=1){var u,l,c=a[h],d=r[c],f=d.equal,p=d.weight,v=d.priority,g=void 0!==p||void 0!==v;if(void 0===f){var m=d.min;void 0!==m&&(u=this.greaterThan(m),n[c]=u,g&&u.relax(p,v));var y=d.max;void 0!==y&&(l=this.smallerThan(y),i[c]=l,g&&l.relax(p,v))}else{u=this.greaterThan(f),n[c]=u,l=this.smallerThan(f),i[c]=l;var x=new o(u,l);g&&x.relax(p,v)}}var b=Object.keys(t),w=b.length;this.tolerance=e.tolerance||0,e.timeout&&(this.timeout=e.timeout),e.options&&(e.options.timeout&&(this.timeout=e.options.timeout),0===this.tolerance&&(this.tolerance=e.options.tolerance||0),e.options.useMIRCuts&&(this.useMIRCuts=e.options.useMIRCuts),typeof e.options.exitOnCycles>"u"?this.checkForCycles=!0:this.checkForCycles=e.options.exitOnCycles);for(var E=e.ints||{},_=e.binaries||{},I=e.unrestricted||{},C=e.optimize,k=0;k<w;k+=1){var N=b[k],B=t[N],M=B[C]||0,V=!!_[N],z=!!E[N]||V,O=!!I[N],S=this.addVariable(M,N,z,O);V&&this.smallerThan(1).addTerm(1,S);var R=Object.keys(B);for(h=0;h<R.length;h+=1){var j=R[h];if(j!==C){var P=B[j],T=n[j];void 0!==T&&T.addTerm(P,S);var L=i[j];void 0!==L&&L.addTerm(P,S)}}}return this},h.prototype.getNumberOfIntegerVariables=function(){return this.integerVariables.length},h.prototype.solve=function(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()},h.prototype.isFeasible=function(){return this.tableau.feasible},h.prototype.save=function(){return this.tableau.save()},h.prototype.restore=function(){return this.tableau.restore()},h.prototype.activateMIRCuts=function(e){this.useMIRCuts=e},h.prototype.debug=function(e){this.checkForCycles=e},h.prototype.log=function(e){return this.tableau.log(e)}}),N=u(e=>{e.CleanObjectiveAttributes=function(e){var t,r,n;if("string"==typeof e.optimize){if(!e.constraints[e.optimize])return e;for(r in t=Math.random(),e.variables)e.variables[r][e.optimize]&&(e.variables[r][t]=e.variables[r][e.optimize]);return e.constraints[t]=e.constraints[e.optimize],delete e.constraints[e.optimize],e}for(n in e.optimize)if(e.constraints[n]){if("equal"===e.constraints[n])delete e.optimize[n];else{for(r in t=Math.random(),e.variables)e.variables[r][n]&&(e.variables[r][t]=e.variables[r][n]);e.constraints[t]=e.constraints[n],delete e.constraints[n]}}return e}}),B=u((e,t)=>{t.exports=function(e){return e.length?function(e){var t={is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},r={opType:"",optimize:"_obj",constraints:{},variables:{}},n={">=":"min","<=":"max","=":"equal"},i="",o=null,a="",s="",h="",u=0;"string"==typeof e&&(e=e.split(`
`));for(var l=0;l<e.length;l++)if(h="__"+l,i=e[l],o=null,t.is_objective.test(i))r.opType=i.match(/(max|min)/gi)[0],(o=i.match(t.parse_lhs).map(function(e){return e.replace(/\s+/,"")}).slice(1)).forEach(function(e){a=parseFloat(a=null===(a=e.match(t.get_num))?"-"===e.substr(0,1)?-1:1:a[0]),s=e.match(t.get_word)[0].replace(/\;$/,""),r.variables[s]=r.variables[s]||{},r.variables[s]._obj=a});else if(t.is_int.test(i))o=i.match(t.parse_int).slice(1),r.ints=r.ints||{},o.forEach(function(e){e=e.replace(";",""),r.ints[e]=1});else if(t.is_bin.test(i))o=i.match(t.parse_bin).slice(1),r.binaries=r.binaries||{},o.forEach(function(e){e=e.replace(";",""),r.binaries[e]=1});else if(t.is_constraint.test(i)){var c=i.indexOf(":");(o=(-1===c?i:i.slice(c+1)).match(t.parse_lhs).map(function(e){return e.replace(/\s+/,"")})).forEach(function(e){a=parseFloat(a=null===(a=e.match(t.get_num))?"-"===e.substr(0,1)?-1:1:a[0]),s=e.match(t.get_word)[0],r.variables[s]=r.variables[s]||{},r.variables[s][h]=a}),u=parseFloat(i.match(t.parse_rhs)[0]),i=n[i.match(t.parse_dir)[0]],r.constraints[h]=r.constraints[h]||{},r.constraints[h][i]=u}else t.is_unrestricted.test(i)&&(o=i.match(t.parse_int).slice(1),r.unrestricted=r.unrestricted||{},o.forEach(function(e){e=e.replace(";",""),r.unrestricted[e]=1}));return r}(e):function(e){if(!e)throw Error("Solver requires a model to operate on");var t="",r={max:"<=",min:">=",equal:"="},n=RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(e.opType)for(var i in t+=e.opType+":",e.variables)e.variables[i][i]=e.variables[i][i]?e.variables[i][i]:1,e.variables[i][e.optimize]&&(t+=" "+e.variables[i][e.optimize]+" "+i.replace(n,"_"));else t+="max:";for(var o in t+=`;

`,e.constraints)for(var a in e.constraints[o])if("u">typeof r[a]){for(var s in e.variables)"u">typeof e.variables[s][o]&&(t+=" "+e.variables[s][o]+" "+s.replace(n,"_"));t+=" "+r[a]+" "+e.constraints[o][a]+`;
`}if(e.ints)for(var h in t+=`

`,e.ints)t+="int "+h.replace(n,"_")+`;
`;if(e.unrestricted)for(var u in t+=`

`,e.unrestricted)t+="unrestricted "+u.replace(n,"_")+`;
`;return t}(e)}}),M=u(()=>{}),V=u(()=>{}),z=u(e=>{function t(e){return e=(e=(e=e.replace("\\r\\n",`\r
`)).split(`\r
`)).filter(function(e){return!(!0===RegExp(" 0$","gi").test(e)||!1===RegExp("\\d$","gi").test(e))}).map(function(e){return e.split(/\:{0,1} +(?=\d)/)}).reduce(function(e,t,r){return e[t[0]]=t[1],e},{})}e.reformat=B(),e.solve=function(e){return new Promise(function(r,n){"u">typeof window&&n("Function Not Available in Browser");var i=B()(e);e.external||n("Data for this function must be contained in the 'external' attribute. Not seeing anything there."),e.external.binPath||n("No Executable | Binary path provided in arguments as 'binPath'"),e.external.args||n("No arguments array for cli | bash provided on 'args' attribute"),e.external.tempName||n("No 'tempName' given. This is necessary to produce a staging file for the solver to operate on"),M().writeFile(e.external.tempName,i,function(i,o){if(i)n(i);else{var a=V().execFile;e.external.args.push(e.external.tempName),a(e.external.binPath,e.external.args,function(e,i){e?1===e.code?r(t(i)):n({code:e.code,meaning:{"-2":"Out of Memory",1:"SUBOPTIMAL",2:"INFEASIBLE",3:"UNBOUNDED",4:"DEGENERATE",5:"NUMFAILURE",6:"USER-ABORT",7:"TIMEOUT",9:"PRESOLVED",25:"ACCURACY ERROR",255:"FILE-ERROR"}[e.code],data:i}):r(t(i))})}})})}}),O=u((e,t)=>{t.exports={lpsolve:z()}}),S=u((e,t)=>{t.exports=function(e,t){var r,n,i,o,a,s=t.optimize,h=JSON.parse(JSON.stringify(t.optimize)),u=Object.keys(t.optimize),l=0,c={},d="",f={},p=[];for(delete t.optimize,n=0;n<u.length;n++)h[u[n]]=0;for(n=0;n<u.length;n++){for(a in t.optimize=u[n],t.opType=s[u[n]],r=e.Solve(t,void 0,void 0,!0),u)if(!t.variables[u[a]])for(o in r[u[a]]=r[u[a]]?r[u[a]]:0,t.variables)t.variables[o][u[a]]&&r[o]&&(r[u[a]]+=r[o]*t.variables[o][u[a]]);for(d="base",i=0;i<u.length;i++)r[u[i]]?d+="-"+(1e3*r[u[i]]|0)/1e3:d+="-0";if(!c[d]){for(c[d]=1,l++,i=0;i<u.length;i++)r[u[i]]&&(h[u[i]]+=r[u[i]]);delete r.feasible,delete r.result,p.push(r)}}for(n=0;n<u.length;n++)t.constraints[u[n]]={equal:h[u[n]]/l};for(n in t.optimize="cheater-"+Math.random(),t.opType="max",t.variables)t.variables[n].cheater=1;for(n in p)for(o in p[n])f[o]=f[o]||{min:1e99,max:-1e99};for(n in f)for(o in p)p[o][n]?(p[o][n]>f[n].max&&(f[n].max=p[o][n]),p[o][n]<f[n].min&&(f[n].min=p[o][n])):(p[o][n]=0,f[n].min=0);return{midpoint:r=e.Solve(t,void 0,void 0,!0),vertices:p,ranges:f}}}),R=u((e,t)=>{var r=I(),n=k(),i=C(),o=m(),a=N(),s=o.Constraint,h=o.Variable,u=o.Numeral,l=o.Term,c=O(),d=function(){this.Model=n,this.branchAndCut=i,this.Constraint=s,this.Variable=h,this.Numeral=u,this.Term=l,this.Tableau=r,this.lastSolvedModel=null,this.External=c,this.Solve=function(e,t,r,i){if(i)for(var o in a)e=a[o](e);if(!e)throw Error("Solver requires a model to operate on");if("object"==typeof e.optimize&&Object.keys(e.optimize>1))return S()(this,e);if(e.external){var s=Object.keys(c);if(s=JSON.stringify(s),!e.external.solver)throw Error("The model you provided has an 'external' object that doesn't have a solver attribute. Use one of the following:"+s);if(!c[e.external.solver])throw Error("No support (yet) for "+e.external.solver+". Please use one of these instead:"+s);return c[e.external.solver].solve(e)}e instanceof n||(e=new n(t).loadJson(e));var h=e.solve();if(this.lastSolvedModel=e,h.solutionSet=h.generateSolutionSet(),r)return h;var u={};return u.feasible=h.feasible,u.result=h.evaluation,u.bounded=h.bounded,h._tableau.__isIntegral&&(u.isIntegral=!0),Object.keys(h.solutionSet).forEach(function(e){0!==h.solutionSet[e]&&(u[e]=h.solutionSet[e])}),u},this.ReformatLP=B(),this.MultiObjective=function(e){return S()(this,e)}};"function"==typeof define?define([],function(){return new d}):"object"==typeof window?window.solver=new d:"object"==typeof self&&(self.solver=new d),t.exports=new d}),j=u((e,t)=>{var r,n,i=1e-60;do i+=i,r=1+.1*i,n=1+.2*i;while(r<=1||n<=1);t.exports=i}),P=u((e,t)=>{t.exports=function(e,t,r){let n,i;for(let t=1;t<=r;t+=1){e[t][t]=1/e[t][t],i=-e[t][t];for(let r=1;r<t;r+=1)e[r][t]*=i;if(r<(n=t+1))break;for(let o=n;o<=r;o+=1){i=e[t][o],e[t][o]=0;for(let r=1;r<=t;r+=1)e[r][o]+=i*e[r][t]}}}}),T=u((e,t)=>{t.exports=function(e,t,r,n){let i,o;for(i=1;i<=r;i+=1){o=0;for(let t=1;t<i;t+=1)o+=e[t][i]*n[t];n[i]=(n[i]-o)/e[i][i]}for(let t=1;t<=r;t+=1){i=r+1-t,n[i]/=e[i][i],o=-n[i];for(let t=1;t<i;t+=1)n[t]+=o*e[t][i]}}}),L=u((e,t)=>{t.exports=function(e,t,r,n){let i,o,a;for(let t=1;t<=r;t+=1){if(n[1]=t,a=0,(i=t-1)<1){if((a=e[t][t]-a)<=0)break;e[t][t]=Math.sqrt(a)}else{for(let r=1;r<=i;r+=1){o=e[r][t];for(let n=1;n<r;n+=1)o-=e[n][t]*e[n][r];o/=e[r][r],e[r][t]=o,a+=o*o}if((a=e[t][t]-a)<=0)break;e[t][t]=Math.sqrt(a)}n[1]=0}}}),F=u((e,t)=>{var r=j(),n=P(),i=T(),o=L();t.exports=function(e,t,a,s,h,u,l,c,d,f,p,v,g,m=0,y,x,b){let w,E,_,I,C,k,N,B,M,V,z,O,S,R,j=Math.min(s,p),P=2*s+j*(j+5)/2+2*p+1;for(let e=1;e<=s;e+=1)x[e]=t[e];for(let e=s+1;e<=P;e+=1)x[e]=0;for(let e=1;e<=p;e+=1)g[e]=0,u[e]=0;let T=[];if(0===b[1]){if(o(e,a,s,T),0!==T[1]){b[1]=2;return}i(e,a,s,t),n(e,a,s)}else{for(let r=1;r<=s;r+=1){h[r]=0;for(let n=1;n<=r;n+=1)h[r]+=e[n][r]*t[n]}for(let r=1;r<=s;r+=1){t[r]=0;for(let n=r;n<=s;n+=1)t[r]+=e[r][n]*h[n]}}l[1]=0;for(let r=1;r<=s;r+=1){h[r]=t[r],l[1]+=x[r]*h[r],x[r]=0;for(let t=r+1;t<=s;t+=1)e[t][r]=0}l[1]=-l[1]/2,b[1]=0;let L=s+s,F=L+j,A=F+j+1,D=A+j*(j+1)/2,q=D+p;for(let e=1;e<=p;e+=1){k=0;for(let t=1;t<=s;t+=1)k+=c[t][e]*c[t][e];x[q+e]=Math.sqrt(k)}function G(){return x[F+I]=x[F+I+1],x[F+I+1]=0,g[I]=0,I-=1,y[2]+=1,0}for(I=m,y[1]=0,y[2]=0,R=0;;){if(999===(R=function(){y[1]+=1,P=D;for(let e=1;e<=p;e+=1){P+=1,k=-d[e];for(let t=1;t<=s;t+=1)k+=c[t][e]*h[t];if(Math.abs(k)<r&&(k=0),e>v)x[P]=k;else if(x[P]=-Math.abs(k),k>0){for(let t=1;t<=s;t+=1)c[t][e]=-c[t][e];d[e]=-d[e]}}for(let e=1;e<=I;e+=1)x[D+g[e]]=0;_=0,C=0;for(let e=1;e<=p;e+=1)x[D+e]<C*x[q+e]&&(_=e,C=x[D+e]/x[q+e]);if(0===_){for(let e=1;e<=I;e+=1)u[g[e]]=x[F+e];return 999}return 0}()))return;for(;0!==(R=function(){for(let t=1;t<=s;t+=1){k=0;for(let r=1;r<=s;r+=1)k+=e[r][t]*c[r][_];x[t]=k}w=s;for(let e=1;e<=s;e+=1)x[w+e]=0;for(let t=I+1;t<=s;t+=1)for(let r=1;r<=s;r+=1)x[w+r]=x[w+r]+e[r][t]*x[t];O=!0;for(let e=I;e>=1;e-=1){k=x[e],w=(P=A+e*(e+3)/2)-e;for(let t=e+1;t<=I;t+=1)k-=x[P]*x[L+t],P+=t;k/=x[w],x[L+e]=k,!(g[e]<=v)&&(k<=0||(O=!1,E=e))}if(!O){N=x[F+E]/x[L+E];for(let e=1;e<=I;e+=1)g[e]<=v||x[L+e]<=0||(C=x[F+e]/x[L+e])<N&&(N=C,E=e)}k=0;for(let e=s+1;e<=s+s;e+=1)k+=x[e]*x[e];if(Math.abs(k)<=r){if(O)return b[1]=1,999;for(let e=1;e<=I;e+=1)x[F+e]=x[F+e]-N*x[L+e];return x[F+I+1]=x[F+I+1]+N,700}k=0;for(let e=1;e<=s;e+=1)k+=x[s+e]*c[e][_];B=-x[D+_]/k,S=!0,O||N<B&&(B=N,S=!1);for(let e=1;e<=s;e+=1)h[e]+=B*x[s+e],Math.abs(h[e])<r&&(h[e]=0);l[1]+=B*k*(B/2+x[F+I+1]);for(let e=1;e<=I;e+=1)x[F+e]=x[F+e]-B*x[L+e];if(x[F+I+1]=x[F+I+1]+B,S){g[I+=1]=_,P=A+(I-1)*I/2+1;for(let e=1;e<=I-1;e+=1)x[P]=x[e],P+=1;if(I===s)x[P]=x[s];else{for(let t=s;t>=I+1;t-=1)if(0!==x[t]&&(M=Math.max(Math.abs(x[t-1]),Math.abs(x[t])),V=Math.min(Math.abs(x[t-1]),Math.abs(x[t])),C=x[t-1]>=0?Math.abs(M*Math.sqrt(1+V*V/(M*M))):-Math.abs(M*Math.sqrt(1+V*V/(M*M))),M=x[t-1]/C,V=x[t]/C,1!==M)){if(0===M){x[t-1]=V*C;for(let r=1;r<=s;r+=1)C=e[r][t-1],e[r][t-1]=e[r][t],e[r][t]=C}else{x[t-1]=C,z=V/(1+M);for(let r=1;r<=s;r+=1)C=M*e[r][t-1]+V*e[r][t],e[r][t]=z*(e[r][t-1]+C)-e[r][t],e[r][t-1]=C}}x[P]=x[I]}}else{k=-d[_];for(let e=1;e<=s;e+=1)k+=h[e]*c[e][_];if(_>v)x[D+_]=k;else if(x[D+_]=-Math.abs(k),k>0){for(let e=1;e<=s;e+=1)c[e][_]=-c[e][_];d[_]=-d[_]}return 700}return 0}());){if(999===R)return;if(700===R){if(E===I)G();else{for(;function(){if(0!==x[w=(P=A+E*(E+1)/2+1)+E]&&(M=Math.max(Math.abs(x[w-1]),Math.abs(x[w])),V=Math.min(Math.abs(x[w-1]),Math.abs(x[w])),C=x[w-1]>=0?Math.abs(M*Math.sqrt(1+V*V/(M*M))):-Math.abs(M*Math.sqrt(1+V*V/(M*M))),M=x[w-1]/C,V=x[w]/C,1!==M)){if(0===M){for(let e=E+1;e<=I;e+=1)C=x[w-1],x[w-1]=x[w],x[w]=C,w+=e;for(let t=1;t<=s;t+=1)C=e[t][E],e[t][E]=e[t][E+1],e[t][E+1]=C}else{z=V/(1+M);for(let e=E+1;e<=I;e+=1)C=M*x[w-1]+V*x[w],x[w]=z*(x[w-1]+C)-x[w],x[w-1]=C,w+=e;for(let t=1;t<=s;t+=1)C=M*e[t][E]+V*e[t][E+1],e[t][E+1]=z*(e[t][E]+C)-e[t][E+1],e[t][E]=C}}}(),797===(R=function(){w=P-E;for(let e=1;e<=E;e+=1)x[w]=x[P],P+=1,w+=1;return x[F+E]=x[F+E+1],g[E]=g[E+1],(E+=1)<I?797:0}()););G()}}}}}}),A=u(e=>{var t=F();e.solveQP=function(e,r,n,i=[],o=0,a=[0,0]){let s=[],h=[],u=[],l=[],c=[],d=[],f="",p=e.length-1,v=n[1].length-1;if(!i)for(let e=1;e<=v;e+=1)i[e]=0;if(p!==e[1].length-1&&(f="Dmat is not symmetric!"),p!==r.length-1&&(f="Dmat and dvec are incompatible!"),p!==n.length-1&&(f="Amat and dvec are incompatible!"),v!==i.length-1&&(f="Amat and bvec are incompatible!"),(o>v||o<0)&&(f="Value of meq is invalid!"),""!==f)return{message:f};for(let e=1;e<=v;e+=1)h[e]=0,l[e]=0;let g=Math.min(p,v);for(let e=1;e<=p;e+=1)u[e]=0;s[1]=0;for(let e=1;e<=2*p+g*(g+5)/2+2*v+1;e+=1)c[e]=0;for(let e=1;e<=2;e+=1)d[e]=0;return t(e,r,p,p,u,l,s,n,i,p,v,o,h,0,d,c,a),1===a[1]&&(f="constraints are inconsistent, no solution!"),2===a[1]&&(f="matrix D in quadratic function is not positive definite!"),{solution:u,Lagrangian:l,value:s,unconstrained_solution:r,iterations:d,iact:h,message:f}}}),D=u((e,t)=>{t.exports=A()});function*q(e){let t=0;for(let r of e)yield[t++,r]}function G(e,t,r){let n=r;for(let[r,i]of q(e))n=t(n,i,r);return n}function*U(e,t){for(let[r,n]of q(e))yield t(n,r)}function $(e,t){for(let[r,n]of q(e))if(t(n,r))return!0;return!1}function Y(e){let{done:t,value:r}=e.values().next();if(!t)return e.delete(r),r}function Z(e,t,r){let n=e.get(t);void 0===n?e.set(t,[r]):n.push(r)}function H(e,t,r){let n=e.get(t);void 0===n?e.set(t,new Set([r])):n.add(r)}function W(e,...t){let[r,...n]=e;return[r].concat(...n.map((e,r)=>{let n;return[JSON.stringify(t[r],(n=new WeakSet,(e,t)=>{if("object"==typeof t&&null!==t){if(n.has(t))return"[circular]";n.add(t)}return t})),e]})).join("")}function*J(e,...t){let r=new Set,n;for(;void 0!==(n=t.pop());)r.has(n)||(yield n,r.add(n),t.push(...e(n)))}function X(e){let t=new Map;for(let r of e)for(let e of r.ichildren())Z(t,e,r);return t}c(d());var Q=class{constructor(e,t,r=[],n=!1){this.child=e,this.data=t,this.points=r,this.reversed=n}},K=class{constructor(e,t,r,n,i){this.source=e,this.target=t,this.data=r,this.points=n,this.reversed=i}},ee=class{constructor(e){e&&(this.proots=e)}[Symbol.iterator](){return this.idescendants()[Symbol.iterator]()}iroots(){return{[Symbol.iterator]:()=>this.proots[Symbol.iterator]()}}roots(){return[...this.iroots()]}*idepth(){yield*J(e=>e.ichildren(),...this.iroots())}*ibreadth(){let e=new Set,t=this.roots(),r=[];do{let n;for(r=t.reverse(),t=[];n=r.pop();)e.has(n)||(e.add(n),yield n,t.push(...n.ichildren()))}while(t.length)}*ibefore(){let e=new Map;for(let t of this)for(let r of t.ichildren())e.set(r,(e.get(r)||0)+1);let t=this.roots(),r;for(;r=t.pop();)for(let n of(yield r,r.ichildren())){let r=e.get(n);r>1?e.set(n,r-1):t.push(n)}}*iafter(){let e=this.roots(),t=new Set,r;for(;r=e.pop();)t.has(r)||(function(e,t){return!$(e,(e,r)=>!t(e,r))}(r.ichildren(),e=>t.has(e))?(t.add(r),yield r):e.push(r,...r.ichildren()))}idescendants(e="depth"){if("depth"===e)return this.idepth();if("breadth"===e)return this.ibreadth();if("before"===e)return this.ibefore();if("after"===e)return this.iafter();throw Error(`unknown iteration style: ${e}`)}descendants(e="depth"){return[...this.idescendants(e)]}ilinks(){return function*(e,t){for(let[r,n]of q(e))yield*t(n,r)}(this,e=>e.ichildLinks())}links(){return[...this.ilinks()]}size(){return G(this,e=>e+1,0)}sum(e){let t=new Map;for(let[r,n]of q(this.idescendants("after"))){let i=e(n,r),o=new Map;for(let e of(o.set(n,i),n.ichildren()))for(let[r,n]of t.get(e).entries())o.set(r,n);n.value=G(o.values(),(e,t)=>e+t,0),t.set(n,o)}return this}count(){let e=new Map;for(let t of this.idescendants("after"))if(t.ichildren()[Symbol.iterator]().next().done)e.set(t,new Set([t])),t.value=1;else{let r=new Set;for(let n of t.ichildren())for(let t of e.get(n))r.add(t);e.set(t,r),t.value=r.size}return this}height(){for(let e of this.idescendants("after"))e.value=Math.max(0,...U(e.ichildren(),e=>e.value+1));return this}depth(){let e=X(this);for(let t of this.idescendants("before"))t.value=Math.max(0,...U(e.get(t)??[],e=>e.value+1));return this}*isplit(){let e=X(this);function*t(t){yield*t.ichildren(),yield*e.get(t)??[]}let r=new Set(this.iroots());for(let e of this.iroots()){if(!r.delete(e))continue;let n=[e];for(let i of J(t,e))r.delete(i)&&n.push(i);yield n.length>1?new ee(n):n[0]}}split(){return[...this.isplit()]}connected(){let e=this.isplit()[Symbol.iterator]();e.next();let{done:t}=e.next();return!!t}multidag(){return void 0===this.pmultidag?this.pmultidag=$(this.iroots(),e=>e.multidag()):this.pmultidag}},et=class extends ee{constructor(e){super(),this.data=e,this.dataChildren=[]}childrenCountsMap(){if(void 0!==this.cachedChildrenCounts)return this.cachedChildrenCounts;{let e=new Map;for(let{child:t}of this.dataChildren)e.set(t,(e.get(t)??0)+1);return this.cachedChildrenCounts=e.size===this.dataChildren.length?null:e}}iroots(){let e=[this];return{[Symbol.iterator]:()=>e[Symbol.iterator]()}}nchildren(){return this.childrenCountsMap()?.size??this.dataChildren.length}nchildLinks(){return this.dataChildren.length}nchildLinksTo(e){return this.childrenCountsMap()?.get(e)??1}*ichildren(){let e=this.childrenCountsMap();if(null===e)for(let{child:e}of this.dataChildren)yield e;else yield*e.keys()}children(){return[...this.ichildren()]}*ichildrenCounts(){let e=this.childrenCountsMap();if(null===e)for(let{child:e}of this.dataChildren)yield[e,1];else yield*e}childrenCounts(){return[...this.ichildrenCounts()]}*ichildLinks(){for(let{child:e,data:t,points:r,reversed:n}of this.dataChildren)yield new K(this,e,t,r,n)}childLinks(){return[...this.ichildLinks()]}isplit(){return this.iroots()}split(){return this.roots()}connected(){return!0}multidag(){return void 0===this.pmultidag?this.pmultidag=null!==this.childrenCountsMap()||$(this.ichildren(),e=>e.multidag()):this.pmultidag}};function er(e){function t(t,r){return(e(t,r)??[]).map(e=>[e,void 0])}return t.wrapped=e,t}function en(e){if(function(e){try{return"string"==typeof e.id}catch{return!1}}(e))return e.id;throw Error(W`default id function expected datum to have an id field but got '${e}'`)}function ei(e){if(function(e){try{let t=e.parentIds;return void 0===t||t instanceof Array&&t.every(e=>"string"==typeof e)}catch{return!1}}(e))return e.parentIds;throw Error(`default parentIds function expected datum to have a parentIds field but got: ${e}`)}function eo(...e){if(e.length)throw Error(`got arguments to stratify(${e}), but constructor takes no arguments. These were probably meant as data which should be called as stratify()(...)`);return function e(t){function r(e){if(!e.length)throw Error("can't stratify empty data");let r=new Map;for(let[i,o]of e.entries()){let e=function(e){if("string"!=typeof e)throw Error(`id is supposed to be string but got type ${typeof e}`);return e}(t.id(o,i)),a=t.parentData(o,i)??[],s=new et(o);if(r.has(e))throw Error(`found a duplicate id: ${n}`);r.set(e,[s,a])}let i=[];for(let[e,t]of r.values()){for(let[n,i]of t){let t=r.get(n);if(!t)throw Error(`missing id: ${n}`);let[o]=t;o.dataChildren.push(new Q(e,i))}t.length||i.push(e)}let o=t.decycle?function(e){let t=new Map;for(let r of e)for(let{child:e}of r.dataChildren)Z(t,e,r);let r=new Map(U(e,e=>[e,{indeg:t.get(e)?.length??0,outdeg:e.nchildLinks(),node:e}])),n=Math.max(...U(function*(e,t){for(let[r,n]of q(e))t(n,r)&&(yield n)}(r.values(),({indeg:e,outdeg:t})=>e>0&&t>0),({indeg:e,outdeg:t})=>t-e));if(n===-1/0){let e=[];for(let{indeg:t,node:n}of r.values())0===t&&e.push(n);return e}let i=new Set,o=new Set,a=new Map;for(let e of r.values()){let{outdeg:t,indeg:r}=e;0===r?i.add(e):0===t?o.add(e):H(a,t-r,e)}let s=0,h=e.length,u=n,l=Array(e.length);for(;s<h;){var c;let e=Y(i)??Y(o)??((c=a.get(u))&&Y(c));if(void 0===e)--u;else{let{node:n,indeg:c,outdeg:d}=e;for(let i of(l[e.rank=c>0&&0===d?--h:s++]=n,t.get(n)??[])){let e=r.get(i);if(void 0===e.rank&&e.indeg>0&&e.outdeg>0){let t=e.outdeg-e.indeg;a.get(t).delete(e),--e.outdeg,e.outdeg>0?H(a,t-1,e):o.add(e)}}for(let{child:e}of n.dataChildren){let t=r.get(e);if(!(void 0!==t.rank||0===t.indeg)){if(0===t.outdeg)--t.indeg,0===t.indeg&&(o.delete(t),i.add(t));else{let e=t.outdeg-t.indeg;e===u&&++u,a.get(e).delete(t),--t.indeg,0===t.indeg?i.add(t):H(a,e+1,t)}}}}}let d=[],f=new Set;for(let[e,t]of l.entries()){let n=[];for(let i of t.dataChildren){let o=r.get(i.child);o.rank<e?o.node.dataChildren.push(new Q(t,i.data,i.points,!0)):n.push(i)}for(let{child:e}of(n.length!==t.nchildLinks()||f.has(t)||d.push(t),n))f.add(e);t.dataChildren=n}return d}([...U(r.values(),([e])=>e)]):i;return function(e,t){if(!e.length)throw Error("dag contained no roots; this often indicates a cycle");for(let t of new ee(e))for(let e of t.ichildren())if(e===t)throw Error(W`node '${t.data}' contained a self loop`);if(!t)return;let r=new Set,n=new Set,i=null;for(let t of e){let e=function e(t){if(r.has(t))return[];if(n.has(t))return i=t,[t];{n.add(t);let o=[];for(let r of t.ichildren())if((o=e(r)).length)break;return n.delete(t),r.add(t),o.length&&null!==i&&o.push(t),i===t&&(i=null),o}}(t);if(e.length){let t=e.reverse().map(({data:e})=>W`'${e}'`).join(" -> ");throw Error(`dag contained a cycle: ${t}`)}}}(o,!t.decycle),o.length>1?new ee(o):o[0]}function n(r){if(void 0===r)return t.id;{let{id:n,...i}=t;return e({...i,id:r})}}return r.id=n,r.parentData=function(r){if(void 0===r)return t.parentData;{let{parentIds:n,parentData:i,...o}=t;return e({...o,parentIds:function(e){function t(t,r){return(e(t,r)??[]).map(([e])=>e)}return t.wrapped=e,t}(r),parentData:r})}},r.parentIds=function(r){if(void 0===r)return t.parentIds;{let{parentIds:n,parentData:i,...o}=t;return e({...o,parentIds:r,parentData:er(r)})}},r.decycle=function(r){return void 0===r?t.decycle:e({...t,decycle:r})},r}({id:en,parentIds:ei,parentData:er(ei),decycle:!1})}function ea(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function es(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eh(e){let t,r,n;function i(e,n,i=0,o=e.length){if(i<o){if(0!==t(n,n))return o;do{let t=i+o>>>1;0>r(e[t],n)?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=ea,r=(t,r)=>ea(e(t),r),n=(t,r)=>e(t)-r):(t=e===ea||e===es?e:eu,r=e,n=e),{left:i,center:function(e,t,r=0,o=e.length){let a=i(e,t,r,o-1);return a>r&&n(e[a-1],t)>-n(e[a],t)?a-1:a},right:function(e,n,i=0,o=e.length){if(i<o){if(0!==t(n,n))return o;do{let t=i+o>>>1;0>=r(e[t],n)?i=t+1:o=t}while(i<o)}return i}}}function eu(){return 0}var el=eh(ea);el.right,el.left,eh(function(e){return null===e?NaN:+e}).center;var ec=Array.prototype;function ed(e,t){let r=e.findIndex(e=>e<=t);return r>=0?r:e.length}function ef(...e){if(e.length)throw Error(`got arguments to zherebko(${e}), but constructor takes no arguments.`);return function e(t,r,n,i){function o(e){let o=[],a=0,s;for(let t of e.idescendants("before"))void 0!==s&&s.nchildLinksTo(t)>1&&++a,o.push([t,a++]),s=t;let h=function(e){let t=new Map(e),r=[];for(let[n,[i,o]]of e.entries()){let a=!1,s=e[n+1]?.[0];for(let[e,{target:n}]of q(i.ichildLinks())){let h=t.get(n);s!==n||a?r.push([o,h,i,e]):a=!0}}r.sort(([e,t],[r,n])=>t===n?r-e:t-n);let n=new Map,i=[],o=[];for(let[e,t,a,s]of r){let r=n.get(a);void 0===r&&(r=[],n.set(a,r));let h=ed(o,e),u=ed(i,e);h<u?(r[s]=-h-1,o[h]=t-1):(r[s]=u+1,i[u]=t-1)}return n}(o),u=0,l=0;for(let e of h.values())for(let t of e)void 0!==t&&(u=Math.min(u,t),l=Math.max(l,t));let c=-u*n+t/2;for(let[e,t]of o)e.x=c,e.y=(t+.5)*r;for(let i of e){let e=h.get(i)??[];for(let[o,{target:a,points:s}]of q(i.ichildLinks())){s.length=0,s.push({x:i.x,y:i.y});let h=e[o];if(void 0!==h){let e=(h-u+.5)*n+(h>0?t-n:0),o=i.y+r,l=a.y-r;l-o>r/2?s.push({x:e,y:o},{x:e,y:l}):s.push({x:e,y:o})}s.push({x:a.x,y:a.y})}}let d=(l-u)*n+t,f=a*r;if(null===i)return{width:d,height:f};{let[t,r]=i;for(let[e]of o)e.x*=t/d,e.y*=r/f;for(let{points:n}of e.ilinks()){let e=n.map(({x:e,y:n})=>({x:e*t/d,y:n*r/f}));n.splice(0,n.length,...e)}return{width:t,height:r}}}return o.nodeSize=function(o){if(void 0===o)return[t,r,n];{let[t,r,n]=o;return e(t,r,n,i)}},o.size=function(o){if(void 0!==o)return e(t,r,n,o);if(null===i)return i;{let[e,t]=i;return[e,t]}},o}(1,1,1,null)}ec.slice,ec.map,c(R()),c(D()),c(d())},70681:function(e,t,r){e.exports={graphlib:r(70574),layout:r(98123),debug:r(27570),util:{time:r(11138).time,notime:r(11138).notime},version:r(88177)}},92188:function(e,t,r){"use strict";var n=r(38436),i=r(74079);e.exports={run:function(e){var t,r,o,a="greedy"===e.graph().acyclicer?i(e,function(t){return e.edge(t).weight}):(t=[],r={},o={},n.forEach(e.nodes(),function i(a){n.has(o,a)||(o[a]=!0,r[a]=!0,n.forEach(e.outEdges(a),function(e){n.has(r,e.w)?t.push(e):i(e.w)}),delete r[a])}),t);n.forEach(a,function(t){var r=e.edge(t);e.removeEdge(t),r.forwardName=t.name,r.reversed=!0,e.setEdge(t.w,t.v,r,n.uniqueId("rev"))})},undo:function(e){n.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}}},61133:function(e,t,r){var n=r(38436),i=r(11138);function o(e,t,r,n,o,a){var s=o[t][a-1],h=i.addDummyNode(e,"border",{width:0,height:0,rank:a,borderType:t},r);o[t][a]=h,e.setParent(h,n),s&&e.setEdge(s,h,{weight:1})}e.exports=function(e){n.forEach(e.children(),function t(r){var i=e.children(r),a=e.node(r);if(i.length&&n.forEach(i,t),n.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,h=a.maxRank+1;s<h;++s)o(e,"borderLeft","_bl",r,a,s),o(e,"borderRight","_br",r,a,s)}})}},53258:function(e,t,r){"use strict";var n=r(38436);function i(e){n.forEach(e.nodes(),function(t){o(e.node(t))}),n.forEach(e.edges(),function(t){o(e.edge(t))})}function o(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();("lr"===t||"rl"===t)&&i(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();("bt"===t||"rl"===t)&&(n.forEach(e.nodes(),function(t){a(e.node(t))}),n.forEach(e.edges(),function(t){var r=e.edge(t);n.forEach(r.points,a),n.has(r,"y")&&a(r)})),("lr"===t||"rl"===t)&&(n.forEach(e.nodes(),function(t){s(e.node(t))}),n.forEach(e.edges(),function(t){var r=e.edge(t);n.forEach(r.points,s),n.has(r,"x")&&s(r)}),i(e))}}},77822:function(e){function t(){var e={};e._next=e._prev=e,this._sentinel=e}function r(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function n(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return r(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&r(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,n)),r=r._prev;return"["+e.join(", ")+"]"}},27570:function(e,t,r){var n=r(38436),i=r(11138),o=r(70574).Graph;e.exports={debugOrdering:function(e){var t=i.buildLayerMatrix(e),r=new o({compound:!0,multigraph:!0}).setGraph({});return n.forEach(e.nodes(),function(t){r.setNode(t,{label:t}),r.setParent(t,"layer"+e.node(t).rank)}),n.forEach(e.edges(),function(e){r.setEdge(e.v,e.w,{},e.name)}),n.forEach(t,function(e,t){r.setNode("layer"+t,{rank:"same"}),n.reduce(e,function(e,t){return r.setEdge(e,t,{style:"invis"}),t})}),r}}},70574:function(e,t,r){var n;try{n=r(28282)}catch(e){}n||(n=window.graphlib),e.exports=n},74079:function(e,t,r){var n=r(38436),i=r(70574).Graph,o=r(77822);e.exports=function(e,t){if(1>=e.nodeCount())return[];var r,u,l,c,d,f,p=(r=t||a,u=new i,l=0,c=0,n.forEach(e.nodes(),function(e){u.setNode(e,{v:e,in:0,out:0})}),n.forEach(e.edges(),function(e){var t=u.edge(e.v,e.w)||0,n=r(e);u.setEdge(e.v,e.w,t+n),c=Math.max(c,u.node(e.v).out+=n),l=Math.max(l,u.node(e.w).in+=n)}),d=n.range(c+l+3).map(function(){return new o}),f=l+1,n.forEach(u.nodes(),function(e){h(d,f,u.node(e))}),{graph:u,buckets:d,zeroIdx:f}),v=function(e,t,r){for(var n,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;n=a.dequeue();)s(e,t,r,n);for(;n=o.dequeue();)s(e,t,r,n);if(e.nodeCount()){for(var h=t.length-2;h>0;--h)if(n=t[h].dequeue()){i=i.concat(s(e,t,r,n,!0));break}}}return i}(p.graph,p.buckets,p.zeroIdx);return n.flatten(n.map(v,function(t){return e.outEdges(t.v,t.w)}),!0)};var a=n.constant(1);function s(e,t,r,i,o){var a=o?[]:void 0;return n.forEach(e.inEdges(i.v),function(n){var i=e.edge(n),s=e.node(n.v);o&&a.push({v:n.v,w:n.w}),s.out-=i,h(t,r,s)}),n.forEach(e.outEdges(i.v),function(n){var i=e.edge(n),o=n.w,a=e.node(o);a.in-=i,h(t,r,a)}),e.removeNode(i.v),a}function h(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}},98123:function(e,t,r){"use strict";var n=r(38436),i=r(92188),o=r(45995),a=r(78093),s=r(11138).normalizeRanks,h=r(24219),u=r(11138).removeEmptyRanks,l=r(72981),c=r(61133),d=r(53258),f=r(53408),p=r(17873),v=r(11138),g=r(70574).Graph;e.exports=function(e,t){var r=t&&t.debugTiming?v.time:v.notime;r("layout",function(){var t=r("  buildLayoutGraph",function(){var t,r;return t=new g({multigraph:!0,compound:!0}),r=k(e.graph()),t.setGraph(n.merge({},y,C(r,m),n.pick(r,x))),n.forEach(e.nodes(),function(r){var i=k(e.node(r));t.setNode(r,n.defaults(C(i,b),w)),t.setParent(r,e.parent(r))}),n.forEach(e.edges(),function(r){var i=k(e.edge(r));t.setEdge(r,n.merge({},_,C(i,E),n.pick(i,I)))}),t});r("  runLayout",function(){r("    makeSpaceForEdgeLabels",function(){var e;e=t.graph(),e.ranksep/=2,n.forEach(t.edges(),function(r){var n=t.edge(r);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset)})}),r("    removeSelfEdges",function(){n.forEach(t.edges(),function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}),r("    acyclic",function(){i.run(t)}),r("    nestingGraph.run",function(){l.run(t)}),r("    rank",function(){a(v.asNonCompoundGraph(t))}),r("    injectEdgeLabelProxies",function(){n.forEach(t.edges(),function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),i={rank:(t.node(e.w).rank-n.rank)/2+n.rank,e:e};v.addDummyNode(t,"edge-proxy",i,"_ep")}})}),r("    removeEmptyRanks",function(){u(t)}),r("    nestingGraph.cleanup",function(){l.cleanup(t)}),r("    normalizeRanks",function(){s(t)}),r("    assignRankMinMax",function(){var e;e=0,n.forEach(t.nodes(),function(r){var i=t.node(r);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=n.max(e,i.maxRank))}),t.graph().maxRank=e}),r("    removeEdgeLabelProxies",function(){n.forEach(t.nodes(),function(e){var r=t.node(e);"edge-proxy"===r.dummy&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))})}),r("    normalize.run",function(){o.run(t)}),r("    parentDummyChains",function(){h(t)}),r("    addBorderSegments",function(){c(t)}),r("    order",function(){f(t)}),r("    insertSelfEdges",function(){var e;e=v.buildLayerMatrix(t),n.forEach(e,function(e){var r=0;n.forEach(e,function(e,i){var o=t.node(e);o.order=i+r,n.forEach(o.selfEdges,function(e){v.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:i+ ++r,e:e.e,label:e.label},"_se")}),delete o.selfEdges})})}),r("    adjustCoordinateSystem",function(){d.adjust(t)}),r("    position",function(){p(t)}),r("    positionSelfEdges",function(){n.forEach(t.nodes(),function(e){var r=t.node(e);if("selfedge"===r.dummy){var n=t.node(r.e.v),i=n.x+n.width/2,o=n.y,a=r.x-i,s=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],r.label.x=r.x,r.label.y=r.y}})}),r("    removeBorderNodes",function(){n.forEach(t.nodes(),function(e){if(t.children(e).length){var r=t.node(e),i=t.node(r.borderTop),o=t.node(r.borderBottom),a=t.node(n.last(r.borderLeft)),s=t.node(n.last(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(o.y-i.y),r.x=a.x+r.width/2,r.y=i.y+r.height/2}}),n.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}),r("    normalize.undo",function(){o.undo(t)}),r("    fixupEdgeLabelCoords",function(){n.forEach(t.edges(),function(e){var r=t.edge(e);if(n.has(r,"x"))switch(("l"===r.labelpos||"r"===r.labelpos)&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}})}),r("    undoCoordinateSystem",function(){d.undo(t)}),r("    translateGraph",function(){(function(e){var t=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,o=0,a=e.graph(),s=a.marginx||0,h=a.marginy||0;function u(e){var n=e.x,a=e.y,s=e.width,h=e.height;t=Math.min(t,n-s/2),r=Math.max(r,n+s/2),i=Math.min(i,a-h/2),o=Math.max(o,a+h/2)}n.forEach(e.nodes(),function(t){u(e.node(t))}),n.forEach(e.edges(),function(t){var r=e.edge(t);n.has(r,"x")&&u(r)}),t-=s,i-=h,n.forEach(e.nodes(),function(r){var n=e.node(r);n.x-=t,n.y-=i}),n.forEach(e.edges(),function(r){var o=e.edge(r);n.forEach(o.points,function(e){e.x-=t,e.y-=i}),n.has(o,"x")&&(o.x-=t),n.has(o,"y")&&(o.y-=i)}),a.width=r-t+s,a.height=o-i+h})(t)}),r("    assignNodeIntersects",function(){n.forEach(t.edges(),function(e){var r,n,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(r=i.points[0],n=i.points[i.points.length-1]):(i.points=[],r=a,n=o),i.points.unshift(v.intersectRect(o,r)),i.points.push(v.intersectRect(a,n))})}),r("    reversePoints",function(){n.forEach(t.edges(),function(e){var r=t.edge(e);r.reversed&&r.points.reverse()})}),r("    acyclic.undo",function(){i.undo(t)})}),r("  updateInputGraph",function(){n.forEach(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),n.forEach(e.edges(),function(r){var i=e.edge(r),o=t.edge(r);i.points=o.points,n.has(o,"x")&&(i.x=o.x,i.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height})})};var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],b=["width","height"],w={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],_={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},I=["labelpos"];function C(e,t){return n.mapValues(n.pick(e,t),Number)}function k(e){var t={};return n.forEach(e,function(e,r){t[r.toLowerCase()]=e}),t}},38436:function(e,t,r){var n;try{n={cloneDeep:r(50361),constant:r(75703),defaults:r(91747),each:r(66073),filter:r(63105),find:r(13311),flatten:r(85564),forEach:r(84486),forIn:r(62620),has:r(18721),isUndefined:r(52353),last:r(10928),map:r(35161),mapValues:r(66604),max:r(6162),merge:r(82492),min:r(53632),minBy:r(22762),now:r(7771),pick:r(78718),range:r(96026),reduce:r(54061),sortBy:r(89734),uniqueId:r(73955),values:r(52628),zipObject:r(7287)}}catch(e){}n||(n=window._),e.exports=n},72981:function(e,t,r){var n=r(38436),i=r(11138);e.exports={run:function(e){var t,r=i.addDummyNode(e,"root",{},"_root"),o=(t={},n.forEach(e.children(),function(r){!function r(i,o){var a=e.children(i);a&&a.length&&n.forEach(a,function(e){r(e,o+1)}),t[i]=o}(r,1)}),t),a=n.max(n.values(o))-1,s=2*a+1;e.graph().nestingRoot=r,n.forEach(e.edges(),function(t){e.edge(t).minlen*=s});var h=n.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)+1;n.forEach(e.children(),function(t){(function e(t,r,o,a,s,h,u){var l=t.children(u);if(!l.length){u!==r&&t.setEdge(r,u,{weight:0,minlen:o});return}var c=i.addBorderNode(t,"_bt"),d=i.addBorderNode(t,"_bb"),f=t.node(u);t.setParent(c,u),f.borderTop=c,t.setParent(d,u),f.borderBottom=d,n.forEach(l,function(n){e(t,r,o,a,s,h,n);var i=t.node(n),l=i.borderTop?i.borderTop:n,f=i.borderBottom?i.borderBottom:n,p=i.borderTop?a:2*a,v=l!==f?1:s-h[u]+1;t.setEdge(c,l,{weight:p,minlen:v,nestingEdge:!0}),t.setEdge(f,d,{weight:p,minlen:v,nestingEdge:!0})}),t.parent(u)||t.setEdge(r,c,{weight:0,minlen:s+h[u]})})(e,r,s,h,a,o,t)}),e.graph().nodeRankFactor=s},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,n.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},45995:function(e,t,r){"use strict";var n=r(38436),i=r(11138);e.exports={run:function(e){e.graph().dummyChains=[],n.forEach(e.edges(),function(t){(function(e,t){var r,n,o,a=t.v,s=e.node(a).rank,h=t.w,u=e.node(h).rank,l=t.name,c=e.edge(t),d=c.labelRank;if(u!==s+1){for(e.removeEdge(t),o=0,++s;s<u;++o,++s)c.points=[],n={width:0,height:0,edgeLabel:c,edgeObj:t,rank:s},r=i.addDummyNode(e,"edge",n,"_d"),s===d&&(n.width=c.width,n.height=c.height,n.dummy="edge-label",n.labelpos=c.labelpos),e.setEdge(a,r,{weight:c.weight},l),0===o&&e.graph().dummyChains.push(r),a=r;e.setEdge(a,h,{weight:c.weight},l)}})(e,t)})},undo:function(e){n.forEach(e.graph().dummyChains,function(t){var r,n=e.node(t),i=n.edgeLabel;for(e.setEdge(n.edgeObj,i);n.dummy;)r=e.successors(t)[0],e.removeNode(t),i.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),t=r,n=e.node(t)})}}},55093:function(e,t,r){var n=r(38436);e.exports=function(e,t,r){var i,o={};n.forEach(r,function(r){for(var n,a,s=e.parent(r);s;){if((n=e.parent(s))?(a=o[n],o[n]=s):(a=i,i=s),a&&a!==s){t.setEdge(a,s);return}s=n}})}},35439:function(e,t,r){var n=r(38436);e.exports=function(e,t){return n.map(t,function(t){var r=e.inEdges(t);if(!r.length)return{v:t};var i=n.reduce(r,function(t,r){var n=e.edge(r),i=e.node(r.v);return{sum:t.sum+n.weight*i.order,weight:t.weight+n.weight}},{sum:0,weight:0});return{v:t,barycenter:i.sum/i.weight,weight:i.weight}})}},23128:function(e,t,r){var n=r(38436),i=r(70574).Graph;e.exports=function(e,t,r){var o=function(e){for(var t;e.hasNode(t=n.uniqueId("_root")););return t}(e),a=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(t){return e.node(t)});return n.forEach(e.nodes(),function(i){var s=e.node(i),h=e.parent(i);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(i),a.setParent(i,h||o),n.forEach(e[r](i),function(t){var r=t.v===i?t.w:t.v,o=a.edge(r,i),s=n.isUndefined(o)?0:o.weight;a.setEdge(r,i,{weight:e.edge(t).weight+s})}),n.has(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),a}},56630:function(e,t,r){"use strict";var n=r(38436);e.exports=function(e,t){for(var r=0,i=1;i<t.length;++i)r+=function(e,t,r){for(var i=n.zipObject(r,n.map(r,function(e,t){return t})),o=n.flatten(n.map(t,function(t){return n.sortBy(n.map(e.outEdges(t),function(t){return{pos:i[t.w],weight:e.edge(t).weight}}),"pos")}),!0),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var h=n.map(Array(s),function(){return 0}),u=0;return n.forEach(o.forEach(function(e){var t=e.pos+a;h[t]+=e.weight;for(var r=0;t>0;)t%2&&(r+=h[t+1]),t=t-1>>1,h[t]+=e.weight;u+=e.weight*r})),u}(e,t[i-1],t[i]);return r}},53408:function(e,t,r){"use strict";var n=r(38436),i=r(2588),o=r(56630),a=r(61026),s=r(23128),h=r(55093),u=r(70574).Graph,l=r(11138);function c(e,t,r){return n.map(t,function(t){return s(e,t,r)})}function d(e,t){n.forEach(t,function(t){n.forEach(t,function(t,r){e.node(t).order=r})})}e.exports=function(e){var t=l.maxRank(e),r=c(e,n.range(1,t+1),"inEdges"),s=c(e,n.range(t-1,-1,-1),"outEdges"),f=i(e);d(e,f);for(var p,v=Number.POSITIVE_INFINITY,g=0,m=0;m<4;++g,++m){(function(e,t){var r=new u;n.forEach(e,function(e){var i=e.graph().root,o=a(e,i,r,t);n.forEach(o.vs,function(t,r){e.node(t).order=r}),h(e,r,o.vs)})})(g%2?r:s,g%4>=2),f=l.buildLayerMatrix(e);var y=o(e,f);y<v&&(m=0,p=n.cloneDeep(f),v=y)}d(e,p)}},2588:function(e,t,r){"use strict";var n=r(38436);e.exports=function(e){var t={},r=n.filter(e.nodes(),function(t){return!e.children(t).length}),i=n.max(n.map(r,function(t){return e.node(t).rank})),o=n.map(n.range(i+1),function(){return[]}),a=n.sortBy(r,function(t){return e.node(t).rank});return n.forEach(a,function r(i){n.has(t,i)||(t[i]=!0,o[e.node(i).rank].push(i),n.forEach(e.successors(i),r))}),o}},83678:function(e,t,r){"use strict";var n=r(38436);e.exports=function(e,t){var r={};return n.forEach(e,function(e,t){var i=r[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};n.isUndefined(e.barycenter)||(i.barycenter=e.barycenter,i.weight=e.weight)}),n.forEach(t.edges(),function(e){var t=r[e.v],i=r[e.w];n.isUndefined(t)||n.isUndefined(i)||(i.indegree++,t.out.push(r[e.w]))}),function(e){for(var t=[];e.length;){var r=e.pop();t.push(r),n.forEach(r.in.reverse(),function(e){return function(t){!t.merged&&(n.isUndefined(t.barycenter)||n.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}(r)),n.forEach(r.out,function(t){return function(r){r.in.push(t),0==--r.indegree&&e.push(r)}}(r))}return n.map(n.filter(t,function(e){return!e.merged}),function(e){return n.pick(e,["vs","i","barycenter","weight"])})}(n.filter(r,function(e){return!e.indegree}))}},61026:function(e,t,r){var n=r(38436),i=r(35439),o=r(83678),a=r(87304);e.exports=function e(t,r,s,h){var u=t.children(r),l=t.node(r),c=l?l.borderLeft:void 0,d=l?l.borderRight:void 0,f={};c&&(u=n.filter(u,function(e){return e!==c&&e!==d}));var p=i(t,u);n.forEach(p,function(r){if(t.children(r.v).length){var i=e(t,r.v,s,h);f[r.v]=i,n.has(i,"barycenter")&&(n.isUndefined(r.barycenter)?(r.barycenter=i.barycenter,r.weight=i.weight):(r.barycenter=(r.barycenter*r.weight+i.barycenter*i.weight)/(r.weight+i.weight),r.weight+=i.weight))}});var v=o(p,s);n.forEach(v,function(e){e.vs=n.flatten(e.vs.map(function(e){return f[e]?f[e].vs:e}),!0)});var g=a(v,h);if(c&&(g.vs=n.flatten([c,g.vs,d],!0),t.predecessors(c).length)){var m=t.node(t.predecessors(c)[0]),y=t.node(t.predecessors(d)[0]);n.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+m.order+y.order)/(g.weight+2),g.weight+=2}return g}},87304:function(e,t,r){var n=r(38436),i=r(11138);function o(e,t,r){for(var i;t.length&&(i=n.last(t)).i<=r;)t.pop(),e.push(i.vs),r++;return r}e.exports=function(e,t){var r,a=i.partition(e,function(e){return n.has(e,"barycenter")}),s=a.lhs,h=n.sortBy(a.rhs,function(e){return-e.i}),u=[],l=0,c=0,d=0;s.sort((r=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:r?t.i-e.i:e.i-t.i})),d=o(u,h,d),n.forEach(s,function(e){d+=e.vs.length,u.push(e.vs),l+=e.barycenter*e.weight,c+=e.weight,d=o(u,h,d)});var f={vs:n.flatten(u,!0)};return c&&(f.barycenter=l/c,f.weight=c),f}},24219:function(e,t,r){var n=r(38436);e.exports=function(e){var t,r,i=(t={},r=0,n.forEach(e.children(),function i(o){var a=r;n.forEach(e.children(o),i),t[o]={low:a,lim:r++}}),t);n.forEach(e.graph().dummyChains,function(t){for(var r=e.node(t),n=r.edgeObj,o=function(e,t,r,n){var i,o,a=[],s=[],h=Math.min(t[r].low,t[n].low),u=Math.max(t[r].lim,t[n].lim);i=r;do a.push(i=e.parent(i));while(i&&(t[i].low>h||u>t[i].lim));for(o=i,i=n;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,i,n.v,n.w),a=o.path,s=o.lca,h=0,u=a[0],l=!0;t!==n.w;){if(r=e.node(t),l){for(;(u=a[h])!==s&&e.node(u).maxRank<r.rank;)h++;u===s&&(l=!1)}if(!l){for(;h<a.length-1&&e.node(u=a[h+1]).minRank<=r.rank;)h++;u=a[h]}e.setParent(t,u),t=e.successors(t)[0]}})}},3573:function(e,t,r){"use strict";var n=r(38436),i=r(70574).Graph,o=r(11138);function a(e,t){var r={};return n.reduce(t,function(t,i){var o=0,a=0,s=t.length,u=n.last(i);return n.forEach(i,function(t,l){var c=function(e,t){if(e.node(t).dummy)return n.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),d=c?e.node(c).order:s;(c||t===u)&&(n.forEach(i.slice(a,l+1),function(t){n.forEach(e.predecessors(t),function(n){var i=e.node(n),a=i.order;(a<o||d<a)&&!(i.dummy&&e.node(t).dummy)&&h(r,n,t)})}),a=l+1,o=d)}),i}),r}function s(e,t){var r={};function i(t,i,o,a,s){var u;n.forEach(n.range(i,o),function(i){u=t[i],e.node(u).dummy&&n.forEach(e.predecessors(u),function(t){var n=e.node(t);n.dummy&&(n.order<a||n.order>s)&&h(r,t,u)})})}return n.reduce(t,function(t,r){var o,a=-1,s=0;return n.forEach(r,function(n,h){if("border"===e.node(n).dummy){var u=e.predecessors(n);u.length&&(o=e.node(u[0]).order,i(r,s,h,a,o),s=h,a=o)}i(r,s,r.length,o,t.length)}),r}),r}function h(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function u(e,t,r){if(t>r){var i=t;t=r,r=i}return n.has(e[t],r)}function l(e,t,r,i){var o={},a={},s={};return n.forEach(t,function(e){n.forEach(e,function(e,t){o[e]=e,a[e]=e,s[e]=t})}),n.forEach(t,function(e){var t=-1;n.forEach(e,function(e){var h=i(e);if(h.length)for(var l=((h=n.sortBy(h,function(e){return s[e]})).length-1)/2,c=Math.floor(l),d=Math.ceil(l);c<=d;++c){var f=h[c];a[e]===e&&t<s[f]&&!u(r,e,f)&&(a[f]=e,a[e]=o[e]=o[f],t=s[f])}})}),{root:o,align:a}}function c(e,t,r,o,a){var s,h,u,l,c,d={},f=(u=new i,s=(l=e.graph()).nodesep,h=l.edgesep,c=function(e,t,r){var i,o,u=e.node(t),l=e.node(r);if(i=0+u.width/2,n.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":o=-u.width/2;break;case"r":o=u.width/2}if(o&&(i+=a?o:-o),o=0,i+=(u.dummy?h:s)/2+(l.dummy?h:s)/2+l.width/2,n.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":o=l.width/2;break;case"r":o=-l.width/2}return o&&(i+=a?o:-o),o=0,i},n.forEach(t,function(t){var i;n.forEach(t,function(t){var n=r[t];if(u.setNode(n),i){var o=r[i],a=u.edge(o,n);u.setEdge(o,n,Math.max(c(e,t,i),a||0))}i=t})}),u),p=a?"borderLeft":"borderRight";function v(e,t){for(var r=f.nodes(),n=r.pop(),i={};n;)i[n]?e(n):(i[n]=!0,r.push(n),r=r.concat(t(n))),n=r.pop()}return v(function(e){d[e]=f.inEdges(e).reduce(function(e,t){return Math.max(e,d[t.v]+f.edge(t))},0)},f.predecessors.bind(f)),v(function(t){var r=f.outEdges(t).reduce(function(e,t){return Math.min(e,d[t.w]-f.edge(t))},Number.POSITIVE_INFINITY),n=e.node(t);r!==Number.POSITIVE_INFINITY&&n.borderType!==p&&(d[t]=Math.max(d[t],r))},f.successors.bind(f)),n.forEach(o,function(e){d[e]=d[r[e]]}),d}function d(e,t){return n.minBy(n.values(t),function(t){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return n.forIn(t,function(t,n){var o=e.node(n).width/2;r=Math.max(t+o,r),i=Math.min(t-o,i)}),r-i})}function f(e,t){var r=n.values(t),i=n.min(r),o=n.max(r);n.forEach(["u","d"],function(r){n.forEach(["l","r"],function(a){var s,h=r+a,u=e[h];if(u!==t){var l=n.values(u);(s="l"===a?i-n.min(l):o-n.max(l))&&(e[h]=n.mapValues(u,function(e){return e+s}))}})})}function p(e,t){return n.mapValues(e.ul,function(r,i){if(t)return e[t.toLowerCase()][i];var o=n.sortBy(n.map(e,i));return(o[1]+o[2])/2})}e.exports={positionX:function(e){var t,r=o.buildLayerMatrix(e),i=n.merge(a(e,r),s(e,r)),h={};n.forEach(["u","d"],function(o){t="u"===o?r:n.values(r).reverse(),n.forEach(["l","r"],function(r){"r"===r&&(t=n.map(t,function(e){return n.values(e).reverse()}));var a=("u"===o?e.predecessors:e.successors).bind(e),s=l(e,t,i,a),u=c(e,t,s.root,s.align,"r"===r);"r"===r&&(u=n.mapValues(u,function(e){return-e})),h[o+r]=u})});var u=d(e,h);return f(h,u),p(h,e.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:h,hasConflict:u,verticalAlignment:l,horizontalCompaction:c,alignCoordinates:f,findSmallestWidthAlignment:d,balance:p}},17873:function(e,t,r){"use strict";var n=r(38436),i=r(11138),o=r(3573).positionX;e.exports=function(e){var t,r,a,s;t=e=i.asNonCompoundGraph(e),r=i.buildLayerMatrix(t),a=t.graph().ranksep,s=0,n.forEach(r,function(e){var r=n.max(n.map(e,function(e){return t.node(e).height}));n.forEach(e,function(e){t.node(e).y=s+r/2}),s+=r+a}),n.forEach(o(e),function(t,r){e.node(r).x=t})}},20300:function(e,t,r){"use strict";var n=r(38436),i=r(70574).Graph,o=r(76681).slack;e.exports=function(e){var t,r,a=new i({directed:!1}),s=e.nodes()[0],h=e.nodeCount();for(a.setNode(s,{});n.forEach(a.nodes(),function t(r){n.forEach(e.nodeEdges(r),function(n){var i=n.v,s=r===i?n.w:i;a.hasNode(s)||o(e,n)||(a.setNode(s,{}),a.setEdge(r,s,{}),t(s))})}),a.nodeCount()<h;)t=function(e,t){return n.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return o(t,r)})}(a,e),r=a.hasNode(t.v)?o(e,t):-o(e,t),function(e,t,r){n.forEach(e.nodes(),function(e){t.node(e).rank+=r})}(a,e,r);return a}},78093:function(e,t,r){"use strict";var n=r(76681).longestPath,i=r(20300),o=r(42472);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:o(e);break;case"tight-tree":n(e),i(e);break;case"longest-path":a(e)}};var a=n},42472:function(e,t,r){"use strict";var n=r(38436),i=r(20300),o=r(76681).slack,a=r(76681).longestPath,s=r(70574).alg.preorder,h=r(70574).alg.postorder,u=r(11138).simplify;function l(e){a(e=u(e));var t,r,n=i(e);for(f(n),c(n,e);t=p(n);)r=v(n,e,t),g(n,e,t,r)}function c(e,t){var r=h(e,e.nodes());r=r.slice(0,r.length-1),n.forEach(r,function(r){var n;n=e.node(r).parent,e.edge(r,n).cutvalue=d(e,t,r)})}function d(e,t,r){var i=e.node(r).parent,o=!0,a=t.edge(r,i),s=0;return a||(o=!1,a=t.edge(i,r)),s=a.weight,n.forEach(t.nodeEdges(r),function(n){var a=n.v===r,h=a?n.w:n.v;if(h!==i){var u=a===o,l=t.edge(n).weight;if(s+=u?l:-l,e.hasEdge(r,h)){var c=e.edge(r,h).cutvalue;s+=u?-c:c}}}),s}function f(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,r,i,o,a){var s=i,h=t.node(o);return r[o]=!0,n.forEach(t.neighbors(o),function(a){n.has(r,a)||(i=e(t,r,i,a,o))}),h.low=s,h.lim=i++,a?h.parent=a:delete h.parent,i}(e,{},1,t)}function p(e){return n.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function v(e,t,r){var i=r.v,a=r.w;t.hasEdge(i,a)||(i=r.w,a=r.v);var s=e.node(i),h=e.node(a),u=s,l=!1;s.lim>h.lim&&(u=h,l=!0);var c=n.filter(t.edges(),function(t){return l===m(e,e.node(t.v),u)&&l!==m(e,e.node(t.w),u)});return n.minBy(c,function(e){return o(t,e)})}function g(e,t,r,i){var o,a,h=r.v,u=r.w;e.removeEdge(h,u),e.setEdge(i.v,i.w,{}),f(e),c(e,t),o=n.find(e.nodes(),function(e){return!t.node(e).parent}),a=(a=s(e,o)).slice(1),n.forEach(a,function(r){var n=e.node(r).parent,i=t.edge(r,n),o=!1;i||(i=t.edge(n,r),o=!0),t.node(r).rank=t.node(n).rank+(o?i.minlen:-i.minlen)})}function m(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}e.exports=l,l.initLowLimValues=f,l.initCutValues=c,l.calcCutValue=d,l.leaveEdge=p,l.enterEdge=v,l.exchangeEdges=g},76681:function(e,t,r){"use strict";var n=r(38436);e.exports={longestPath:function(e){var t={};n.forEach(e.sources(),function r(i){var o=e.node(i);if(n.has(t,i))return o.rank;t[i]=!0;var a=n.min(n.map(e.outEdges(i),function(t){return r(t.w)-e.edge(t).minlen}));return(a===Number.POSITIVE_INFINITY||null==a)&&(a=0),o.rank=a})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},11138:function(e,t,r){"use strict";var n=r(38436),i=r(70574).Graph;function o(e,t,r,i){var o;do o=n.uniqueId(i);while(e.hasNode(o));return r.dummy=t,e.setNode(o,r),o}function a(e){return n.max(n.map(e.nodes(),function(t){var r=e.node(t).rank;if(!n.isUndefined(r))return r}))}e.exports={addDummyNode:o,simplify:function(e){var t=new i().setGraph(e.graph());return n.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),n.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t},asNonCompoundGraph:function(e){var t=new i({multigraph:e.isMultigraph()}).setGraph(e.graph());return n.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),n.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t},successorWeights:function(e){var t=n.map(e.nodes(),function(t){var r={};return n.forEach(e.outEdges(t),function(t){r[t.w]=(r[t.w]||0)+e.edge(t).weight}),r});return n.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=n.map(e.nodes(),function(t){var r={};return n.forEach(e.inEdges(t),function(t){r[t.v]=(r[t.v]||0)+e.edge(t).weight}),r});return n.zipObject(e.nodes(),t)},intersectRect:function(e,t){var r,n,i=e.x,o=e.y,a=t.x-i,s=t.y-o,h=e.width/2,u=e.height/2;if(!a&&!s)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*h>Math.abs(a)*u?(s<0&&(u=-u),r=u*a/s,n=u):(a<0&&(h=-h),r=h,n=h*s/a),{x:i+r,y:o+n}},buildLayerMatrix:function(e){var t=n.map(n.range(a(e)+1),function(){return[]});return n.forEach(e.nodes(),function(r){var i=e.node(r),o=i.rank;n.isUndefined(o)||(t[o][i.order]=r)}),t},normalizeRanks:function(e){var t=n.min(n.map(e.nodes(),function(t){return e.node(t).rank}));n.forEach(e.nodes(),function(r){var i=e.node(r);n.has(i,"rank")&&(i.rank-=t)})},removeEmptyRanks:function(e){var t=n.min(n.map(e.nodes(),function(t){return e.node(t).rank})),r=[];n.forEach(e.nodes(),function(n){var i=e.node(n).rank-t;r[i]||(r[i]=[]),r[i].push(n)});var i=0,o=e.graph().nodeRankFactor;n.forEach(r,function(t,r){n.isUndefined(t)&&r%o!=0?--i:i&&n.forEach(t,function(t){e.node(t).rank+=i})})},addBorderNode:function(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),o(e,"border",i,t)},maxRank:a,partition:function(e,t){var r={lhs:[],rhs:[]};return n.forEach(e,function(e){t(e)?r.lhs.push(e):r.rhs.push(e)}),r},time:function(e,t){var r=n.now();try{return t()}finally{console.log(e+" time: "+(n.now()-r)+"ms")}},notime:function(e,t){return t()}}},88177:function(e){e.exports="0.8.5"},28282:function(e,t,r){var n=r(82354);e.exports={Graph:n.Graph,json:r(28974),alg:r(12440),version:n.version}},2842:function(e,t,r){var n=r(89126);e.exports=function(e){var t,r={},i=[];return n.each(e.nodes(),function(o){t=[],function i(o){n.has(r,o)||(r[o]=!0,t.push(o),n.each(e.successors(o),i),n.each(e.predecessors(o),i))}(o),t.length&&i.push(t)}),i}},53984:function(e,t,r){var n=r(89126);e.exports=function(e,t,r){n.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],a={};return n.each(t,function(t){if(!e.hasNode(t))throw Error("Graph does not have node: "+t);(function e(t,r,i,o,a,s){!n.has(o,r)&&(o[r]=!0,i||s.push(r),n.each(a(r),function(r){e(t,r,i,o,a,s)}),i&&s.push(r))})(e,t,"post"===r,a,i,o)}),o}},84847:function(e,t,r){var n=r(63763),i=r(89126);e.exports=function(e,t,r){return i.transform(e.nodes(),function(i,o){i[o]=n(e,o,t,r)},{})}},63763:function(e,t,r){var n=r(89126),i=r(75639);e.exports=function(e,t,r,n){return function(e,t,r,n){var o,a,s={},h=new i,u=function(e){var t=e.v!==o?e.v:e.w,n=s[t],i=r(e),u=a.distance+i;if(i<0)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);u<n.distance&&(n.distance=u,n.predecessor=o,h.decrease(t,u))};for(e.nodes().forEach(function(e){var r=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:r},h.add(e,r)});h.size()>0&&(a=s[o=h.removeMin()]).distance!==Number.POSITIVE_INFINITY;)n(o).forEach(u);return s}(e,String(t),r||o,n||function(t){return e.outEdges(t)})};var o=n.constant(1)},9096:function(e,t,r){var n=r(89126),i=r(5023);e.exports=function(e){return n.filter(i(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},38924:function(e,t,r){var n=r(89126);e.exports=function(e,t,r){var n,o,a,s;return n=t||i,o=r||function(t){return e.outEdges(t)},a={},(s=e.nodes()).forEach(function(e){a[e]={},a[e][e]={distance:0},s.forEach(function(t){e!==t&&(a[e][t]={distance:Number.POSITIVE_INFINITY})}),o(e).forEach(function(t){var r=t.v===e?t.w:t.v,i=n(t);a[e][r]={distance:i,predecessor:e}})}),s.forEach(function(e){var t=a[e];s.forEach(function(r){var n=a[r];s.forEach(function(r){var i=n[e],o=t[r],a=n[r],s=i.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)})})}),a};var i=n.constant(1)},12440:function(e,t,r){e.exports={components:r(2842),dijkstra:r(63763),dijkstraAll:r(84847),findCycles:r(9096),floydWarshall:r(38924),isAcyclic:r(62707),postorder:r(58828),preorder:r(92648),prim:r(80514),tarjan:r(5023),topsort:r(2166)}},62707:function(e,t,r){var n=r(2166);e.exports=function(e){try{n(e)}catch(e){if(e instanceof n.CycleException)return!1;throw e}return!0}},58828:function(e,t,r){var n=r(53984);e.exports=function(e,t){return n(e,t,"post")}},92648:function(e,t,r){var n=r(53984);e.exports=function(e,t){return n(e,t,"pre")}},80514:function(e,t,r){var n=r(89126),i=r(30771),o=r(75639);e.exports=function(e,t){var r,a=new i,s={},h=new o;function u(e){var n=e.v===r?e.w:e.v,i=h.priority(n);if(void 0!==i){var o=t(e);o<i&&(s[n]=r,h.decrease(n,o))}}if(0===e.nodeCount())return a;n.each(e.nodes(),function(e){h.add(e,Number.POSITIVE_INFINITY),a.setNode(e)}),h.decrease(e.nodes()[0],0);for(var l=!1;h.size()>0;){if(r=h.removeMin(),n.has(s,r))a.setEdge(r,s[r]);else if(l)throw Error("Input graph is not connected: "+e);else l=!0;e.nodeEdges(r).forEach(u)}return a}},5023:function(e,t,r){var n=r(89126);e.exports=function(e){var t=0,r=[],i={},o=[];return e.nodes().forEach(function(a){n.has(i,a)||function a(s){var h=i[s]={onStack:!0,lowlink:t,index:t++};if(r.push(s),e.successors(s).forEach(function(e){n.has(i,e)?i[e].onStack&&(h.lowlink=Math.min(h.lowlink,i[e].index)):(a(e),h.lowlink=Math.min(h.lowlink,i[e].lowlink))}),h.lowlink===h.index){var u,l=[];do i[u=r.pop()].onStack=!1,l.push(u);while(s!==u);o.push(l)}}(a)}),o}},2166:function(e,t,r){var n=r(89126);function i(e){var t={},r={},i=[];if(n.each(e.sinks(),function a(s){if(n.has(r,s))throw new o;n.has(t,s)||(r[s]=!0,t[s]=!0,n.each(e.predecessors(s),a),delete r[s],i.push(s))}),n.size(t)!==e.nodeCount())throw new o;return i}function o(){}e.exports=i,i.CycleException=o,o.prototype=Error()},75639:function(e,t,r){var n=r(89126);function i(){this._arr=[],this._keyIndices={}}e.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(e){return e.key})},i.prototype.has=function(e){return n.has(this._keyIndices,e)},i.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},i.prototype.min=function(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(e,t){var r=this._keyIndices;if(e=String(e),!n.has(r,e)){var i=this._arr,o=i.length;return r[e]=o,i.push({key:e,priority:t}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},i.prototype.decrease=function(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r)},i.prototype._heapify=function(e){var t=this._arr,r=2*e,n=r+1,i=e;r<t.length&&(i=t[r].priority<t[i].priority?r:i,n<t.length&&(i=t[n].priority<t[i].priority?n:i),i!==e&&(this._swap(e,i),this._heapify(i)))},i.prototype._decrease=function(e){for(var t,r=this._arr,n=r[e].priority;0!==e&&!(r[t=e>>1].priority<n);)this._swap(e,t),e=t},i.prototype._swap=function(e,t){var r=this._arr,n=this._keyIndices,i=r[e],o=r[t];r[e]=o,r[t]=i,n[o.key]=e,n[i.key]=t}},30771:function(e,t,r){"use strict";var n=r(89126);function i(e){this._isDirected=!n.has(e,"directed")||e.directed,this._isMultigraph=!!n.has(e,"multigraph")&&e.multigraph,this._isCompound=!!n.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=n.constant(void 0),this._defaultEdgeLabelFn=n.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function o(e,t){e[t]?e[t]++:e[t]=1}function a(e,t){--e[t]||delete e[t]}function s(e,t,r,i){var o=""+t,a=""+r;if(!e&&o>a){var s=o;o=a,a=s}return o+"\x01"+a+"\x01"+(n.isUndefined(i)?"\0":i)}function h(e,t){return s(e,t.v,t.w,t.name)}e.exports=i,i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(e){return this._label=e,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(e){return n.isFunction(e)||(e=n.constant(e)),this._defaultNodeLabelFn=e,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return n.keys(this._nodes)},i.prototype.sources=function(){var e=this;return n.filter(this.nodes(),function(t){return n.isEmpty(e._in[t])})},i.prototype.sinks=function(){var e=this;return n.filter(this.nodes(),function(t){return n.isEmpty(e._out[t])})},i.prototype.setNodes=function(e,t){var r=arguments,i=this;return n.each(e,function(e){r.length>1?i.setNode(e,t):i.setNode(e)}),this},i.prototype.setNode=function(e,t){return n.has(this._nodes,e)?arguments.length>1&&(this._nodes[e]=t):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this},i.prototype.node=function(e){return this._nodes[e]},i.prototype.hasNode=function(e){return n.has(this._nodes,e)},i.prototype.removeNode=function(e){var t=this;if(n.has(this._nodes,e)){var r=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],n.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),n.each(n.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],n.each(n.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},i.prototype.setParent=function(e,t){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(n.isUndefined(t))t="\0";else{t+="";for(var r=t;!n.isUndefined(r);r=this.parent(r))if(r===e)throw Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},i.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},i.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},i.prototype.children=function(e){if(n.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return n.keys(t)}else if("\0"===e)return this.nodes();else if(this.hasNode(e))return[]},i.prototype.predecessors=function(e){var t=this._preds[e];if(t)return n.keys(t)},i.prototype.successors=function(e){var t=this._sucs[e];if(t)return n.keys(t)},i.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return n.union(t,this.successors(e))},i.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},i.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;n.each(this._nodes,function(r,n){e(n)&&t.setNode(n,r)}),n.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,r.edge(e))});var i={};return this._isCompound&&n.each(t.nodes(),function(e){t.setParent(e,function e(n){var o=r.parent(n);return void 0===o||t.hasNode(o)?(i[n]=o,o):o in i?i[o]:e(o)}(e))}),t},i.prototype.setDefaultEdgeLabel=function(e){return n.isFunction(e)||(e=n.constant(e)),this._defaultEdgeLabelFn=e,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return n.values(this._edgeObjs)},i.prototype.setPath=function(e,t){var r=this,i=arguments;return n.reduce(e,function(e,n){return i.length>1?r.setEdge(e,n,t):r.setEdge(e,n),n}),this},i.prototype.setEdge=function(){var e,t,r,i,a=!1,h=arguments[0];"object"==typeof h&&null!==h&&"v"in h?(e=h.v,t=h.w,r=h.name,2==arguments.length&&(i=arguments[1],a=!0)):(e=h,t=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],a=!0)),e=""+e,t=""+t,n.isUndefined(r)||(r=""+r);var u=s(this._isDirected,e,t,r);if(n.has(this._edgeLabels,u))return a&&(this._edgeLabels[u]=i),this;if(!n.isUndefined(r)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=a?i:this._defaultEdgeLabelFn(e,t,r);var l=function(e,t,r,n){var i=""+t,o=""+r;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return n&&(s.name=n),s}(this._isDirected,e,t,r);return e=l.v,t=l.w,Object.freeze(l),this._edgeObjs[u]=l,o(this._preds[t],e),o(this._sucs[e],t),this._in[t][u]=l,this._out[e][u]=l,this._edgeCount++,this},i.prototype.edge=function(e,t,r){var n=1==arguments.length?h(this._isDirected,arguments[0]):s(this._isDirected,e,t,r);return this._edgeLabels[n]},i.prototype.hasEdge=function(e,t,r){var i=1==arguments.length?h(this._isDirected,arguments[0]):s(this._isDirected,e,t,r);return n.has(this._edgeLabels,i)},i.prototype.removeEdge=function(e,t,r){var n=1==arguments.length?h(this._isDirected,arguments[0]):s(this._isDirected,e,t,r),i=this._edgeObjs[n];return i&&(e=i.v,t=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],a(this._preds[t],e),a(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this},i.prototype.inEdges=function(e,t){var r=this._in[e];if(r){var i=n.values(r);return t?n.filter(i,function(e){return e.v===t}):i}},i.prototype.outEdges=function(e,t){var r=this._out[e];if(r){var i=n.values(r);return t?n.filter(i,function(e){return e.w===t}):i}},i.prototype.nodeEdges=function(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))}},82354:function(e,t,r){e.exports={Graph:r(30771),version:r(49631)}},28974:function(e,t,r){var n=r(89126),i=r(30771);e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:n.map(e.nodes(),function(t){var r=e.node(t),i=e.parent(t),o={v:t};return n.isUndefined(r)||(o.value=r),n.isUndefined(i)||(o.parent=i),o}),edges:n.map(e.edges(),function(t){var r=e.edge(t),i={v:t.v,w:t.w};return n.isUndefined(t.name)||(i.name=t.name),n.isUndefined(r)||(i.value=r),i})};return n.isUndefined(e.graph())||(t.value=n.clone(e.graph())),t},read:function(e){var t=new i(e.options).setGraph(e.value);return n.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),n.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},89126:function(e,t,r){var n;try{n={clone:r(66678),constant:r(75703),each:r(66073),filter:r(63105),has:r(18721),isArray:r(1469),isEmpty:r(41609),isFunction:r(23560),isUndefined:r(52353),keys:r(3674),map:r(35161),reduce:r(54061),size:r(84238),transform:r(68718),union:r(93386),values:r(52628)}}catch(e){}n||(n=window._),e.exports=n},49631:function(e){e.exports="2.1.8"},62663:function(e){e.exports=function(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}},48983:function(e,t,r){var n=r(40371)("length");e.exports=n},86556:function(e,t,r){var n=r(89465),i=r(77813);e.exports=function(e,t,r){(void 0===r||i(e[t],r))&&(void 0!==r||t in e)||n(e,t,r)}},80760:function(e,t,r){var n=r(89881);e.exports=function(e,t){var r=[];return n(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}},78565:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,r){return null!=e&&t.call(e,r)}},42980:function(e,t,r){var n=r(46384),i=r(86556),o=r(28483),a=r(59783),s=r(13218),h=r(81704),u=r(36390);e.exports=function e(t,r,l,c,d){t!==r&&o(r,function(o,h){if(d||(d=new n),s(o))a(t,r,h,l,e,c,d);else{var f=c?c(u(t,h),o,h+"",t,r,d):void 0;void 0===f&&(f=o),i(t,h,f)}},h)}},59783:function(e,t,r){var n=r(86556),i=r(64626),o=r(77133),a=r(278),s=r(38517),h=r(35694),u=r(1469),l=r(29246),c=r(44144),d=r(23560),f=r(13218),p=r(68630),v=r(36719),g=r(36390),m=r(59881);e.exports=function(e,t,r,y,x,b,w){var E=g(e,r),_=g(t,r),I=w.get(_);if(I){n(e,r,I);return}var C=b?b(E,_,r+"",e,t,w):void 0,k=void 0===C;if(k){var N=u(_),B=!N&&c(_),M=!N&&!B&&v(_);C=_,N||B||M?u(E)?C=E:l(E)?C=a(E):B?(k=!1,C=i(_,!0)):M?(k=!1,C=o(_,!0)):C=[]:p(_)||h(_)?(C=E,h(E)?C=m(E):(!f(E)||d(E))&&(C=s(_))):k=!1}k&&(w.set(_,C),x(C,_,y,b,w),w.delete(_)),n(e,r,C)}},25970:function(e,t,r){var n=r(63012),i=r(79095);e.exports=function(e,t){return n(e,t,function(t,r){return i(e,r)})}},63012:function(e,t,r){var n=r(97786),i=r(10611),o=r(71811);e.exports=function(e,t,r){for(var a=-1,s=t.length,h={};++a<s;){var u=t[a],l=n(e,u);r(l,u)&&i(h,o(u,e),l)}return h}},10107:function(e){e.exports=function(e,t,r,n,i){return i(e,function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)}),r}},10611:function(e,t,r){var n=r(34865),i=r(71811),o=r(65776),a=r(13218),s=r(40327);e.exports=function(e,t,r,h){if(!a(e))return e;t=i(t,e);for(var u=-1,l=t.length,c=l-1,d=e;null!=d&&++u<l;){var f=s(t[u]),p=r;if("__proto__"===f||"constructor"===f||"prototype"===f)break;if(u!=c){var v=d[f];void 0===(p=h?h(v,f,d):void 0)&&(p=a(v)?v:o(t[u+1])?[]:{})}n(d,f,p),d=d[f]}return e}},47415:function(e,t,r){var n=r(29932);e.exports=function(e,t){return n(t,function(t){return e[t]})}},1757:function(e){e.exports=function(e,t,r){for(var n=-1,i=e.length,o=t.length,a={};++n<i;){var s=n<o?t[n]:void 0;r(a,e[n],s)}return a}},54290:function(e,t,r){var n=r(6557);e.exports=function(e){return"function"==typeof e?e:n}},21463:function(e,t,r){var n=r(5976),i=r(16612);e.exports=function(e){return n(function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var h=r[n];h&&e(t,h,n,a)}return t})}},99021:function(e,t,r){var n=r(85564),i=r(45357),o=r(30061);e.exports=function(e){return o(i(e,void 0,n),e+"")}},36390:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},88016:function(e,t,r){var n=r(48983),i=r(62689),o=r(21903);e.exports=function(e){return i(e)?o(e):n(e)}},21903:function(e){var t="\ud800-\udfff",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\ud83c[\udffb-\udfff]",i="[^"+t+"]",o="(?:\ud83c[\udde6-\uddff]){2}",a="[\ud800-\udbff][\udc00-\udfff]",s="(?:"+r+"|"+n+")?",h="[\\ufe0e\\ufe0f]?",u="(?:\\u200d(?:"+[i,o,a].join("|")+")"+h+s+")*",l=RegExp(n+"(?="+n+")|(?:"+[i+r+"?",r,o,a,"["+t+"]"].join("|")+")"+(h+s+u),"g");e.exports=function(e){for(var t=l.lastIndex=0;l.test(e);)++t;return t}},50361:function(e,t,r){var n=r(85990);e.exports=function(e){return n(e,5)}},91747:function(e,t,r){var n=r(5976),i=r(77813),o=r(16612),a=r(81704),s=Object.prototype,h=s.hasOwnProperty,u=n(function(e,t){e=Object(e);var r=-1,n=t.length,u=n>2?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(n=1);++r<n;)for(var l=t[r],c=a(l),d=-1,f=c.length;++d<f;){var p=c[d],v=e[p];(void 0===v||i(v,s[p])&&!h.call(e,p))&&(e[p]=l[p])}return e});e.exports=u},66073:function(e,t,r){e.exports=r(84486)},63105:function(e,t,r){var n=r(34963),i=r(80760),o=r(67206),a=r(1469);e.exports=function(e,t){return(a(e)?n:i)(e,o(t,3))}},85564:function(e,t,r){var n=r(21078);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},84486:function(e,t,r){var n=r(77412),i=r(89881),o=r(54290),a=r(1469);e.exports=function(e,t){return(a(e)?n:i)(e,o(t))}},62620:function(e,t,r){var n=r(28483),i=r(54290),o=r(81704);e.exports=function(e,t){return null==e?e:n(e,i(t),o)}},18721:function(e,t,r){var n=r(78565),i=r(222);e.exports=function(e,t){return null!=e&&i(e,t,n)}},29246:function(e,t,r){var n=r(98612),i=r(37005);e.exports=function(e){return i(e)&&n(e)}},41609:function(e,t,r){var n=r(280),i=r(64160),o=r(35694),a=r(1469),s=r(98612),h=r(44144),u=r(25726),l=r(36719),c=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||h(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(c.call(e,r))return!1;return!0}},68630:function(e,t,r){var n=r(44239),i=r(85924),o=r(37005),a=Object.prototype,s=Function.prototype.toString,h=a.hasOwnProperty,u=s.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var r=h.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==u}},52353:function(e){e.exports=function(e){return void 0===e}},82492:function(e,t,r){var n=r(42980),i=r(21463)(function(e,t,r){n(e,t,r)});e.exports=i},22762:function(e,t,r){var n=r(56029),i=r(67206),o=r(70433);e.exports=function(e,t){return e&&e.length?n(e,i(t,2),o):void 0}},78718:function(e,t,r){var n=r(25970),i=r(99021)(function(e,t){return null==e?{}:n(e,t)});e.exports=i},54061:function(e,t,r){var n=r(62663),i=r(89881),o=r(67206),a=r(10107),s=r(1469);e.exports=function(e,t,r){var h=s(e)?n:a,u=arguments.length<3;return h(e,o(t,4),r,u,i)}},84238:function(e,t,r){var n=r(280),i=r(64160),o=r(98612),a=r(47037),s=r(88016);e.exports=function(e){if(null==e)return 0;if(o(e))return a(e)?s(e):e.length;var t=i(e);return"[object Map]"==t||"[object Set]"==t?e.size:n(e).length}},59881:function(e,t,r){var n=r(98363),i=r(81704);e.exports=function(e){return n(e,i(e))}},68718:function(e,t,r){var n=r(77412),i=r(3118),o=r(47816),a=r(67206),s=r(85924),h=r(1469),u=r(44144),l=r(23560),c=r(13218),d=r(36719);e.exports=function(e,t,r){var f=h(e),p=f||u(e)||d(e);if(t=a(t,4),null==r){var v=e&&e.constructor;r=p?f?new v:[]:c(e)&&l(v)?i(s(e)):{}}return(p?n:o)(e,function(e,n,i){return t(r,e,n,i)}),r}},93386:function(e,t,r){var n=r(21078),i=r(5976),o=r(45652),a=r(29246),s=i(function(e){return o(n(e,1,a,!0))});e.exports=s},73955:function(e,t,r){var n=r(79833),i=0;e.exports=function(e){var t=++i;return n(e)+t}},52628:function(e,t,r){var n=r(47415),i=r(3674);e.exports=function(e){return null==e?[]:n(e,i(e))}},7287:function(e,t,r){var n=r(34865),i=r(1757);e.exports=function(e,t){return i(e||[],t||[],n)}},49379:function(e,t,r){"use strict";r.d(t,{$0Z:function(){return S.ZP},ak_:function(){return R.s},bT9:function(){return h},jvg:function(){return _.Z},h5h:function(){return O},Ys:function(){return x.Z},td_:function(){return E},G_s:function(){return y}}),r(84249);let{abs:n,max:i,min:o}=Math;function a(e){return{type:e}}function s(e){var t=0,r=e.children,n=r&&r.length;if(n)for(;--n>=0;)t+=r[n].value;else t=1;e.value=t}function h(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=l)):void 0===t&&(t=u);for(var r,n,i,o,a,s=new f(e),h=[s];r=h.pop();)if((i=t(r.data))&&(a=(i=Array.from(i)).length))for(r.children=i,o=a-1;o>=0;--o)h.push(n=i[o]=new f(i[o])),n.parent=r,n.depth=r.depth+1;return s.eachBefore(d)}function u(e){return e.children}function l(e){return Array.isArray(e)?e[1]:null}function c(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function d(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function f(e){this.data=e,this.depth=this.height=0,this.parent=null}function p(e,t){return e.parent===t.parent?1:2}function v(e){var t=e.children;return t?t[0]:e.t}function g(e){var t=e.children;return t?t[t.length-1]:e.t}function m(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function y(){var e=p,t=1,r=1,n=null;function i(i){var h=function(e){for(var t,r,n,i,o,a=new m(e,0),s=[a];t=s.pop();)if(n=t._.children)for(t.children=Array(o=n.length),i=o-1;i>=0;--i)s.push(r=t.children[i]=new m(n[i],i)),r.parent=t;return(a.parent=new m(null,0)).children=[a],a}(i);if(h.eachAfter(o),h.parent.m=-h.z,h.eachBefore(a),n)i.eachBefore(s);else{var u=i,l=i,c=i;i.eachBefore(function(e){e.x<u.x&&(u=e),e.x>l.x&&(l=e),e.depth>c.depth&&(c=e)});var d=u===l?1:e(u,l)/2,f=d-u.x,p=t/(l.x+d+f),v=r/(c.depth||1);i.eachBefore(function(e){e.x=(e.x+f)*p,e.y=e.depth*v})}return i}function o(t){var r=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(r){!function(e){for(var t,r=0,n=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=r,t.m+=r,r+=t.s+(n+=t.c)}(t);var o=(r[0].z+r[r.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,r,n){if(r){for(var i,o,a,s=t,h=t,u=r,l=s.parent.children[0],c=s.m,d=h.m,f=u.m,p=l.m;u=g(u),s=v(s),u&&s;)l=v(l),(h=g(h)).a=t,(a=u.z+f-s.z-c+e(u._,s._))>0&&(function(e,t,r){var n=r/(t.i-e.i);t.c-=n,t.s+=r,e.c+=n,t.z+=r,t.m+=r}((i=u,o=n,i.a.parent===t.parent?i.a:o),t,a),c+=a,d+=a),f+=u.m,c+=s.m,p+=l.m,d+=h.m;u&&!g(h)&&(h.t=u,h.m+=f-d),s&&!v(l)&&(l.t=s,l.m+=c-p,n=t)}return n}(t,i,t.parent.A||n[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*r}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(n=!1,t=+e[0],r=+e[1],i):n?null:[t,r]},i.nodeSize=function(e){return arguments.length?(n=!0,t=+e[0],r=+e[1],i):n?[t,r]:null},i}["w","e"].map(a),["n","s"].map(a),["n","w","e","s","nw","ne","sw","se"].map(a),f.prototype=h.prototype={constructor:f,count:function(){return this.eachAfter(s)},each:function(e,t){let r=-1;for(let n of this)e.call(t,n,++r,this);return this},eachAfter:function(e,t){for(var r,n,i,o=this,a=[o],s=[],h=-1;o=a.pop();)if(s.push(o),r=o.children)for(n=0,i=r.length;n<i;++n)a.push(r[n]);for(;o=s.pop();)e.call(t,o,++h,this);return this},eachBefore:function(e,t){for(var r,n,i=this,o=[i],a=-1;i=o.pop();)if(e.call(t,i,++a,this),r=i.children)for(n=r.length-1;n>=0;--n)o.push(r[n]);return this},find:function(e,t){let r=-1;for(let n of this)if(e.call(t,n,++r,this))return n},sum:function(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,i=n&&n.length;--i>=0;)r+=n[i].value;t.value=r})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,r=function(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),i=null;for(e=r.pop(),t=n.pop();e===t;)i=e,e=r.pop(),t=n.pop();return i}(t,e),n=[t];t!==r;)n.push(t=t.parent);for(var i=n.length;e!==r;)n.splice(i,0,e),e=e.parent;return n},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t},copy:function(){return h(this).eachBefore(c)},[Symbol.iterator]:function*(){var e,t,r,n,i=this,o=[i];do for(e=o.reverse(),o=[];i=e.pop();)if(yield i,t=i.children)for(r=0,n=t.length;r<n;++r)o.push(t[r]);while(o.length)}},m.prototype=Object.create(f.prototype);var x=r(23838),b=r(79898),w=r(75147);function E(e){return"string"==typeof e?new w.Y1([document.querySelectorAll(e)],[document.documentElement]):new w.Y1([(0,b.Z)(e)],w.Jz)}var _=r(47281),I=r(79906),C=r(94788),k=r(20309);class N{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function B(e){return new N(e,!0)}var M=r(26810);function V(e){return e.source}function z(e){return e.target}function O(){return function(e){let t=V,r=z,n=M.x,i=M.y,o=null,a=null;function s(){let s;let h=C.t.call(arguments),u=t.apply(this,h),l=r.apply(this,h);if(null==o&&(a=e(s=(0,I.Z)())),a.lineStart(),h[0]=u,a.point(+n.apply(this,h),+i.apply(this,h)),h[0]=l,a.point(+n.apply(this,h),+i.apply(this,h)),a.lineEnd(),s)return a=null,s+""||null}return s.source=function(e){return arguments.length?(t=e,s):t},s.target=function(e){return arguments.length?(r=e,s):r},s.x=function(e){return arguments.length?(n="function"==typeof e?e:(0,k.Z)(+e),s):n},s.y=function(e){return arguments.length?(i="function"==typeof e?e:(0,k.Z)(+e),s):i},s.context=function(t){return arguments.length?(null==t?o=a=null:a=e(o=t),s):o},s}(B)}var S=r(18990),R=r(69786);r(7591)}}]);