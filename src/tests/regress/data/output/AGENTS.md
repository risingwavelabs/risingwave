# AGENTS.md - PostgreSQL Regression Test Output Directory

## 1. Scope

Policies for `src/tests/regress/data/output` - runtime output directory for PostgreSQL regression test results.

## 2. Purpose

This directory stores generated output files during regression test execution:

- **Runtime output**: Actual query results during test execution
- **Comparison base**: Compared against expected outputs in `../expected/`
- **Debugging aid**: Failed test outputs help diagnose issues
- **Gitignored**: Contents are not version controlled (regenerated each run)
- **Cleanup**: Should be cleaned before each test run

Output files are temporary artifacts used during testing.

## 3. Structure

```
src/tests/regress/data/output/
└── (generated during test execution)
    ├── aggregates.out        # Actual aggregate test results
├── join.out                # Actual JOIN test results
    └── *.out                 # One file per test
```

## 4. Key Files

| File | Purpose |
|------|---------|
| `*.out` | Generated output files (temporary, gitignored) |

## 5. Edit Rules (Must)

- Directory is gitignored - do not commit contents
- Clean before test runs to avoid stale results
- Review diffs when tests fail
- Remove after debugging completed

## 6. Forbidden Changes (Must Not)

- Commit output files to version control
- Rely on output persistence between runs
- Modify output files manually to fix tests

## 7. Test Entry

| Test Type | Entry Command |
|-----------|---------------|
| Run tests | `cargo run -p risingwave_regress_test -- ...` |
| Clean output | `rm -rf ./src/tests/regress/data/output/*` |

## 8. Dependencies & Contracts

- Generated by: `risingwave_regress_test` runner
- Compared against: `../expected/*.out`
- Lifecycle: Temporary, regenerated each test run

## 9. Overrides

None. Inherits all rules from parent `/home/k11/risingwave/src/tests/regress/data/AGENTS.md`.

## 10. Update Triggers

Regenerate this file when:
- Output directory usage changes
- Gitignore rules modified

## 11. Metadata

- Created: 2025-02-22
- Version: 1.0
- Parent: /home/k11/risingwave/src/tests/regress/data/AGENTS.md
