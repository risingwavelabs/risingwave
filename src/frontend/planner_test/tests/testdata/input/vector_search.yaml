- sql: |
    create table items (id int primary key, embedding vector(3));
    SELECT * FROM (select *, _rw_timestamp, embedding <-> '[3,1,2]' as distance  from items) order by distance limit 5;
  expected_outputs:
      - logical_plan
      - optimized_logical_plan_for_batch
      - batch_plan
- sql: |
    create table items (id int primary key, embedding vector(3));
    select count(*), id from (SELECT embedding, id FROM (select id, _rw_timestamp, embedding <-> '[3,1,2]' as distance, embedding  from items) order by distance limit 5) group by id;
  expected_outputs:
    - logical_plan
    - optimized_logical_plan_for_batch
    - batch_plan
- sql: |
    create table items (id int primary key, embedding vector(3));
    SELECT embedding, distance, id FROM (select id, _rw_timestamp, embedding <-> '[3,1,2]' as distance, embedding  from items) order by distance limit 5;
  expected_outputs:
    - logical_plan
    - optimized_logical_plan_for_batch
    - batch_plan